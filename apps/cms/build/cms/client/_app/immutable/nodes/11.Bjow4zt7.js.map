{"version":3,"file":"11.Bjow4zt7.js","sources":["../../../../../../src/routes/config/import-export/+page.svelte"],"sourcesContent":["<!--\n@file src/routes/(app)/config/import-export/+page.svelte\n @component\n **Client-side UI for configuration import/export**\n\n### Purpose:\nProvides a simple page-level interface to call the centralized,\nprotected import/export API endpoints. All heavy lifting (auth,\nvalidation, batch processing, formats, per-collection handling)\nis handled in reusable backend APIs.\n\n### Features:\n- Displays authenticated user info (from +page.server.ts).\n- Provides a button to download/export current config via API.\n- Allows uploading a JSON file to trigger import via API.\n- Shows import results or errors in a formatted preview block.\n- Indicates loading state for both import and export actions.\n- Ensures UX safety by disabling buttons and resetting file inputs.\n-->\n\n<script lang=\"ts\">\n\t// Components\n\timport PageTitle from '@cms/components/PageTitle.svelte';\n\timport ImportExportManager from '@cms/components/admin/ImportExportManager.svelte';\n</script>\n\n<svelte:head>\n\t<title>Import & Export - SveltyCMS</title>\n\t<meta name=\"description\" content=\"Import and export your collections data for backup and migration purposes.\" />\n</svelte:head>\n\n<header class=\"mb-6\">\n\t<PageTitle name=\"Import & Export\" icon=\"mdi:database-import\" showBackButton={true} backUrl=\"/config\" />\n\n\t<div class=\"mt-4 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20\">\n\t\t<div class=\"flex items-start space-x-3\">\n\t\t\t<iconify-icon icon=\"mdi:information\" width=\"24\" class=\"mt-1 text-tertiary-500 dark:text-primary-500\"></iconify-icon>\n\t\t\t<div>\n\t\t\t\t<p class=\"mb-2 font-semibold\">Data Management Tools:</p>\n\t\t\t\t<ul class=\"list-none space-y-1 text-sm\">\n\t\t\t\t\t<li class=\"flex\">\n\t\t\t\t\t\t<span class=\"w-24 font-semibold text-tertiary-500 dark:text-primary-500\">Export:</span>\n\t\t\t\t\t\t<span>Create backups of your collections data in JSON or CSV format</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"flex\">\n\t\t\t\t\t\t<span class=\"w-24 font-semibold text-tertiary-500 dark:text-primary-500\">Import:</span>\n\t\t\t\t\t\t<span>Restore data from previous backups or migrate from other systems</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"flex\">\n\t\t\t\t\t\t<span class=\"w-24 font-semibold text-tertiary-500 dark:text-primary-500\">Security:</span>\n\t\t\t\t\t\t<span>All operations are performed server-side - your data never leaves your server</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"flex\">\n\t\t\t\t\t\t<span class=\"w-24 font-semibold text-tertiary-500 dark:text-primary-500\">Validation:</span>\n\t\t\t\t\t\t<span>Import process includes data validation and error reporting</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</header>\n\n<!-- <div class=\"space-y-6\">\n\t<div>\n\t\t<h2 class=\"text-2xl font-bold text-gray-900 dark:text-white\">Data Import & Export</h2>\n\t\t<p class=\"mt-1 text-gray-600 dark:text-gray-400\">Backup and restore your collection data</p>\n\t</div>\n\n\t<p class=\"text-sm\">\n\t\tWelcome <span class=\"font-bold text-primary-500\">{user.username}</span>\n\t\t({user.role})\n\t</p>\n\n\t<div class=\"flex gap-3\">\n\t\t<section class=\"card p-4 md:p-6\">\n\t\t\t<h3 class=\"h3 mb-4\">Export Configuration</h3>\n\t\t\t<p class=\"mb-4 text-sm\">Download a JSON backup of all your collections and settings.</p>\n\t\t\t<button onclick={handleExport} class=\"preset-filled-primary-500 btn\" disabled={isExporting}>\n\t\t\t\t<iconify-icon icon=\"mdi:database-export\" class=\"mr-2\"></iconify-icon>\n\t\t\t\t<span>{isExporting ? 'Exporting...' : 'Download Export'}</span>\n\t\t\t</button>\n\t\t</section>\n\n\t\t<section class=\"card p-4 md:p-6\">\n\t\t\t<h3 class=\"h3 mb-4\">Import Configuration</h3>\n\t\t\t<p class=\"mb-4 text-sm\">Restore configuration from a previously exported JSON file.</p>\n\t\t\t<input type=\"file\" accept=\"application/json\" onchange={handleImport} class=\"input-file\" disabled={isImporting} />\n\n\t\t\t{#if isImporting}\n\t\t\t\t<p class=\"mt-4 animate-pulse text-sm text-primary-500\">Importing, please wait...</p>\n\t\t\t{/if}\n\n\t\t\t{#if importResult}\n\t\t\t\t<div class=\"mt-4\">\n\t\t\t\t\t<h4 class=\"mb-2 text-sm font-bold\">Import Result:</h4>\n\t\t\t\t\t<pre class=\"card preset-tonal  max-h-64 overflow-x-auto p-4 font-mono text-xs\">{importResult}</pre>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</section>\n\t</div>\n</div> -->\n\n<!-- Import/Export Manager Component -->\n<section class=\"rounded-lg bg-surface-50 p-6 shadow-sm dark:bg-surface-800\">\n\t<ImportExportManager />\n</section>\n"],"names":["$.head","$$anchor","meta","root_1","header","$.first_child","fragment","PageTitle","node","div","$.sibling","div_1","iconify_icon","section","ImportExportManager","node_1"],"mappings":"ylDAoBA,WAMCA,EAAW,SAAAC,GAAA,KAEVC,EAAIC,EAAA,WADJ,MAAK,oCACLD,CAAI,QAGLE,EAAMC,EAAAC,CAAA,MAANF,CAAM,EACLG,EAASC,EAAA,kEAAmE,2BAE5EC,EAAGC,EAAAF,EAAA,CAAA,EACFG,IADDF,CAAG,EAEDG,IADDD,CAAG,IACFC,EAAY,OAAA,iBAAA,IAAZA,EAAY,QAAA,IAAA,IAAZA,EAAY,EAAA,8CAAA,SADbD,CAAG,IADJF,CAAG,IAHJL,CAAM,EAwEN,IAAAS,IAxEAT,EAAM,CAAA,MAwENS,CAAO,EACNC,EAAmBC,EAAA,EAAA,IADpBF,CAAO,QA/EA"}