{"version":3,"file":"GeUt2_20.js","sources":["../../../../../../../../shared/utils/src/modalState.svelte.ts"],"sourcesContent":["/**\n * @file src/utils/modalState.svelte.ts\n * @description Modal state management\n *\n * ### Features\n * - Modal state management\n * - Modal component trigger\n * - Modal response handling\n *\n * ### Usage\n * <script>\n * \timport { modalState } from '$lib/utils/modalState';\n * </script>\n *\n * <ModalState />\n *\n * <button on:click={() => modalState.trigger(MyModal, { foo: 'bar' })}>Open Modal</button>\n *\n * <ModalState />\n *\n * ### Props\n * - component: Component to render\n * - props: Props to pass to the component\n * - response: Callback to handle response from the modal\n *\n * ### Events\n * - close: Emitted when the modal is closed\n */\n\nimport { type Component } from 'svelte';\n\nexport interface ModalStateItem {\n\tcomponent: Component;\n\tprops?: Record<string, any>;\n\tresponse?: (r: any) => void;\n}\n\nclass ModalState {\n\tactive = $state<ModalStateItem | null>(null);\n\n\tget isOpen() {\n\t\treturn this.active !== null;\n\t}\n\n\ttrigger(component: Component, props: Record<string, any> = {}, response?: (r: any) => void) {\n\t\tthis.active = { component, props, response };\n\t}\n\n\t// Updated close to handle value passing\n\tclose(value?: any) {\n\t\tif (this.active?.response && value !== undefined) {\n\t\t\tthis.active.response(value);\n\t\t}\n\t\tthis.active = null;\n\t}\n\n\tclear() {\n\t\tthis.active = null;\n\t}\n}\n\nexport const modalState = new ModalState();\n"],"names":["ModalState","#active","$.state","value","component","props","response","modalState"],"mappings":"gDAqCM,MAAAA,CAAW,CACPC,GAAAC,EAA8B,IAAI,MAA3C,QAAA,uBAAA,OAAAC,EAAA,iBAEI,IAAA,QAAS,QACL,KAAK,SAAW,IACxB,CAEA,QAAQC,EAAsBC,EAAA,CAAA,EAAiCC,EAA6B,CAC3F,KAAK,OAAA,CAAW,UAAAF,EAAW,MAAAC,EAAO,SAAAC,CAAA,CACnC,CAGA,MAAMH,EAAa,CACd,KAAK,QAAQ,UAAYA,IAAA,QAC5B,KAAK,OAAO,SAASA,CAAK,EAE3B,KAAK,OAAS,IACf,CAEA,OAAQ,CACP,KAAK,OAAS,IACf,CACD,CAEa,MAAAI,MAAiBP"}