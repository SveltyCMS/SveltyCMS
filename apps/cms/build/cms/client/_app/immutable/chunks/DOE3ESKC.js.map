{"version":3,"file":"DOE3ESKC.js","sources":["../../../../../../src/widgets/core/Relation/Display.svelte"],"sourcesContent":["<!--\n@file src/widgets/core/Relation/Display.svelte\n@component\n**Relation Widget Display Component**\n\nDisplays related entry references by fetching and showing the display field value.\nPart of the Three Pillars Architecture for widget system.\n\n@example\n<RelationDisplay field={fieldDefinition} value=\"entry-uuid-123\" />\nRenders: \"Article Title\" (fetched from related entry's display field)\n\n### Props\n- `field: FieldType` - Widget field definition with collection and display field config\n- `value: string | null | undefined` - Entry ID reference to display\n\n### Features\n- **Async Data Fetching**: Loads related entry data via optimized API calls\n- **Display Field Resolution**: Shows configured display field from related entry\n- **Multilingual Support**: Respects content language for translated display fields\n- **Loading States**: Shows \"Loading...\" during async data fetching\n- **Optimized Queries**: Fetches only the required display field for performance\n- **Null Handling**: Graceful fallback to \"–\" for missing or null relations\n- **Reactive Updates**: Automatically refetches when relation ID changes\n-->\n\n<script lang=\"ts\">\n\timport type { FieldType } from './';\n\n\tconst { value }: { field: FieldType; value: string | null | undefined } = $props();\n\n\t// Local state for the resolved entry's display text.\n\tlet displayText = $state('Loading...');\n\n\t// Stub function for fetching entry display - implement with your API\n\tasync function fetchEntryDisplay(_id: string): Promise<string | null> {\n\t\t// TODO: Implement API call to fetch entry display field\n\t\treturn null;\n\t}\n\n\t// Fetch the entry's display text when the ID `value` changes.\n\t$effect(() => {\n\t\tif (value) {\n\t\t\t// API Call: GET /api/entries/{field.collection}/{value}?fields={field.displayField}\n\t\t\t// This is a more optimized fetch for just the field we need.\n\t\t\tfetchEntryDisplay(value).then((text: string | null) => (displayText = text || '–'));\n\t\t} else {\n\t\t\tdisplayText = '–';\n\t\t}\n\t});\n</script>\n\n<span>{displayText}</span>\n"],"names":["displayText","$.state","fetchEntryDisplay","_id","$.user_effect","$$props","text","$.set","span","root"],"mappings":"oMA0BA,aAMKA,EAAcC,EAAO,YAAY,iBAGtBC,EAAkBC,EAAqC,QAE9D,IACR,CAGAC,EAAO,IAAO,CACFC,EAAA,MAGVH,EAAiBG,EAAA,KAAA,EAAQ,KAAMC,KAAyBN,EAAcM,GAAQ,IAAG,EAAA,CAAA,EAEjFC,EAAAP,EAAc,GAAG,CAEnB,CAAC,MAGDQ,EAAIC,EAAA,MAAJD,EAAI,EAAA,IAAJA,CAAI,cAAER,CAAW,CAAA,CAAA,MAAjBQ,CAAI,KAFG"}