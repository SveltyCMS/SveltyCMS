{"version":3,"file":"t_Qjp53h.js","sources":["../../../../../../../../shared/features/src/dashboard/widgets/SecurityWidget.svelte"],"sourcesContent":["<!--\n@file src/routes/(app)/dashboard/widgets/SecurityWidget.svelte\n@component\n**Advanced Security Monitoring Widget**\n\nReal-time security monitoring with threat detection, incident tracking,\nand automated response visualization for enterprise security operations.\n\n### Features:\n- Live threat level monitoring with color-coded indicators\n- Active security incidents list with threat classification\n- Blocked/throttled IP tracking with manual override controls\n- Security event timeline with pattern analysis\n- Automated response status with policy enforcement\n- CSP violation monitoring with XSS attempt detection\n- Integration with SecurityResponseService for real-time data\n\n### Props:\n- `label`: Widget title (default: 'Security Monitor')\n- `size`: Widget dimensions in grid units\n- `autoRefresh`: Enable automatic data refresh (default: true)\n- `refreshInterval`: Refresh interval in milliseconds (default: 5000)\n\n@example\n<SecurityWidget label=\"Security Center\" size={{ w: 3, h: 2 }} />\n\n@enterprise Advanced security monitoring for production environments\n-->\n\n<script lang=\"ts\" module>\n\texport const widgetMeta = {\n\t\tname: 'Security Monitor',\n\t\ticon: 'mdi:shield-alert',\n\t\tdescription: 'Advanced security threat monitoring and incident response',\n\t\tdefaultSize: { w: 3, h: 3 }\n\t};\n</script>\n\n<script lang=\"ts\">\n\timport { onMount, onDestroy } from 'svelte';\n\timport { logger } from '@shared/utils/logger';\n\timport BaseWidget from '../BaseWidget.svelte';\n\timport { showToast } from '@shared/utils/toast';\n\timport type { WidgetSize } from '@cms-types';\n\n\tconst {\n\t\tlabel = 'Security Monitor',\n\t\ttheme = 'light',\n\t\ticon = 'mdi:shield-alert',\n\t\twidgetId = undefined,\n\t\tsize = { w: 3, h: 3 } as WidgetSize,\n\t\tautoRefresh = true,\n\t\trefreshInterval = 5000,\n\t\tonSizeChange = (_newSize: WidgetSize) => {},\n\t\tonRemove = () => {}\n\t}: {\n\t\tlabel?: string;\n\t\ttheme?: 'light' | 'dark';\n\t\ticon?: string;\n\t\twidgetId?: string;\n\t\tsize?: WidgetSize;\n\t\tautoRefresh?: boolean;\n\t\trefreshInterval?: number;\n\t\tonSizeChange?: (newSize: WidgetSize) => void;\n\t\tonRemove?: () => void;\n\t} = $props();\n\n\t// Security data interfaces\n\tinterface SecurityStats {\n\t\tactiveIncidents: number;\n\t\tblockedIPs: number;\n\t\tthrottledIPs: number;\n\t\ttotalIncidents: number;\n\t\tthreatLevelDistribution: {\n\t\t\tnone: number;\n\t\t\tlow: number;\n\t\t\tmedium: number;\n\t\t\thigh: number;\n\t\t\tcritical: number;\n\t\t};\n\t\trecentEvents: SecurityEvent[];\n\t\tcspViolations: number;\n\t\trateLimitHits: number;\n\t}\n\n\tinterface SecurityEvent {\n\t\tid: string;\n\t\ttimestamp: number;\n\t\ttype: 'rate_limit' | 'auth_failure' | 'csp_violation' | 'threat_detected' | 'ip_blocked';\n\t\tseverity: 'low' | 'medium' | 'high' | 'critical';\n\t\tmessage: string;\n\t\tip?: string;\n\t\tdetails?: Record<string, any>;\n\t}\n\n\tinterface SecurityIncident {\n\t\tid: string;\n\t\tclientIp: string;\n\t\tthreatLevel: 'none' | 'low' | 'medium' | 'high' | 'critical';\n\t\tindicatorCount: number;\n\t\ttimestamp: number;\n\t\tresolved: boolean;\n\t\tresponseActions: string[];\n\t}\n\n\t// Reactive state\n\tlet securityStats = $state({\n\t\tactiveIncidents: 0,\n\t\tblockedIPs: 0,\n\t\tthrottledIPs: 0,\n\t\ttotalIncidents: 0,\n\t\tthreatLevelDistribution: { none: 0, low: 0, medium: 0, high: 0, critical: 0 },\n\t\trecentEvents: [],\n\t\tcspViolations: 0,\n\t\trateLimitHits: 0\n\t});\n\n\tlet incidents: SecurityIncident[] = $state([]);\n\tlet isLoading = $state(true);\n\tlet error: string | null = $state(null);\n\tlet refreshTimer: ReturnType<typeof setInterval> | null = null;\n\n\t// Security status calculation - using $derived correctly\n\tconst overallThreatLevel = $derived(calculateOverallThreatLevel(securityStats));\n\tconst threatColor = $derived(getThreatColor(overallThreatLevel));\n\tconst statusIcon = $derived(getThreatIcon(overallThreatLevel));\n\n\tfunction calculateOverallThreatLevel(stats: SecurityStats): 'safe' | 'low' | 'medium' | 'high' | 'critical' {\n\t\tconst { threatLevelDistribution, activeIncidents } = stats;\n\n\t\tif (threatLevelDistribution.critical > 0 || activeIncidents > 10) return 'critical';\n\t\tif (threatLevelDistribution.high > 0 || activeIncidents > 5) return 'high';\n\t\tif (threatLevelDistribution.medium > 0 || activeIncidents > 2) return 'medium';\n\t\tif (threatLevelDistribution.low > 0 || activeIncidents > 0) return 'low';\n\t\treturn 'safe';\n\t}\n\n\tfunction getThreatColor(level: string): string {\n\t\tswitch (level) {\n\t\t\tcase 'safe':\n\t\t\t\treturn 'text-green-500';\n\t\t\tcase 'low':\n\t\t\t\treturn 'text-yellow-500';\n\t\t\tcase 'medium':\n\t\t\t\treturn 'text-orange-500';\n\t\t\tcase 'high':\n\t\t\t\treturn 'text-red-500';\n\t\t\tcase 'critical':\n\t\t\t\treturn 'text-red-700 animate-pulse';\n\t\t\tdefault:\n\t\t\t\treturn 'text-gray-500';\n\t\t}\n\t}\n\n\tfunction getThreatIcon(level: string): string {\n\t\tswitch (level) {\n\t\t\tcase 'safe':\n\t\t\t\treturn 'mdi:shield-check';\n\t\t\tcase 'low':\n\t\t\t\treturn 'mdi:shield-alert-outline';\n\t\t\tcase 'medium':\n\t\t\t\treturn 'mdi:shield-alert';\n\t\t\tcase 'high':\n\t\t\t\treturn 'mdi:shield-remove';\n\t\t\tcase 'critical':\n\t\t\t\treturn 'mdi:shield-off';\n\t\t\tdefault:\n\t\t\t\treturn 'mdi:shield-outline';\n\t\t}\n\t}\n\n\t// Data fetching\n\tasync function fetchSecurityData(): Promise<void> {\n\t\ttry {\n\t\t\tisLoading = true;\n\t\t\terror = null;\n\n\t\t\t// Fetch security statistics\n\t\t\tconst statsResponse = await fetch('/api/security/stats');\n\t\t\tif (!statsResponse.ok) {\n\t\t\t\tthrow new Error(`Security stats fetch failed: ${statsResponse.status}`);\n\t\t\t}\n\t\t\tconst stats = await statsResponse.json();\n\n\t\t\t// Fetch active incidents\n\t\t\tconst incidentsResponse = await fetch('/api/security/incidents');\n\t\t\tif (!incidentsResponse.ok) {\n\t\t\t\tthrow new Error(`Incidents fetch failed: ${incidentsResponse.status}`);\n\t\t\t}\n\t\t\tconst incidentsData = await incidentsResponse.json();\n\n\t\t\tsecurityStats = stats;\n\t\t\tincidents = incidentsData.incidents || [];\n\t\t} catch (err) {\n\t\t\terror = err instanceof Error ? err.message : 'Failed to fetch security data';\n\t\t\tlogger.error('Security data fetch error:', err);\n\t\t} finally {\n\t\t\tisLoading = false;\n\t\t}\n\t}\n\n\t// Incident management\n\tasync function resolveIncident(incidentId: string): Promise<void> {\n\t\ttry {\n\t\t\tconst response = await fetch(`/api/security/incidents/${incidentId}/resolve`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t\t});\n\n\t\t\tif (response.ok) {\n\t\t\t\tshowToast('Incident resolved successfully', 'success');\n\t\t\t\tawait fetchSecurityData(); // Refresh data\n\t\t\t} else {\n\t\t\t\tthrow new Error('Failed to resolve incident');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tshowToast(`Failed to resolve incident: ${err instanceof Error ? err.message : 'Unknown error'}`, 'error');\n\t\t}\n\t}\n\n\tasync function unblockIP(ip: string): Promise<void> {\n\t\ttry {\n\t\t\tconst response = await fetch('/api/security/unblock', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ ip })\n\t\t\t});\n\n\t\t\tif (response.ok) {\n\t\t\t\tshowToast(`IP ${ip} unblocked successfully`, 'success');\n\t\t\t\tawait fetchSecurityData(); // Refresh data\n\t\t\t} else {\n\t\t\t\tthrow new Error('Failed to unblock IP');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tshowToast(`Failed to unblock IP: ${err instanceof Error ? err.message : 'Unknown error'}`, 'error');\n\t\t}\n\t}\n\n\t// Utility functions\n\tfunction formatTimestamp(timestamp: number): string {\n\t\treturn new Date(timestamp).toLocaleString();\n\t}\n\n\tfunction getIncidentPriorityClass(threatLevel: string): string {\n\t\tswitch (threatLevel) {\n\t\t\tcase 'critical':\n\t\t\t\treturn 'border-l-4 border-red-600 bg-red-50 dark:bg-red-900/20';\n\t\t\tcase 'high':\n\t\t\t\treturn 'border-l-4 border-orange-500 bg-orange-50 dark:bg-orange-900/20';\n\t\t\tcase 'medium':\n\t\t\t\treturn 'border-l-4 border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20';\n\t\t\tcase 'low':\n\t\t\t\treturn 'border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/20';\n\t\t\tdefault:\n\t\t\t\treturn 'border-l-4 border-gray-400 bg-gray-50 dark:bg-gray-800';\n\t\t}\n\t}\n\n\t// Lifecycle\n\tonMount(() => {\n\t\tfetchSecurityData();\n\n\t\tif (autoRefresh) {\n\t\t\trefreshTimer = setInterval(fetchSecurityData, refreshInterval);\n\t\t}\n\t});\n\n\tonDestroy(() => {\n\t\tif (refreshTimer) {\n\t\t\tclearInterval(refreshTimer);\n\t\t}\n\t});\n</script>\n\n<BaseWidget {label} {theme} {icon} {widgetId} {size} {onSizeChange} onCloseRequest={onRemove} {isLoading} {error}>\n\t<div class=\"flex h-full flex-col space-y-4 p-2\">\n\t\t<!-- Security Status Header -->\n\t\t<div class=\"flex items-center justify-between\">\n\t\t\t<div class=\"flex items-center space-x-3\">\n\t\t\t\t<iconify-icon icon={statusIcon} class=\"text-2xl {threatColor}\"></iconify-icon>\n\t\t\t\t<div>\n\t\t\t\t\t<h3 class=\"text-lg font-semibold capitalize\">{overallThreatLevel} Status</h3>\n\t\t\t\t\t<p class=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t{securityStats.activeIncidents} active incidents\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"preset-outlined-surface-500btn btn-sm\"\n\t\t\t\tonclick={() => fetchSecurityData()}\n\t\t\t\tdisabled={isLoading}\n\t\t\t\taria-label=\"Refresh security data\"\n\t\t\t>\n\t\t\t\t<iconify-icon icon=\"mdi:refresh\" class=\"text-sm\"></iconify-icon>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<!-- Security Metrics Grid -->\n\t\t<div class=\"grid grid-cols-2 gap-2 text-sm\">\n\t\t\t<div class=\"rounded bg-surface-100 p-2 dark:bg-surface-700\">\n\t\t\t\t<div class=\"font-medium text-red-600\">Blocked IPs</div>\n\t\t\t\t<div class=\"text-xl font-bold\">{securityStats.blockedIPs}</div>\n\t\t\t</div>\n\t\t\t<div class=\"rounded bg-surface-100 p-2 dark:bg-surface-700\">\n\t\t\t\t<div class=\"font-medium text-orange-600\">Throttled IPs</div>\n\t\t\t\t<div class=\"text-xl font-bold\">{securityStats.throttledIPs}</div>\n\t\t\t</div>\n\t\t\t<div class=\"rounded bg-surface-100 p-2 dark:bg-surface-700\">\n\t\t\t\t<div class=\"font-medium text-purple-600\">CSP Violations</div>\n\t\t\t\t<div class=\"text-xl font-bold\">{securityStats.cspViolations}</div>\n\t\t\t</div>\n\t\t\t<div class=\"rounded bg-surface-100 p-2 dark:bg-surface-700\">\n\t\t\t\t<div class=\"font-medium text-blue-600\">Rate Limits</div>\n\t\t\t\t<div class=\"text-xl font-bold\">{securityStats.rateLimitHits}</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Active Incidents -->\n\t\t{#if incidents.length > 0}\n\t\t\t<div class=\"min-h-0 flex-1\">\n\t\t\t\t<h4 class=\"mb-2 flex items-center font-medium\">\n\t\t\t\t\t<iconify-icon icon=\"mdi:alert-circle\" class=\"mr-2 text-orange-500\"></iconify-icon>\n\t\t\t\t\tActive Incidents ({incidents.length})\n\t\t\t\t</h4>\n\t\t\t\t<div class=\"max-h-32 space-y-1 overflow-y-auto\">\n\t\t\t\t\t{#each incidents as incident}\n\t\t\t\t\t\t<div class=\"rounded p-2 text-xs {getIncidentPriorityClass(incident.threatLevel)}\">\n\t\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t{incident.clientIp}\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-1 rounded bg-gray-200 px-1 text-xs dark:bg-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t{incident.threatLevel}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t{incident.indicatorCount} indicators â€¢ {formatTimestamp(incident.timestamp)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{#if incident.responseActions.length > 0}\n\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t{#each incident.responseActions as action}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"mr-1 inline-block rounded bg-gray-300 px-1 py-0.5 text-xs dark:bg-gray-600\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{action}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex space-x-1\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn-xs preset-outlined-surface-500btn\" onclick={() => resolveIncident(incident.id)} title=\"Resolve incident\">\n\t\t\t\t\t\t\t\t\t\t<iconify-icon icon=\"mdi:check\" class=\"text-xs\"></iconify-icon>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{#if incident.responseActions.includes('block') || incident.responseActions.includes('blacklist')}\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn-xs preset-outlined-surface-500btn\" onclick={() => unblockIP(incident.clientIp)} title=\"Unblock IP\">\n\t\t\t\t\t\t\t\t\t\t\t<iconify-icon icon=\"mdi:lock-open\" class=\"text-xs\"></iconify-icon>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex flex-1 items-center justify-center text-gray-500\">\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<iconify-icon icon=\"mdi:shield-check\" class=\"mb-2 text-4xl text-green-500\"></iconify-icon>\n\t\t\t\t\t<p class=\"text-sm\">No active security incidents</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<!-- Threat Level Distribution (if space allows) -->\n\t\t{#if size.h >= 3}\n\t\t\t<div class=\"border-t pt-2\">\n\t\t\t\t<h5 class=\"mb-1 text-xs font-medium\">Threat Distribution</h5>\n\t\t\t\t<div class=\"flex space-x-1 text-xs\">\n\t\t\t\t\t<div class=\"flex-1 text-center\">\n\t\t\t\t\t\t<div class=\"font-bold text-red-600\">{securityStats.threatLevelDistribution.critical}</div>\n\t\t\t\t\t\t<div class=\"text-gray-500\">Critical</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex-1 text-center\">\n\t\t\t\t\t\t<div class=\"font-bold text-orange-600\">{securityStats.threatLevelDistribution.high}</div>\n\t\t\t\t\t\t<div class=\"text-gray-500\">High</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex-1 text-center\">\n\t\t\t\t\t\t<div class=\"font-bold text-yellow-600\">{securityStats.threatLevelDistribution.medium}</div>\n\t\t\t\t\t\t<div class=\"text-gray-500\">Medium</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex-1 text-center\">\n\t\t\t\t\t\t<div class=\"font-bold text-blue-600\">{securityStats.threatLevelDistribution.low}</div>\n\t\t\t\t\t\t<div class=\"text-gray-500\">Low</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</BaseWidget>\n"],"names":["widgetMeta","label","theme","icon","widgetId","size","autoRefresh","refreshInterval","onSizeChange","$.prop","$$props","_newSize","onRemove","securityStats","$.state","$.proxy","incidents","isLoading","error","refreshTimer","overallThreatLevel","$.derived","calculateOverallThreatLevel","$.get","threatColor","getThreatColor","statusIcon","getThreatIcon","stats","threatLevelDistribution","activeIncidents","level","fetchSecurityData","$.set","statsResponse","incidentsResponse","incidentsData","err","logger","resolveIncident","incidentId","showToast","unblockIP","ip","formatTimestamp","timestamp","getIncidentPriorityClass","threatLevel","onMount","onDestroy","BaseWidget","$$anchor","div","root_1","div_1","div_2","iconify_icon","$.template_effect","$.set_custom_element_data","div_3","h3","p","button","$.sibling","iconify_icon_1","$.child","$.reset","div_4","div_5","div_6","div_7","div_8","div_9","div_10","div_11","div_12","div_13","root_2","h4","iconify_icon_2","div_14","$.index","incident","div_15","root_3","div_16","div_17","div_18","span","text_7","div_19","div_20","root_4","$.each","action","span_1","root_5","$$render","consequent","div_21","button_1","iconify_icon_3","button_2","root_6","iconify_icon_4","consequent_1","$0","$.set_text","text_8","text_9","$1","text_6","div_22","root_7","div_23","iconify_icon_5","consequent_2","alternate","div_24","root_8","div_25","div_26","div_27","div_28","div_29","div_30","div_31","div_32","div_33","consequent_3","$.set_class","text_1","text_2","text_3","text_4","text_5"],"mappings":"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"}