<!--
@file src/routes/login/components/icons/SignupIcon.svelte
@component
**SignupIcon component**
-->

<script lang="ts">
	// ParaglideJS
	import * as m from '@src/paraglide/messages';

	let {
		show = $bindable(true),
		disabled = false,
		onClick = (_event: MouseEvent | KeyboardEvent) => {}
	} = $props<{
		show?: boolean;
		disabled?: boolean;
		onClick?: (event: MouseEvent | KeyboardEvent) => void;
	}>();

	function handleClick(event: MouseEvent) {
		if (disabled) return;
		event.stopPropagation(); // Prevent event bubbling
		onClick(event);
	}

	function handleKeyDown(event: KeyboardEvent) {
		if (disabled) return;
		if (event.key === 'Enter') {
			event.stopPropagation(); // Prevent event bubbling
			onClick(event);
		}
	}
</script>

<div
	class="overflow icon dark:text-dark absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] transition-all duration-300"
	class:hide={!show}
	class:pointer-events-none={!show || disabled}
	class:opacity-50={disabled}
>
	<div onclick={handleClick} onkeydown={handleKeyDown} role="button" tabindex={disabled ? -1 : 0} class="flex cursor-pointer flex-col items-center">
		<div class="relative w-max rounded-full border-4 border-white p-3">
			<svg
				class="over aspect-square h-12"
				xmlns="http://www.w3.org/2000/svg"
				xmlns:xlink="http://www.w3.org/1999/xlink"
				viewBox="0 0 50 50"
				fill="#FFFFFF"
			>
				<path
					d="M19.875 0.40625C15.203125 0.492188 12.21875 2.378906 10.9375 5.3125C9.714844 8.105469 9.988281 11.632813 10.875 15.28125C10.398438 15.839844 10.019531 16.589844 10.15625 17.71875C10.304688 18.949219 10.644531 19.824219 11.125 20.4375C11.390625 20.773438 11.738281 20.804688 12.0625 20.96875C12.238281 22.015625 12.53125 23.0625 12.96875 23.9375C13.21875 24.441406 13.503906 24.90625 13.78125 25.28125C13.90625 25.449219 14.085938 25.546875 14.21875 25.6875C14.226563 26.921875 14.230469 27.949219 14.125 29.25C13.800781 30.035156 13.042969 30.667969 11.8125 31.28125C10.542969 31.914063 8.890625 32.5 7.21875 33.21875C5.546875 33.9375 3.828125 34.8125 2.46875 36.1875C1.109375 37.5625 0.148438 39.449219 0 41.9375L-0.0625 43L25 43L24.34375 41L2.25 41C2.53125 39.585938 3.058594 38.449219 3.90625 37.59375C4.972656 36.515625 6.425781 35.707031 8 35.03125C9.574219 34.355469 11.230469 33.820313 12.6875 33.09375C14.144531 32.367188 15.492188 31.410156 16.0625 29.875L16.125 29.625C16.277344 27.949219 16.21875 26.761719 16.21875 25.3125L16.21875 24.71875L15.6875 24.4375C15.777344 24.484375 15.5625 24.347656 15.375 24.09375C15.1875 23.839844 14.957031 23.476563 14.75 23.0625C14.335938 22.234375 13.996094 21.167969 13.90625 20.3125L13.8125 19.5L12.96875 19.4375C12.960938 19.4375 12.867188 19.449219 12.6875 19.21875C12.507813 18.988281 12.273438 18.480469 12.15625 17.5C12.058594 16.667969 12.480469 16.378906 12.4375 16.40625L13.09375 16L12.90625 15.28125C11.964844 11.65625 11.800781 8.363281 12.78125 6.125C13.757813 3.894531 15.75 2.492188 19.90625 2.40625C19.917969 2.40625 19.925781 2.40625 19.9375 2.40625C21.949219 2.414063 23.253906 3.003906 23.625 3.65625L23.875 4.0625L24.34375 4.125C25.734375 4.320313 26.53125 4.878906 27.09375 5.65625C27.65625 6.433594 27.96875 7.519531 28.0625 8.71875C28.25 11.117188 27.558594 13.910156 27.125 15.21875L26.875 16L27.5625 16.40625C27.519531 16.378906 27.945313 16.667969 27.84375 17.5C27.726563 18.480469 27.492188 18.988281 27.3125 19.21875C27.132813 19.449219 27.039063 19.4375 27.03125 19.4375L26.1875 19.5L26.09375 20.3125C26 21.175781 25.652344 22.234375 25.25 23.0625C25.046875 23.476563 24.839844 23.839844 24.65625 24.09375C24.472656 24.347656 24.28125 24.488281 24.375 24.4375L23.84375 24.71875L23.84375 25.3125C23.84375 26.757813 23.785156 27.949219 23.9375 29.625L23.9375 29.75L24 29.875C24.320313 30.738281 24.882813 31.605469 25.8125 32.15625L26.84375 30.4375C26.421875 30.1875 26.144531 29.757813 25.9375 29.25C25.832031 27.949219 25.835938 26.921875 25.84375 25.6875C25.972656 25.546875 26.160156 25.449219 26.28125 25.28125C26.554688 24.902344 26.816406 24.4375 27.0625 23.9375C27.488281 23.0625 27.796875 22.011719 27.96875 20.96875C28.28125 20.804688 28.617188 20.765625 28.875 20.4375C29.355469 19.824219 29.695313 18.949219 29.84375 17.71875C29.976563 16.625 29.609375 15.902344 29.15625 15.34375C29.644531 13.757813 30.269531 11.195313 30.0625 8.5625C29.949219 7.125 29.582031 5.691406 28.71875 4.5C27.929688 3.40625 26.648438 2.609375 25.03125 2.28125C23.980469 0.917969 22.089844 0.40625 19.90625 0.40625 Z M 38 26C31.382813 26 26 31.382813 26 38C26 44.617188 31.382813 50 38 50C44.617188 50 50 44.617188 50 38C50 31.382813 44.617188 26 38 26 Z M 38 28C43.535156 28 48 32.464844 48 38C48 43.535156 43.535156 48 38 48C32.464844 48 28 43.535156 28 38C28 32.464844 32.464844 28 38 28 Z M 37 32L37 37L32 37L32 39L37 39L37 44L39 44L39 39L44 39L44 37L39 37L39 32Z"
					fill="#FFFFFF"
				/>
			</svg>
		</div>
		<p class="text-center font-semibold uppercase text-white">{m.form_signup()}</p>
	</div>
</div>

<style lang="postcss">
	.hide {
		animation: _hide 0.3s forwards;
	}
	@keyframes _hide {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
			top: 70%;
		}
	}
</style>
