{"version":3,"file":"AnalysisModal.js","sources":["../../../../src/widgets/custom/Seo/components/AnalysisModal.svelte"],"sourcesContent":["<!--\n@file src/widgets/custom/Seo/components/AnalysisModal.svelte\n@component\n**Analysis Modal for SEO Widget**\nDisplays detailed SEO analysis results in a modal overlay.\n-->\n\n<script lang=\"ts\">\n\timport { fade, scale } from 'svelte/transition';\n\timport type { SeoAnalysisResult } from '../seoTypes';\n\n\tinterface Props {\n\t\tshow: boolean;\n\t\tanalysisResult: SeoAnalysisResult | null;\n\t\tonclose?: () => void;\n\t}\n\n\tlet { show = $bindable(), analysisResult, onclose = () => {} }: Props = $props();\n\n\tfunction close() {\n\t\tshow = false;\n\t\tonclose();\n\t}\n\n\tfunction handleKeydown(event: KeyboardEvent) {\n\t\tif (show && event.key === 'Escape') {\n\t\t\tclose();\n\t\t}\n\t}\n</script>\n\n<svelte:window onkeydown={handleKeydown} />\n\n{#if show}\n\t<!-- Backdrop -->\n\t<div\n\t\tclass=\"fixed inset-0 z-999 bg-surface-backdrop-token backdrop-blur-sm\"\n\t\ttransition:fade={{ duration: 150 }}\n\t\tonclick={close}\n\t\trole=\"presentation\"\n\t></div>\n\n\t<!-- Modal -->\n\t<div\n\t\tclass=\"fixed left-1/2 top-1/2 z-1000 -translate-x-1/2 -translate-y-1/2 shadow-xl\"\n\t\ttransition:scale={{ duration: 200, start: 0.95 }}\n\t\trole=\"dialog\"\n\t\taria-modal=\"true\"\n\t>\n\t\t<div class=\"card w-[90vw] max-w-2xl max-h-[85vh] overflow-hidden flex flex-col bg-surface-100-800-token\">\n\t\t\t<!-- Header -->\n\t\t\t<header class=\"card-header flex items-center justify-between border-b border-surface-500/20 p-4\">\n\t\t\t\t<h3 class=\"h3 flex items-center gap-2\">\n\t\t\t\t\t<iconify-icon icon=\"mdi:google-analytics\" class=\"text-primary-500\"></iconify-icon>\n\t\t\t\t\tSEO Analysis Report\n\t\t\t\t</h3>\n\t\t\t\t<button type=\"button\" class=\"btn-icon btn-icon-sm preset-outlined-surface-500\" onclick={close} aria-label=\"Close\">\n\t\t\t\t\t<iconify-icon icon=\"mdi:close\" width=\"24\"></iconify-icon>\n\t\t\t\t</button>\n\t\t\t</header>\n\n\t\t\t<!-- Content -->\n\t\t\t<div class=\"flex-1 overflow-y-auto p-4 space-y-4\">\n\t\t\t\t{#if analysisResult}\n\t\t\t\t\t<!-- Score Overview -->\n\t\t\t\t\t<div class=\"flex items-center justify-center p-4 bg-surface-200-700-token rounded-container-token mb-6\">\n\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"radial-progress text-4xl font-bold {analysisResult.score.overall >= 80\n\t\t\t\t\t\t\t\t\t? 'text-success-500'\n\t\t\t\t\t\t\t\t\t: analysisResult.score.overall >= 50\n\t\t\t\t\t\t\t\t\t\t? 'text-warning-500'\n\t\t\t\t\t\t\t\t\t\t: 'text-error-500'}\"\n\t\t\t\t\t\t\t\tstyle=\"--value:{analysisResult.score.overall}; --size:6rem;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{analysisResult.score.overall}%\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"mt-2 font-bold text-surface-600 dark:text-surface-300\">Overall Score</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ml-8 grid grid-cols-2 gap-4 text-sm\">\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t<span class=\"opacity-70\">Keywords</span>\n\t\t\t\t\t\t\t\t<span class=\"font-bold {analysisResult.score.keywords >= 80 ? 'text-success-500' : 'text-warning-500'}\"\n\t\t\t\t\t\t\t\t\t>{analysisResult.score.keywords}%</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t<span class=\"opacity-70\">Content</span>\n\t\t\t\t\t\t\t\t<span class=\"font-bold {analysisResult.score.content >= 80 ? 'text-success-500' : 'text-warning-500'}\"\n\t\t\t\t\t\t\t\t\t>{analysisResult.score.content}%</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t<span class=\"opacity-70\">Technical</span>\n\t\t\t\t\t\t\t\t<span class=\"font-bold {analysisResult.score.technical >= 80 ? 'text-success-500' : 'text-warning-500'}\"\n\t\t\t\t\t\t\t\t\t>{analysisResult.score.technical}%</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t<span class=\"opacity-70\">Readability</span>\n\t\t\t\t\t\t\t\t<span class=\"font-bold {analysisResult.score.readability >= 80 ? 'text-success-500' : 'text-warning-500'}\"\n\t\t\t\t\t\t\t\t\t>{analysisResult.score.readability}%</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Suggestions List -->\n\t\t\t\t\t{#if analysisResult.suggestions.length > 0}\n\t\t\t\t\t\t<div class=\"space-y-3\">\n\t\t\t\t\t\t\t<!-- Group by priority/type implicitly by sorting -->\n\t\t\t\t\t\t\t<h4 class=\"h4\">Room for Improvement</h4>\n\t\t\t\t\t\t\t{#each analysisResult.suggestions as suggestion}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"card p-4 border-l-4 {suggestion.type === 'error'\n\t\t\t\t\t\t\t\t\t\t? 'border-error-500 bg-error-500/10'\n\t\t\t\t\t\t\t\t\t\t: suggestion.type === 'warning'\n\t\t\t\t\t\t\t\t\t\t\t? 'border-warning-500 bg-warning-500/10'\n\t\t\t\t\t\t\t\t\t\t\t: 'border-primary-500 bg-primary-500/10'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-bold flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<iconify-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={suggestion.type === 'error' ? 'mdi:alert-circle' : suggestion.type === 'warning' ? 'mdi:alert' : 'mdi:information'}\n\t\t\t\t\t\t\t\t\t\t\t\t></iconify-icon>\n\t\t\t\t\t\t\t\t\t\t\t\t{suggestion.title}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"text-sm mt-1 opacity-90\">{suggestion.description}</p>\n\t\t\t\t\t\t\t\t\t\t\t{#if suggestion.fix}\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-2 text-xs font-mono bg-surface-100 dark:bg-surface-600/50 p-2 rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Fix:</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{suggestion.fix}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclass=\"badge {suggestion.type === 'error'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'preset-filled-error-500'\n\t\t\t\t\t\t\t\t\t\t\t\t: suggestion.type === 'warning'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'variant-filled-warning'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'preset-filled-primary-500'} uppercase text-[10px]\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{suggestion.type}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"alert variant-soft-success\">\n\t\t\t\t\t\t\t<iconify-icon icon=\"mdi:check-circle\" class=\"text-2xl mr-2\"></iconify-icon>\n\t\t\t\t\t\t\t<span>Great job! No specific issues found.</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"p-8 text-center\">\n\t\t\t\t\t\t<div class=\"placeholder-circle animate-pulse w-16 h-16 mx-auto mb-4\"></div>\n\t\t\t\t\t\t<p>Running Analysis...</p>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<!-- Footer -->\n\t\t\t<footer class=\"card-footer p-4 border-t border-surface-500/20 flex justify-end\">\n\t\t\t\t<button class=\"btn preset-filled-surface-500\" onclick={close}>Close</button>\n\t\t\t</footer>\n\t\t</div>\n\t</div>\n{/if}\n"],"names":["$$renderer","$.attr_class","$.stringify","$.attr_style","$.escape","$.ensure_array_like","$.attr"],"mappings":";;wCAOA;AAUO,QAAA,EAAA,eAAoB,gBAAgB,UAAO,MAAS;AAAA,IAAC,EAAC,IAAA;QAgBxD,MAAI;;;UA8BA,gBAAc;;AAK4B,QAAAA,YAAA,KAAA,wIAAAC,WAAA,sCAAAC,UAAA,eAAe,MAAM,WAAW,KACxE,qBACA,eAAe,MAAM,WAAW,KAC/B,qBACA,gBAAgB,CAAA,EAAA,CAAA,GAAAC,WAAA,WAAAD,UACJ,eAAe,MAAM,OAAO,CAAA,gBAAA,CAAA,IAAAE,YAE3C,eAAe,MAAM,OAAO,CAAA,8NAAAH,WAAA,aAAAC,UAOL,eAAe,MAAM,YAAY,KAAK,qBAAqB,kBAAkB,CAAA,EAAA,CAAA,IAAAE,YAClG,eAAe,MAAM,QAAQ,CAAA,0FAAAH,WAAA,aAAAC,UAKR,eAAe,MAAM,WAAW,KAAK,qBAAqB,kBAAkB,CAAA,EAAA,CAAA,IAAAE,YACjG,eAAe,MAAM,OAAO,CAAA,4FAAAH,WAAA,aAAAC,UAKP,eAAe,MAAM,aAAa,KAAK,qBAAqB,kBAAkB,CAAA,EAAA,CAAA,IAAAE,YACnG,eAAe,MAAM,SAAS,CAAA,8FAAAH,WAAA,aAAAC,UAKT,eAAe,MAAM,eAAe,KAAK,qBAAqB,kBAAkB,CAAA,EAAA,CAAA,IAAAE,YACrG,eAAe,MAAM,WAAW,CAAA,6BAAA;AAOjC,YAAA,eAAe,YAAY,SAAS,GAAC;;;AAIjC,gBAAA,aAAAC,kBAAA,eAAe,WAAW;;gBAAI,aAAU,WAAA,OAAA;gFAEjB,WAAW,SAAS,UAC7C,qCACA,WAAW,SAAS,YACnB,yCACA,sCAAsC,CAAA,EAAA,CAAA,mHAAAC,KAAA,QAMhC,WAAW,SAAS,UAAU,qBAAqB,WAAW,SAAS,YAAY,cAAc,iBAAiB,CAAA,oBAAAF,YAExH,WAAW,KAAK,CAAA,6CAAAA,YAEkB,WAAW,WAAW,CAAA,OAAA;AACrD,gBAAA,WAAW,KAAG;;AAGhB,cAAAJ,YAAA,KAAA,+GAAAI,YAAA,WAAW,GAAG,CAAA,QAAA;AAAA;;;kFAKH,WAAW,SAAS,UAC/B,4BACA,WAAW,SAAS,YACnB,2BACA,2BAA2B,CAAA,wBAAA,CAAA,IAAAA,YAE9B,WAAW,IAAI,CAAA,qBAAA;AAAA;;;;;;;;;;;;;;;;;EAlHnB,CAAA;;"}