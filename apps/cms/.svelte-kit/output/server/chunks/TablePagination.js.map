{"version":3,"file":"TablePagination.js","sources":["../../../../../../shared/components/src/system/table/TablePagination.svelte"],"sourcesContent":["<!-- \n@file src/components/system/table/TablePagination.svelte\n@component\n**Optimized table pagination component for displaying pagination controls in a CMS.**\n\n@Example\n<TablePagination currentPage={1} pagesCount={1} rowsPerPage={10} rowsPerPageOptions={[5, 10, 25, 50, 100, 500]} totalItems={0} />\n\n#### Props\n- `currentPage` {number}: The current page number (default: 1)\n- `pagesCount` {number}: The total number of pages (default: 1)\n- `rowsPerPage` {number}: The number of rows per page (default: 10)\n- `rowsPerPageOptions` {number[]}: An array of options for rows per page (default: [5, 10, 25, 50, 100, 500])\n- `totalItems` {number}: The total number of items in the table (default: 0)\n- `onUpdatePage` {(page: number) => void}: Event handler for updating the current page\n- `onUpdateRowsPerPage` {(rows: number) => void}: Event handler for updating the number of rows per page\n\n### Features\n- Provides pagination controls for navigating through table data\n- Displays current page, total pages, and item range\n- Allows selection of rows per page from predefined options\n-->\n\n<script lang=\"ts\">\n\t// ParaglideJS\n\timport * as m from '@shared/paraglide/messages';\n\n\t// Props with default values\n\tlet {\n\t\tcurrentPage = $bindable(),\n\t\tpagesCount = 1,\n\t\trowsPerPage = $bindable(),\n\t\trowsPerPageOptions = [5, 10, 25, 50, 100, 500],\n\t\ttotalItems = 0,\n\t\tonUpdatePage,\n\t\tonUpdateRowsPerPage\n\t} = $props();\n\n\t// Derived pagesCount if not provided\n\tconst computedPagesCount = $derived(pagesCount && pagesCount > 0 ? pagesCount : rowsPerPage > 0 ? Math.ceil(totalItems / rowsPerPage) : 1);\n\n\tconst isFirstPage = $derived(currentPage === 1);\n\tconst isLastPage = $derived(currentPage === computedPagesCount);\n\n\t// Calculate start and end item numbers for the current page\n\tconst startItem = $derived(totalItems === 0 ? 0 : (currentPage - 1) * rowsPerPage + 1);\n\tconst endItem = $derived(totalItems === 0 ? 0 : Math.min(currentPage * rowsPerPage, totalItems));\n\n\t// Go to page - IMMEDIATE\n\tfunction goToPage(page: number) {\n\t\tif (page >= 1 && page <= computedPagesCount && page !== currentPage) {\n\t\t\tcurrentPage = page;\n\t\t\tonUpdatePage?.(page);\n\t\t}\n\t}\n\n\t// Update rows per page with immediate reset to page 1\n\tfunction updateRowsPerPage(rows: number) {\n\t\t// Immediately update the bound value to ensure UI consistency\n\t\trowsPerPage = rows;\n\t\t// Call the callback to handle the change\n\t\tonUpdateRowsPerPage?.(rows);\n\t}\n</script>\n\n<!-- Pagination info -->\n<div class=\"mb-1 flex items-center justify-between text-xs md:mb-0 md:text-sm\" role=\"status\" aria-live=\"polite\">\n\t<div>\n\t\t<span>{m.entrylist_page()}</span>\n\t\t<span class=\"text-tertiary-500 dark:text-primary-500\">{currentPage}</span>\n\t\t<span>{m.entrylist_of()}</span>\n\t\t<span class=\"text-tertiary-500 dark:text-primary-500\">{computedPagesCount}</span>\n\t\t<span class=\"ml-4\" aria-label=\"Current items shown\">\n\t\t\t{#if totalItems > 0}\n\t\t\t\t{m.entrylist_showing()} <span class=\"text-tertiary-500 dark:text-primary-500\">{startItem}</span>â€“<span\n\t\t\t\t\tclass=\"text-tertiary-500 dark:text-primary-500\">{endItem}</span\n\t\t\t\t>\n\t\t\t\t{m.entrylist_of()}\n\t\t\t\t<span class=\"text-tertiary-500 dark:text-primary-500\">{totalItems}</span>\n\t\t\t\t{m.entrylist_items()}\n\t\t\t{:else}\n\t\t\t\t{m.entrylist_showing()} 0 {m.entrylist_of()} 0 {m.entrylist_items()}\n\t\t\t{/if}\n\t\t</span>\n\t</div>\n</div>\n\n<!-- Pagination controls -->\n<nav class=\"btn-group\" aria-label=\"Table pagination\">\n\t<!-- First page button -->\n\t<button\n\t\tonclick={() => goToPage(1)}\n\t\tdisabled={isFirstPage}\n\t\ttype=\"button\"\n\t\taria-label=\"Go to first page\"\n\t\ttitle=\"First Page\"\n\t\tclass=\"btn h-8 w-8 rounded-none border-r border-surface-300 px-1 hover:bg-surface-200 disabled:text-surface-400 disabled:opacity-50! dark:border-surface-50 dark:hover:bg-surface-800\"\n\t\taria-disabled={isFirstPage}\n\t>\n\t\t<iconify-icon icon=\"material-symbols:first-page\" width=\"24\" role=\"presentation\" aria-hidden=\"true\"></iconify-icon>\n\t</button>\n\n\t<!-- Previous page button -->\n\t<button\n\t\tonclick={() => goToPage(currentPage - 1)}\n\t\tdisabled={isFirstPage}\n\t\ttype=\"button\"\n\t\taria-label=\"Go to previous page\"\n\t\ttitle=\"Previous Page\"\n\t\tclass=\"btn h-8 w-8 rounded-none border-r border-surface-300 px-1 hover:bg-surface-200 disabled:text-surface-400 disabled:opacity-50! dark:border-surface-50 dark:hover:bg-surface-800\"\n\t\taria-disabled={isFirstPage}\n\t>\n\t\t<iconify-icon icon=\"material-symbols:chevron-left\" width=\"24\" role=\"presentation\" aria-hidden=\"true\"></iconify-icon>\n\t</button>\n\n\t<!-- Rows per page select dropdown -->\n\t<select\n\t\tbind:value={rowsPerPage}\n\t\tonchange={(event) => updateRowsPerPage(parseInt((event.target as HTMLSelectElement).value))}\n\t\taria-label=\"Select number of rows per page\"\n\t\tclass=\"appearance-none bg-transparent p-0 px-2 text-center text-sm text-tertiary-500 hover:bg-surface-200 dark:border-surface-50 dark:text-primary-500 dark:hover:bg-surface-800 sm:px-4\"\n\t\ttitle=\"Rows per page\"\n\t>\n\t\t{#each rowsPerPageOptions as pageSize}\n\t\t\t<option class=\"bg-surface-300 text-black dark:bg-surface-700 dark:text-white\" value={pageSize}>\n\t\t\t\t{pageSize}\n\t\t\t\t{m.entrylist_rows()}\n\t\t\t</option>\n\t\t{/each}\n\t</select>\n\n\t<!-- Next page button -->\n\t<button\n\t\tonclick={() => goToPage(currentPage + 1)}\n\t\tdisabled={isLastPage}\n\t\ttype=\"button\"\n\t\taria-label=\"Go to next page\"\n\t\ttitle=\"Next Page\"\n\t\tclass=\"btn h-8 w-8 rounded-none border-l border-surface-300 px-1 hover:bg-surface-200 disabled:text-surface-400 disabled:opacity-50! dark:border-surface-50 dark:hover:bg-surface-800\"\n\t\taria-disabled={isLastPage}\n\t>\n\t\t<iconify-icon icon=\"material-symbols:chevron-right\" width=\"24\" role=\"presentation\" aria-hidden=\"true\"></iconify-icon>\n\t</button>\n\n\t<!-- Last page button -->\n\t<button\n\t\tonclick={() => goToPage(computedPagesCount)}\n\t\tdisabled={isLastPage}\n\t\ttype=\"button\"\n\t\taria-label=\"Go to last page\"\n\t\ttitle=\"Last Page\"\n\t\tclass=\"btn h-8 w-8 rounded-none border-l border-surface-300 px-1 hover:bg-surface-200 disabled:text-surface-400 disabled:opacity-50! dark:border-surface-50 dark:hover:bg-surface-800\"\n\t\taria-disabled={isLastPage}\n\t>\n\t\t<iconify-icon icon=\"material-symbols:last-page\" width=\"24\" role=\"presentation\" aria-hidden=\"true\"></iconify-icon>\n\t</button>\n</nav>\n"],"names":["m.entrylist_page","$.escape","m.entrylist_of","$$renderer","m.entrylist_showing","m.entrylist_items","$.attr","m.entrylist_rows"],"mappings":";;;wCAuBA;;MAME,cAAW;AAAA,MACX,aAAa;AAAA,MACb,cAAW;AAAA,MACX,qBAAkB,CAAI,GAAG,IAAI,IAAI,IAAI,KAAK,GAAG;AAAA,MAC7C,aAAa;AAAA,MACb;AAAA,MACA;AAAA;AAIK,UAAA,qBAA8B,cAAc,aAAa,IAAI,aAAa,cAAc,IAAI,KAAK,KAAK,aAAa,WAAW,IAAI;UAElI,cAAuB,gBAAgB;UACvC,aAAsB,gBAAgB;AAGtC,UAAA,YAAqB,eAAe,IAAI,KAAK,cAAc,KAAK,cAAc;AAC9E,UAAA,UAAmB,eAAe,IAAI,IAAI,KAAK,IAAI,cAAc,aAAa,UAAU;aAWrF,kBAAkB,MAAc;AAExC,oBAAc;AAEd,4BAAsB,IAAI;AAAA,IAC3B;+JAMQA,gBAAgB,CAAA,iEAAAC,YACgC,WAAW,8BAC3DC,cAAc,CAAA,iEAAAD,YACkC,kBAAkB,CAAA,8DAAA;AAEnE,QAAA,aAAa,GAAC;;AACjB,MAAAE,YAAA,KAAA,GAAAF,YAAAG,kBAAmB,CAAA,CAAA,0DAAAH,YAA2D,SAAS,8EACtC,OAAO,CAAA,WAAAA,YAExDC,cAAc,CAAA,0DAAAD,YACwC,UAAU,CAAA,WAAAA,YAChEI,gBAAiB,CAAA,CAAA,EAAA;AAAA;;sCAEjBD,kBAAmB,CAAA,CAAA,MAAAH,YAAOC,aAAc,CAAA,CAAA,MAAAD,YAAOI,gBAAiB,CAAA,CAAA,EAAA;AAAA;AAWzD,IAAAF,YAAA,KAAA,2FAAAG,KAAA,YAAA,aAAW,IAAA,CAAA,yPAAAA,KAAA,iBAKN,WAAW,CAAA,uIAAAA,KAAA,YAQhB,uSAKK,WAAW,CAAA,iIAAA;;;eAOd;AAAA,mBACD,UAAU,kBAAkB,SAAU,MAAM,OAA6B,KAAK,CAAA;AAAA;;;;;;6CAKlF,kBAAkB;;cAAI,WAAQ,WAAA,OAAA;;;;qBACiD;AAAA;;8CACnF,QAAQ,CAAA;AAAA,MACRL,YAAAM,gBAAgB,CAAA,EAAA;AAAA;;;;;;AAQT,IAAAJ,YAAA,KAAA,WAAAG,KAAA,YAAA,YAAU,IAAA,CAAA,uPAAAA,KAAA,iBAKL,UAAU,CAAA,0IAAAA,KAAA,YAQf,8RAKK,UAAU,CAAA,mIAAA;;EAzFnB,CAAA;;"}