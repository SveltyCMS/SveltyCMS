{"version":3,"file":"Input3.js","sources":["../../../../src/widgets/core/Group/Input.svelte"],"sourcesContent":["<!--\n@file src/widgets/core/Group/Display.svelte\n@component\n**Group Widget Display Component**\n\nRenders grouped content in a read-only display format with collapsible functionality.\n\n@example\n<GroupDisplay {field} {value} {children} />\n\n#### Props\n- `field: FieldType` - The group field configuration\n- `value: GroupWidgetData | null | undefined` - The group data\n- `children?: any` - Rendered child widgets to display\n\n#### Features\n- Visual grouping with clean separation\n- Collapsible display functionality\n- Multiple styling variants (default, card, bordered)\n- Responsive design\n- Accessible with ARIA attributes\n- Keyboard navigation support\n- Nested content support\n-->\n\n<script lang=\"ts\">\n\timport { getFieldName } from '@shared/utils/utils';\n\timport type { FieldType, GroupWidgetData } from './';\n\n\tinterface Props {\n\t\tfield: FieldType;\n\t\tvalue: GroupWidgetData | null | undefined;\n\t\tchildren?: any;\n\t}\n\n\tlet { field, value, children }: Props = $props();\n\n\tconst fieldName = $derived(getFieldName(field));\n\n\t// Variant classes\n\tconst variantClasses = {\n\t\tdefault: {\n\t\t\tcontainer: '',\n\t\t\theader: 'border-b border-gray-200 bg-transparent dark:border-gray-700',\n\t\t\tcontent: 'bg-transparent pt-3'\n\t\t},\n\t\tcard: {\n\t\t\tcontainer: 'rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800',\n\t\t\theader: 'rounded-t-lg border-b border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700',\n\t\t\tcontent: 'p-4'\n\t\t},\n\t\tbordered: {\n\t\t\tcontainer: 'rounded-lg border border-gray-300 dark:border-gray-600',\n\t\t\theader: 'rounded-t-lg border-b border-gray-300 bg-gray-100 dark:border-gray-600 dark:bg-gray-700',\n\t\t\tcontent: 'rounded-b-lg bg-white p-4 dark:bg-gray-800'\n\t\t}\n\t};\n\n\tconst variant = $derived(variantClasses[field.variant as keyof typeof variantClasses] || variantClasses.default);\n\n\t// State for collapsible functionality\n\tlet isCollapsed = $state(false);\n\t$effect(() => {\n\t\tisCollapsed = (field.collapsed as boolean) || false;\n\t});\n\n\t/**\n\t * Toggle collapse state\n\t */\n\tfunction toggleCollapse(): void {\n\t\tif (field.collapsible) {\n\t\t\tisCollapsed = !isCollapsed;\n\t\t}\n\t}\n\n\t/**\n\t * Handle keyboard navigation\n\t */\n\tfunction handleKeyDown(event: KeyboardEvent): void {\n\t\tif (event.key === 'Enter' || event.key === ' ') {\n\t\t\tevent.preventDefault();\n\t\t\ttoggleCollapse();\n\t\t}\n\t}\n</script>\n\n<div class=\"mb-4 w-full {variant.container}\">\n\t<!-- Group Header -->\n\t{#if field.groupTitle || field.collapsible}\n\t\t{#if field.collapsible}\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"flex w-full items-center justify-between p-3 transition-colors duration-200 {variant.header} {field.collapsible\n\t\t\t\t\t? 'cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:hover:bg-gray-700'\n\t\t\t\t\t: ''}\"\n\t\t\t\taria-expanded={!isCollapsed}\n\t\t\t\taria-controls={`${fieldName}-content`}\n\t\t\t\tonclick={toggleCollapse}\n\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t>\n\t\t\t\t{#if field.groupTitle}\n\t\t\t\t\t<h4 class=\"m-0 text-base font-semibold text-gray-900 dark:text-gray-100\">\n\t\t\t\t\t\t{field.groupTitle}\n\t\t\t\t\t</h4>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"transition-transform duration-200 ease-in-out {isCollapsed ? 'rotate-180' : ''}\">\n\t\t\t\t\t<iconify-icon icon=\"mdi:chevron-down\" width=\"18\" height=\"18\" class=\"text-gray-500\"></iconify-icon>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t{:else}\n\t\t\t<div class=\"flex items-center justify-between p-3 {variant.header}\">\n\t\t\t\t{#if field.groupTitle}\n\t\t\t\t\t<h4 class=\"m-0 text-base font-semibold text-gray-900 dark:text-gray-100\">\n\t\t\t\t\t\t{field.groupTitle}\n\t\t\t\t\t</h4>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n\n\t<!-- Group Content -->\n\t<div\n\t\tid={field.collapsible ? `${fieldName}-content` : undefined}\n\t\tclass=\"overflow-hidden transition-all duration-200 ease-in-out {variant.content} {isCollapsed ? 'max-h-0 opacity-0' : 'max-h-screen opacity-100'}\"\n\t>\n\t\t{#if children}\n\t\t\t{@render children()}\n\t\t{:else if value && Object.keys(value).length > 0}\n\t\t\t<div class=\"rounded border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900\">\n\t\t\t\t<pre class=\"whitespace-pre-wrap font-mono text-sm text-gray-700 dark:text-gray-300\">{JSON.stringify(value, null, 2)}</pre>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex items-center justify-center px-4 py-6\">\n\t\t\t\t<p class=\"text-center text-sm italic text-gray-500 dark:text-gray-400\">No content in this group</p>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["$$renderer","$.attr_class","$.stringify","$.attr","$.escape"],"mappings":";;;wCAyBA;UAUO,OAAO,OAAO,SAAQ,IAAA;UAEtB,YAAqB,aAAa,KAAK;UAGvC,iBAAc;AAAA,MACnB,SAAO;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,SAAS;AAAA;MAEV,MAAI;AAAA,QACH,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,SAAS;AAAA;MAEV,UAAQ;AAAA,QACP,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,SAAS;AAAA;;UAIL,UAAmB,eAAe,MAAM,OAAO,KAAoC,eAAe;AA4BhF,IAAAA,YAAA,KAAA,OAAAC,WAAA,eAAAC,UAAA,QAAQ,SAAS,CAAA,EAAA,CAAA,GAAA;AAEpC,QAAA,MAAM,cAAc,MAAM,aAAW;;AACpC,UAAA,MAAM,aAAW;;AAGgE,QAAAF,YAAA,KAAA,wBAAAC,WAAA,+EAAAC,UAAA,QAAQ,MAAM,CAAA,IAAAA,UAAG,MAAM,cACxG,sIACA,EAAE,CAAA,EAAA,CAAA,GAAAC,KAAA,iBAAA,IACsB,CAAA,GAAAA,KAAA,iBAAA,GACT,SAAS,UAAA,CAAA,GAAA;AAItB,YAAA,MAAM,YAAU;;AAElB,UAAAH,YAAA,KAAA,4EAAAI,YAAA,MAAM,UAAU,CAAA,OAAA;AAAA;;;+GAIqE,EAAE,CAAA,EAAA,CAAA,oHAAA;AAAA;;AAKxC,QAAAJ,YAAA,KAAA,OAAAC,WAAA,yCAAAC,UAAA,QAAQ,MAAM,CAAA,EAAA,CAAA,GAAA;AAC3D,YAAA,MAAM,YAAU;;AAElB,UAAAF,YAAA,KAAA,4EAAAI,YAAA,MAAM,UAAU,CAAA,OAAA;AAAA;;;;;;;;;AASjB,IAAAJ,YAAA,KAAA,gBAAAG,KAAA,MAAA,MAAM,cAAW,GAAM,SAAS,aAAa,MAAS,CAAA,GAAAF,WAAA,2DAAAC,UACM,QAAQ,OAAO,CAAA,IAAAA,UAAuC,0BAA0B,CAAA,EAAA,CAAA,GAAA;QAE3I,UAAQ;;AACH,eAAQF,WAAA;;;;UACR,SAAS,OAAO,KAAK,KAAK,EAAE,SAAS,GAAC;;AAEuC,QAAAA,YAAA,KAAA,wLAAAI,YAAA,KAAK,UAAU,OAAO,MAAM,CAAC,CAAA,CAAA,cAAA;AAAA;;;;;;;EA9C9G,CAAA;;"}