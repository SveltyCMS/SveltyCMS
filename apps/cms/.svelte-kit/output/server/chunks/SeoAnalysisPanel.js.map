{"version":3,"file":"SeoAnalysisPanel.js","sources":["../../../../src/widgets/custom/Seo/components/SeoAnalysisPanel.svelte"],"sourcesContent":["<!--\n@file src/widgets/custom/Seo/components/SeoAnalysisPanel.svelte\n@component\n**SEO Analysis Panel**\nDisplays the overall score and a scrollable list of suggestions.\nDesigned to be used in a dashboard layout (e.g. side-by-side with preview).\n-->\n\n<script lang=\"ts\">\n\timport type { SeoAnalysisResult } from '../seoTypes';\n\timport { slide } from 'svelte/transition';\n\n\tinterface Props {\n\t\tanalysisResult: SeoAnalysisResult | null;\n\t\tclass?: string;\n\t\texpanded?: boolean;\n\t\tisAnalyzing?: boolean;\n\t}\n\n\tlet { analysisResult, class: className = '', expanded = $bindable(false), isAnalyzing = false }: Props = $props();\n</script>\n\n<div class=\"card preset-tonal-surface flex flex-col overflow-hidden {className} transition-all duration-300 {expanded ? 'h-[500px]' : 'h-16'}\">\n\t<button\n\t\ttype=\"button\"\n\t\tclass=\"flex items-center gap-4 w-full p-3 bg-surface-100-800-token hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors text-left\"\n\t\tonclick={() => (expanded = !expanded)}\n\t>\n\t\t<div class=\"flex items-center gap-2 flex-1\">\n\t\t\t<iconify-icon icon=\"mdi:google-analytics\" class=\"text-tertiary-500 text-xl\"></iconify-icon>\n\t\t\t<h3 class=\"h3 text-lg!\">Analysis</h3>\n\t\t</div>\n\n\t\t{#if analysisResult}\n\t\t\t<div class=\"flex items-center gap-3\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"font-bold text-lg {analysisResult.score.overall >= 80\n\t\t\t\t\t\t? 'text-success-500'\n\t\t\t\t\t\t: analysisResult.score.overall >= 50\n\t\t\t\t\t\t\t? 'text-warning-500'\n\t\t\t\t\t\t\t: 'text-error-500'}\"\n\t\t\t\t>\n\t\t\t\t\t{isNaN(analysisResult.score.overall) ? '0' : analysisResult.score.overall}%\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-xs opacity-70 hidden sm:block\">\n\t\t\t\t\t{#if analysisResult.score.overall >= 80}\n\t\t\t\t\t\tExcellent\n\t\t\t\t\t{:else if analysisResult.score.overall >= 50}\n\t\t\t\t\t\tGood Start\n\t\t\t\t\t{:else}\n\t\t\t\t\t\tNeeds Work\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<iconify-icon icon={expanded ? 'mdi:chevron-up' : 'mdi:chevron-down'} class=\"text-surface-400\"></iconify-icon>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"text-xs opacity-50\">\n\t\t\t\t{#if isAnalyzing}\n\t\t\t\t\tAnalyzing...\n\t\t\t\t{:else}\n\t\t\t\t\tNo data\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</button>\n\n\t{#if expanded}\n\t\t{#if isAnalyzing}\n\t\t\t<div class=\"flex-1 flex flex-col items-center justify-center text-surface-400 opacity-50 p-4\">\n\t\t\t\t<div class=\"placeholder-circle animate-pulse w-8 h-8 mb-2\"></div>\n\t\t\t\t<span class=\"text-xs\">Analyzing...</span>\n\t\t\t</div>\n\t\t{:else if analysisResult}\n\t\t\t<!-- Scrollable Suggestions -->\n\t\t\t<div class=\"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar border-t border-surface-500/20\" transition:slide>\n\t\t\t\t{#if analysisResult.suggestions.length > 0}\n\t\t\t\t\t{#each analysisResult.suggestions as suggestion}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"card p-3 border-l-4 {suggestion.type === 'error'\n\t\t\t\t\t\t\t\t? 'border-error-500 bg-error-500/10'\n\t\t\t\t\t\t\t\t: suggestion.type === 'warning'\n\t\t\t\t\t\t\t\t\t? 'border-warning-500 bg-warning-500/10'\n\t\t\t\t\t\t\t\t\t: 'border-primary-500 bg-primary-500/10'}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"flex items-start gap-2\">\n\t\t\t\t\t\t\t\t<div class=\"mt-0.5 shrink-0\">\n\t\t\t\t\t\t\t\t\t<iconify-icon\n\t\t\t\t\t\t\t\t\t\ticon={suggestion.type === 'error' ? 'mdi:alert-circle' : suggestion.type === 'warning' ? 'mdi:alert' : 'mdi:information'}\n\t\t\t\t\t\t\t\t\t\tclass={suggestion.type === 'error' ? 'text-error-500' : suggestion.type === 'warning' ? 'text-warning-500' : 'text-primary-500'}\n\t\t\t\t\t\t\t\t\t></iconify-icon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t<div class=\"font-bold text-sm truncate\" title={suggestion.title}>{suggestion.title}</div>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs opacity-80 line-clamp-2\" title={suggestion.description}>{suggestion.description}</p>\n\t\t\t\t\t\t\t\t\t{#if suggestion.fix}\n\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1.5 text-[10px] font-mono bg-surface-100 dark:bg-surface-700 p-1.5 rounded opacity-80\">\n\t\t\t\t\t\t\t\t\t\t\t<strong>Fix:</strong>\n\t\t\t\t\t\t\t\t\t\t\t{suggestion.fix}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"alert variant-soft-success\">\n\t\t\t\t\t\t<iconify-icon icon=\"mdi:check-circle\" class=\"text-xl\"></iconify-icon>\n\t\t\t\t\t\t<span class=\"text-sm\">No issues found!</span>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex-1 flex flex-col items-center justify-center text-surface-400 opacity-50 p-4\">\n\t\t\t\t<span class=\"text-xs\">Run analysis to see results.</span>\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n</div>\n\n<style>\n\t.custom-scrollbar::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\t.custom-scrollbar::-webkit-scrollbar-track {\n\t\tbackground: transparent;\n\t}\n\t.custom-scrollbar::-webkit-scrollbar-thumb {\n\t\tbackground-color: rgba(156, 163, 175, 0.5);\n\t\tborder-radius: 20px;\n\t}\n</style>\n"],"names":["$$renderer","$.attr_class","$.stringify","$.escape","$.ensure_array_like","$.attr","$.clsx"],"mappings":";;wCAQA;;MAWO;AAAA,MAAgB,OAAO,YAAY;AAAA,MAAI,WAAqB;AAAA,MAAQ,cAAc;AAAA;AAGpB,IAAAA,YAAA,KAAA,OAAAC,WAAA,2DAAAC,UAAA,SAAS,CAAA,gCAAAA,UAA+B,WAAW,cAAc,MAAM,CAAA,IAAA,eAAA,CAAA,4VAAA;QAWrI,gBAAc;;AAGU,MAAAF,YAAA,KAAA,4CAAAC,WAAA,qBAAAC,UAAA,eAAe,MAAM,WAAW,KACvD,qBACA,eAAe,MAAM,WAAW,KAC/B,qBACA,gBAAgB,CAAA,EAAA,CAAA,IAAAC,YAEnB,MAAM,eAAe,MAAM,OAAO,IAAI,MAAM,eAAe,MAAM,OAAO,CAAA,0DAAA;AAGpE,UAAA,eAAe,MAAM,WAAW,IAAE;;;;;AAE7B,YAAA,eAAe,MAAM,WAAW,IAAE;;;;;;;;;mEAMzB,WAAW,mBAAmB,kBAAkB,CAAA,iDAAA;AAAA;;;UAI/D,aAAW;;;;;;;;;;QASd,UAAQ;;UACP,aAAW;;;;;YAKN,gBAAc;;;AAGjB,cAAA,eAAe,YAAY,SAAS,GAAC;;;AAClC,kBAAA,aAAAC,kBAAA,eAAe,WAAW;;kBAAI,aAAU,WAAA,OAAA;kFAEjB,WAAW,SAAS,UAC7C,qCACA,WAAW,SAAS,YACnB,yCACA,sCAAsC,CAAA,EAAA,CAAA,kFAAAC,KAAA,QAKjC,WAAW,SAAS,UAAU,qBAAqB,WAAW,SAAS,YAAY,cAAc,iBAAiB,CAAA,GAAAJ,WAAAK,KACjH,WAAW,SAAS,UAAU,mBAAmB,WAAW,SAAS,YAAY,qBAAqB,kBAAkB,CAAA,CAAA,6FAAAD,KAAA,SAIjF,WAAW,KAAK,CAAA,IAAAF,YAAG,WAAW,KAAK,CAAA,oDAAAE,KAAA,SAChC,WAAW,WAAW,CAAA,IAAAF,YAAG,WAAW,WAAW,CAAA,OAAA;AAC5F,kBAAA,WAAW,KAAG;;AAGhB,gBAAAH,YAAA,KAAA,+HAAAG,YAAA,WAAW,GAAG,CAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;EA7ElB,CAAA;;"}