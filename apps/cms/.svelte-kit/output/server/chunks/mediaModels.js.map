{"version":3,"file":"mediaModels.js","sources":["../../../../../../shared/utils/src/media/mediaModels.ts"],"sourcesContent":["/**\n * @file src/utils/media/mediaModels.ts\n * @description Type definitions for media assets in the CMS\n *\n * Features:\n * - Unified base with specific extensions\n * - Storage-agnostic paths/URLs\n * - Flexible metadata & thumbnails\n * - Access control\n */\n\nimport type { ISODateString, DatabaseId } from '@cms-types/content';\n\nexport type StorageType = 'local' | 's3' | 'r2' | 'cloudinary';\n\nexport enum MediaType {\n\tImage = 'image',\n\tVideo = 'video',\n\tAudio = 'audio',\n\tDocument = 'document',\n\tRemoteVideo = 'remoteVideo'\n}\n\nexport type MediaAccess = 'public' | 'private' | 'protected';\n\nexport interface MediaMetadata {\n\ttitle?: string;\n\tdescription?: string;\n\tkeywords?: string[];\n\ttags?: string[];\n\taiTags?: string[];\n\tcopyright?: string;\n\tauthor?: string;\n\t/** Focal point for smart cropping (0-100 for x and y) */\n\tfocalPoint?: { x: number; y: number };\n\t/** Whether a watermark has been applied to this media */\n\twatermarkApplied?: boolean;\n\tlocation?: {\n\t\tlatitude?: number;\n\t\tlongitude?: number;\n\t\taltitude?: number;\n\t};\n\texif?: Record<string, unknown>;\n\t[key: string]: unknown;\n}\n\nexport interface WatermarkOptions {\n\turl: string;\n\tscale: number;\n\tposition:\n\t\t| 'top'\n\t\t| 'bottom'\n\t\t| 'left'\n\t\t| 'right'\n\t\t| 'centre'\n\t\t| 'north'\n\t\t| 'northeast'\n\t\t| 'east'\n\t\t| 'southeast'\n\t\t| 'south'\n\t\t| 'southwest'\n\t\t| 'west'\n\t\t| 'northwest';\n}\n\nexport interface ResizedImage {\n\turl: string;\n\twidth: number;\n\theight: number;\n\tsize: number;\n\tmimeType: string;\n}\n\nexport interface MediaVersion {\n\tversion: number;\n\turl: string;\n\tcreatedAt: ISODateString;\n\tcreatedBy: DatabaseId;\n}\n\nexport interface MediaBase {\n\t_id: DatabaseId; // Required for BaseEntity compatibility\n\ttype: MediaType;\n\thash: string;\n\tfilename: string;\n\tpath: string; // storage-relative\n\turl: string; // public URL\n\tmimeType: string;\n\tsize: number;\n\tuser: DatabaseId;\n\tcreatedAt: ISODateString;\n\tupdatedAt: ISODateString;\n\tthumbnails?: Record<string, ResizedImage>;\n\tfolderId?: DatabaseId | null;\n\toriginalId?: DatabaseId | null;\n\tmetadata?: MediaMetadata;\n\tversions?: MediaVersion[];\n\taccess?: MediaAccess;\n}\n\nexport interface MediaImage extends MediaBase {\n\ttype: MediaType.Image;\n\twidth: number;\n\theight: number;\n}\n\nexport interface MediaVideo extends MediaBase {\n\ttype: MediaType.Video;\n\tduration?: number;\n\tthumbnailUrl?: string;\n}\n\nexport interface MediaAudio extends MediaBase {\n\ttype: MediaType.Audio;\n\tduration?: number;\n}\n\nexport interface MediaDocument extends MediaBase {\n\ttype: MediaType.Document;\n\tpageCount?: number;\n}\n\nexport interface MediaRemoteVideo extends MediaBase {\n\ttype: MediaType.RemoteVideo;\n\tprovider: string; // youtube | vimeo | other\n\texternalId: string;\n\tthumbnails?: Record<string, ResizedImage>;\n}\n\nexport type MediaItem = MediaImage | MediaVideo | MediaAudio | MediaDocument | MediaRemoteVideo;\n\n/** Virtual folder for organization */\nexport interface SystemVirtualFolder {\n\t_id: string;\n\tname: string;\n\tparentId: string | null;\n\ticon?: string;\n\tcolor?: string;\n}\n\nexport { MediaType as MediaTypeEnum };\n"],"names":["MediaType"],"mappings":"AAeO,IAAK,8BAAAA,eAAL;AACNA,aAAA,OAAA,IAAQ;AACRA,aAAA,OAAA,IAAQ;AACRA,aAAA,OAAA,IAAQ;AACRA,aAAA,UAAA,IAAW;AACXA,aAAA,aAAA,IAAc;AALH,SAAAA;AAAA,GAAA,aAAA,CAAA,CAAA;"}