{"version":3,"file":"languageUtils.js","sources":["../../../../../../shared/utils/src/languageUtils.ts"],"sourcesContent":["/**\n * @file src/utils/languageUtils.ts\n * @description Display language names using browser's native Intl API\n *\n * **Purpose:**\n * Converts language codes (en, de, ja) to human-readable names using the browser's\n * built-in `Intl.DisplayNames` API instead of maintaining translation tables.\n *\n * **Why use this instead of iso639-1.json?**\n * - iso639-1.json: Static list for BROWSING/SELECTING languages (UI picker)\n * - languageUtils.ts: Dynamic display of ANY language code (even custom ones)\n *\n * **Example:**\n * - Database stores: \"de\"\n * - UI displays: \"Deutsch\" (using this utility)\n *\n * @example\n * // Display native name (language's own name)\n * getLanguageName('de')       // → \"Deutsch\"\n * getLanguageName('ja')       // → \"日本語\"\n *\n * // Display in specific language\n * getLanguageName('de', 'en') // → \"German\"\n * getLanguageName('ja', 'en') // → \"Japanese\"\n *\n * // Works with ANY code, not just ISO 639-1\n * getLanguageName('zh-CN')    // → \"中文（中国）\"\n * getLanguageName('en-US')    // → \"English (United States)\"\n */\n\nimport { logger } from '@shared/utils/logger';\n\n/**\n * Gets the native or localized name of a language using browser's Intl.DisplayNames API.\n *\n * @param tag - Language code (ISO 639-1 like 'en', 'de' or extended like 'zh-CN')\n * @param displayLocale - Optional locale to display the name in (defaults to native name)\n * @returns The language name in native form or specified display locale\n */\nexport function getLanguageName(tag: string, displayLocale?: string): string {\n\t// Early exit for invalid tags to prevent RangeError from Intl.DisplayNames\n\tif (!tag || tag.trim() === '') {\n\t\treturn tag;\n\t}\n\n\ttry {\n\t\tconst locale = displayLocale || tag;\n\t\t// Also validate locale to prevent RangeError\n\t\tif (!locale || locale.trim() === '') {\n\t\t\treturn tag;\n\t\t}\n\t\tconst languageNames = new Intl.DisplayNames([locale], { type: 'language' });\n\t\treturn languageNames.of(tag) || tag;\n\t} catch (error) {\n\t\tlogger.warn(`Error getting language name for ${tag}:`, error);\n\t\treturn tag;\n\t}\n}\n"],"names":[],"mappings":";AAuCO,SAAS,gBAAgB,KAAa,eAAgC;AAE5E,MAAI,CAAC,OAAO,IAAI,KAAA,MAAW,IAAI;AAC9B,WAAO;AAAA,EACR;AAEA,MAAI;AACH,UAAM,SAAS,iBAAiB;AAEhC,QAAI,CAAC,UAAU,OAAO,KAAA,MAAW,IAAI;AACpC,aAAO;AAAA,IACR;AACA,UAAM,gBAAgB,IAAI,KAAK,aAAa,CAAC,MAAM,GAAG,EAAE,MAAM,YAAY;AAC1E,WAAO,cAAc,GAAG,GAAG,KAAK;AAAA,EACjC,SAAS,OAAO;AACf,WAAO,KAAK,mCAAmC,GAAG,KAAK,KAAK;AAC5D,WAAO;AAAA,EACR;AACD;"}