{"version":3,"file":"_server.ts.js","sources":["../../../../../../../../src/routes/api/collections/warm-cache/+server.ts"],"sourcesContent":["import { json } from '@sveltejs/kit';\nimport { contentManager } from '@content/ContentManager';\nimport type { RequestHandler } from './$types';\n\nexport const POST: RequestHandler = async ({ request, locals }) => {\n\tconst { collectionId, entryIds } = await request.json();\n\tconst tenantId = locals.tenantId;\n\n\tif (!collectionId || !Array.isArray(entryIds)) {\n\t\treturn json({ error: 'Invalid request body' }, { status: 400 });\n\t}\n\n\ttry {\n\t\tawait contentManager.warmEntriesCache(collectionId, entryIds, tenantId);\n\t\treturn json({ success: true });\n\t} catch (err) {\n\t\treturn json({ error: 'Failed to warm cache' }, { status: 500 });\n\t}\n};\n"],"names":[],"mappings":";;AAIO,MAAM,OAAuB,OAAO,EAAE,SAAS,aAAa;AAClE,QAAM,EAAE,cAAc,SAAA,IAAa,MAAM,QAAQ,KAAA;AACjD,QAAM,WAAW,OAAO;AAExB,MAAI,CAAC,gBAAgB,CAAC,MAAM,QAAQ,QAAQ,GAAG;AAC9C,WAAO,KAAK,EAAE,OAAO,uBAAA,GAA0B,EAAE,QAAQ,KAAK;AAAA,EAC/D;AAEA,MAAI;AACH,UAAM,eAAe,iBAAiB,cAAc,UAAU,QAAQ;AACtE,WAAO,KAAK,EAAE,SAAS,MAAM;AAAA,EAC9B,SAAS,KAAK;AACb,WAAO,KAAK,EAAE,OAAO,uBAAA,GAA0B,EAAE,QAAQ,KAAK;AAAA,EAC/D;AACD;"}