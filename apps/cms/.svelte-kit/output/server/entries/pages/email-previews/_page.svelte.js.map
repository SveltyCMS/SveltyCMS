{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/routes/email-previews/+page.svelte"],"sourcesContent":["<!-- \n@file src/routes/email-previews/+page.svelte\n@component\n**Email Preview Page**\n- Lazy-loads the previewer to prevent SSR crashes and reduce bundle size.\n- Uses Svelte's {#await} block for cleaner async handling.\n\n@example\n<EmailPreview />\n\n### Props\n- `data` {object} - Object containing user data\n\n### Features\n- Displays widgets for previewing email templates\n-->\n\n<script lang=\"ts\">\n\timport { browser } from '$app/environment';\n\timport type { PageData } from './$types';\n\n\t// props\n\tinterface Props {\n\t\tdata: PageData;\n\t}\n\n\tconst { data }: Props = $props();\n\n\t// Use $derived to ensure reactivity\n\tconst emailList = $derived({\n\t\t...data,\n\t\tpath: data.path ?? null\n\t});\n</script>\n\n{#if emailList.files && emailList.files.length}\n\t{#if browser}\n\t\t{#await import('better-svelte-email/preview')}\n\t\t\t<!-- Loading State -->\n\t\t\t<div class=\"flex h-full items-center justify-center p-10\">\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<div class=\"mb-2 text-xl font-semibold\">Loading Previewer...</div>\n\t\t\t\t\t<p class=\"text-sm text-gray-500\">Fetching email templates</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:then module}\n\t\t\t<!-- Resolved State - Dynamic component with any typing for third-party module -->\n\t\t\t{@const EmailPreviewComponent = module.EmailPreview as any}\n\t\t\t<EmailPreviewComponent {emailList} />\n\t\t{:catch error}\n\t\t\t<!-- Error State -->\n\t\t\t<div class=\"rounded border border-red-200 bg-red-50 p-4 text-red-500\">\n\t\t\t\t<p class=\"font-bold\">Failed to load email previewer</p>\n\t\t\t\t<pre class=\"mt-2 text-xs\">{error.message}</pre>\n\t\t\t</div>\n\t\t{/await}\n\t{/if}\n{:else}\n\t<div class=\"p-8 text-center text-gray-500\">\n\t\t<p>No email templates found in <code class=\"rounded bg-gray-100 px-1 py-0.5\">/src/components/emails</code>.</p>\n\t</div>\n{/if}\n"],"names":[],"mappings":";;wCAiBA;YASS,KAAI,IAAA;UAGN,YAAS,EAAA,GACX,MACH,MAAM,KAAK,QAAQ,KAAA;AAIhB,QAAA,UAAU,SAAS,UAAU,MAAM,QAAM;;;;;;;;;;;EAFtC,CAAA;;"}