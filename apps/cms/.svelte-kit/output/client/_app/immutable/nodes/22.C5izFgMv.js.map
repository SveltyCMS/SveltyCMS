{"version":3,"file":"22.C5izFgMv.js","sources":["../../../../../../src/routes/mediagallery/uploadMedia/LocalUpload.svelte","../../../../../../src/routes/mediagallery/uploadMedia/RemoteUpload.svelte","../../../../../../src/routes/mediagallery/uploadMedia/+page.svelte"],"sourcesContent":["<!-- \n@files src/routes/(app)/mediagallery/uploadMedia/LocalUpload.svelte\n@component\n**This page is used to local upload media to the media gallery**\n\n## Props\n- \n\n### Features:\n- Drag and drop file upload\n- File validation (size, type)\n- Duplicate file detection\n- Thumbnail generation\n- File upload progress\n- Cancel upload\n\t\n-->\n<script lang=\"ts\">\n\timport { logger } from '@shared/utils/logger';\n\timport { toaster } from '@shared/stores/store.svelte';\n\timport { goto } from '$app/navigation';\n\timport { untrack } from 'svelte';\n\n\timport { Tooltip, Portal } from '@skeletonlabs/skeleton-svelte';\n\n\tlet files: File[] = $state([]);\n\tlet input: HTMLInputElement | null = $state(null);\n\tlet dropZone: HTMLDivElement | null = $state(null);\n\tlet uploadProgress = $state(0);\n\tlet uploadSpeed = $state(0);\n\tlet isUploading = $state(false);\n\n\t// Internal state moved from ModalUploadMedia\n\tlet fileSet = $state(new Set<string>());\n\n\tlet objectUrls = $state<Map<string, string>>(new Map());\n\n\tconst MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB\n\tconst ALLOWED_TYPES = [\n\t\t'image/jpeg',\n\t\t'image/png',\n\t\t'image/gif',\n\t\t'image/webp',\n\t\t'image/svg+xml',\n\t\t'video/mp4',\n\t\t'video/webm',\n\t\t'audio/mpeg',\n\t\t'audio/wav',\n\t\t'application/pdf',\n\t\t'application/msword',\n\t\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t];\n\n\t// Async Thumbnail Generation Effect\n\t$effect(() => {\n\t\tconst currentFiles = files;\n\t\tconst previousObjectUrls = untrack(() => new Map(objectUrls));\n\n\t\t// Use a local map to track progress during this run\n\t\tconst nextObjectUrls = new Map(previousObjectUrls);\n\t\tlet isActive = true;\n\n\t\tasync function generateThumbnails() {\n\t\t\tfor (const file of currentFiles) {\n\t\t\t\tif (!isActive) return;\n\n\t\t\t\tconst fileKey = `${file.name}-${file.size}`;\n\n\t\t\t\t// Skip if we already have a URL for this file\n\t\t\t\tif (!nextObjectUrls.has(fileKey)) {\n\t\t\t\t\tif (file.type?.startsWith('image/') || file.type?.startsWith('audio/')) {\n\t\t\t\t\t\tconst url = URL.createObjectURL(file);\n\t\t\t\t\t\tnextObjectUrls.set(fileKey, url);\n\n\t\t\t\t\t\t// Update state incrementally to show progress without freezing\n\t\t\t\t\t\tobjectUrls = new Map(nextObjectUrls);\n\n\t\t\t\t\t\t// Yield to main thread to allow UI rendering\n\t\t\t\t\t\tawait new Promise((resolve) => requestAnimationFrame(resolve));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cleanup phase: Remove URLs for files that are no longer present\n\t\t\tif (isActive) {\n\t\t\t\tconst currentFileKeys = new Set(currentFiles.map((f) => `${f.name}-${f.size}`));\n\t\t\t\tfor (const [key, url] of previousObjectUrls) {\n\t\t\t\t\tif (!currentFileKeys.has(key)) {\n\t\t\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t\t\tnextObjectUrls.delete(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Final state update\n\t\t\t\tobjectUrls = nextObjectUrls;\n\t\t\t}\n\t\t}\n\n\t\tgenerateThumbnails();\n\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t});\n\n\t// Cleanup on destroy\n\t$effect(() => {\n\t\treturn () => {\n\t\t\tobjectUrls.forEach((url) => URL.revokeObjectURL(url));\n\t\t};\n\t});\n\n\t// Helper: Get icon string\n\tfunction getFileIcon(file: File): string {\n\t\tconst fileExt = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();\n\t\tswitch (true) {\n\t\t\tcase file.type?.startsWith('image/'):\n\t\t\t\treturn 'fa-solid:image';\n\t\t\tcase file.type?.startsWith('video/'):\n\t\t\t\treturn 'fa-solid:video';\n\t\t\tcase file.type?.startsWith('audio/'):\n\t\t\t\treturn 'fa-solid:play-circle';\n\t\t\tcase fileExt === '.pdf':\n\t\t\t\treturn 'vscode-icons:file-type-pdf2';\n\t\t\tcase fileExt === '.doc' || fileExt === '.docx' || fileExt === '.docm':\n\t\t\t\treturn 'vscode-icons:file-type-word';\n\t\t\tcase fileExt === '.ppt' || fileExt === '.pptx':\n\t\t\t\treturn 'vscode-icons:file-type-powerpoint';\n\t\t\tcase fileExt === '.xls' || fileExt === '.xlsx':\n\t\t\t\treturn 'vscode-icons:file-type-excel';\n\t\t\tcase fileExt === '.txt':\n\t\t\t\treturn 'fa-solid:file-lines';\n\t\t\tcase fileExt === '.zip' || fileExt === '.rar':\n\t\t\t\treturn 'fa-solid:file-zipper';\n\t\t\tdefault:\n\t\t\t\treturn 'vscode-icons:file';\n\t\t}\n\t}\n\n\t// Format MIME type for display\n\tfunction formatMimeType(mime?: string): string {\n\t\tif (!mime) return 'Unknown';\n\t\tconst parts = mime.split('/');\n\t\treturn parts[1] ? parts[1].toUpperCase() : parts[0].toUpperCase();\n\t}\n\n\tfunction validateAndAddFiles(newFiles: File[]) {\n\t\tconst validFiles: File[] = [];\n\t\tconst errors: string[] = [];\n\n\t\tnewFiles.forEach((file) => {\n\t\t\tif (file.size > MAX_FILE_SIZE) {\n\t\t\t\terrors.push(`${file.name} exceeds maximum file size of 50MB`);\n\t\t\t} else if (!ALLOWED_TYPES.includes(file.type)) {\n\t\t\t\terrors.push(`${file.name} is not an allowed file type`);\n\t\t\t} else {\n\t\t\t\t// Check for duplicates\n\t\t\t\tconst fileKey = `${file.name}-${file.size}`;\n\t\t\t\tif (fileSet.has(fileKey)) {\n\t\t\t\t\t// Silent skip or warn? using simple toast if needed, but usually redundant\n\t\t\t\t} else {\n\t\t\t\t\tvalidFiles.push(file);\n\t\t\t\t\tfileSet.add(fileKey);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (errors.length > 0) {\n\t\t\ttoaster.error({ description: errors.join('\\n') });\n\t\t}\n\n\t\tif (validFiles.length > 0) {\n\t\t\tfiles = [...files, ...validFiles];\n\t\t}\n\t}\n\n\tfunction handleFileDrop(event: DragEvent) {\n\t\tevent.preventDefault();\n\t\tif (!event.dataTransfer) return;\n\t\tvalidateAndAddFiles(Array.from(event.dataTransfer.files));\n\t}\n\n\tfunction onChange() {\n\t\tif (!input || !input.files) return;\n\t\tvalidateAndAddFiles(Array.from(input.files));\n\t\tif (input) input.value = '';\n\t}\n\n\tfunction handleDragOver(e: DragEvent) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (dropZone) dropZone.style.borderColor = '#5fd317';\n\t}\n\n\tfunction handleDragLeave(e: DragEvent) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tdropZone?.style.removeProperty('border-color');\n\t}\n\n\tfunction handleDeleteFile(file: File) {\n\t\tconst fileKey = `${file.name}-${file.size}`;\n\t\tfiles = files.filter((f) => f !== file);\n\t\tfileSet.delete(fileKey);\n\t}\n\n\tfunction handleCancel() {\n\t\tfiles = [];\n\t\tfileSet.clear();\n\t\t// Revoke immediately\n\t\tobjectUrls.forEach((url) => URL.revokeObjectURL(url));\n\t\tobjectUrls = new Map();\n\t}\n\n\t// Format bytes for display\n\tfunction formatBytes(bytes: number): string {\n\t\tif (bytes === 0) return '0 Bytes';\n\t\tconst k = 1024;\n\t\tconst sizes = ['Bytes', 'KB', 'MB', 'GB'];\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\t\treturn parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n\t}\n\n\tasync function uploadLocalFiles() {\n\t\tif (files.length === 0) {\n\t\t\ttoaster.warning({ description: 'No files selected for upload' });\n\t\t\treturn;\n\t\t}\n\n\t\tisUploading = true;\n\t\tuploadProgress = 0;\n\t\tconst startTime = Date.now();\n\t\tlet lastLoaded = 0;\n\n\t\tconst formData = new FormData();\n\t\tfiles.forEach((file) => {\n\t\t\tformData.append('files', file);\n\t\t});\n\n\t\ttry {\n\t\t\tconst xhr = new XMLHttpRequest();\n\n\t\t\t// Track upload progress\n\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\tuploadProgress = Math.round((e.loaded * 100) / e.total);\n\n\t\t\t\t\t// Calculate upload speed (bytes per second)\n\t\t\t\t\tconst currentTime = Date.now();\n\t\t\t\t\tconst timeDiff = (currentTime - startTime) / 1000; // in seconds\n\t\t\t\t\tconst loadedDiff = e.loaded - lastLoaded;\n\t\t\t\t\tuploadSpeed = timeDiff > 0 ? loadedDiff / timeDiff : 0;\n\t\t\t\t\tlastLoaded = e.loaded;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Handle completion\n\t\t\tconst uploadPromise = new Promise((resolve, reject) => {\n\t\t\t\txhr.onload = () => {\n\t\t\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst response = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tlet data = response.data;\n\n\t\t\t\t\t\t\t// Check if data is a JSON string that needs parsing\n\t\t\t\t\t\t\tif (typeof data === 'string') {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\t\t\tlogger.debug('Parsed stringified data:', data);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tlogger.warn('Data is a string but not valid JSON:', data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (response.type === 'success' && data) resolve(data);\n\t\t\t\t\t\t\telse if (response.success !== undefined) resolve(response);\n\t\t\t\t\t\t\telse reject(new Error('Invalid response format'));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treject(new Error('Invalid response format'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error(`Upload failed: ${xhr.status}`));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\txhr.onerror = () => reject(new Error('Network error'));\n\t\t\t});\n\n\t\t\t// Post to the parent route's upload form action\n\t\t\txhr.open('POST', '/mediagallery?/upload');\n\t\t\txhr.send(formData);\n\n\t\t\tconst result: any = await uploadPromise;\n\t\t\tconst success = Array.isArray(result) ? result[0]?.success : result?.success;\n\n\t\t\tif (success) {\n\t\t\t\ttoaster.success({ description: 'Files uploaded successfully' });\n\t\t\t\thandleCancel();\n\t\t\t\tgoto('/mediagallery', { invalidateAll: true });\n\t\t\t} else {\n\t\t\t\tthrow new Error((Array.isArray(result) ? result[0]?.error : result?.error) || 'Upload failed');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger.error('Error uploading files:', error);\n\t\t\ttoaster.error({ description: 'Error uploading files: ' + (error instanceof Error ? error.message : 'Unknown error') });\n\t\t} finally {\n\t\t\tisUploading = false;\n\t\t}\n\t}\n</script>\n\n{#if files.length === 0}\n\t<!-- Drop Zone State -->\n\t<div\n\t\tbind:this={dropZone}\n\t\tondrop={handleFileDrop}\n\t\tondragover={handleDragOver}\n\t\tondragleave={handleDragLeave}\n\t\tclass=\"mt-2 flex h-[200px] w-full max-w-full select-none flex-col items-center justify-center gap-4 rounded border-2 border-dashed border-surface-600 bg-secondary-50 dark:border-surface-500 dark:bg-surface-700\"\n\t\trole=\"region\"\n\t\taria-label=\"File drop zone\"\n\t>\n\t\t<div class=\"grid grid-cols-6 items-center p-4\">\n\t\t\t<iconify-icon icon=\"fa6-solid:file-arrow-up\" width=\"40\" aria-hidden=\"true\"></iconify-icon>\n\n\t\t\t<div class=\"col-span-5 space-y-4 text-center\">\n\t\t\t\t<p class=\"font-bold\">\n\t\t\t\t\t<span class=\"text-tertiary-500 dark:text-primary-500\">Media Upload</span>\n\t\t\t\t\tDrag files here to upload\n\t\t\t\t</p>\n\n\t\t\t\t<p class=\"text-sm opacity-75\">Multiple files allowed</p>\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonclick={() => input?.click()}\n\t\t\t\t\tclass=\"preset-filled-tertiary-500 btn mt-3 dark:preset-filled-primary-500\"\n\t\t\t\t\tdisabled={isUploading}\n\t\t\t\t>\n\t\t\t\t\tBrowse Files\n\t\t\t\t</button>\n\n\t\t\t\t<!-- File Size Limit -->\n\t\t\t\t<p class=\"mt-2 text-sm text-tertiary-500 dark:text-primary-500\">Max File Size: 50 MB</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- File Input -->\n\t\t<input bind:this={input} type=\"file\" class=\"sr-only\" hidden multiple onchange={onChange} aria-hidden=\"true\" tabindex=\"-1\" />\n\t</div>\n{:else}\n\t<div class=\"mb-5 text-center sm:text-left\">\n\t\t<p class=\"text-center text-tertiary-500 dark:text-primary-500\">\n\t\t\tThis area facilitates the queuing and previewing of media files before they are officially uploaded to the gallery. Verify your selection below,\n\t\t\tthen confirm to complete the transfer.\n\t\t</p>\n\t</div>\n\t<!-- Grid View State -->\n\t<div class=\"flex flex-col space-y-4\">\n\t\t<!-- File Grid -->\n\t\t<div class=\"grid grid-cols-3 gap-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6\">\n\t\t\t{#each files as file (file.name + file.size)}\n\t\t\t\t{@const fileKey = `${file.name}-${file.size}`}\n\t\t\t\t{@const previewUrl = objectUrls.get(fileKey)}\n\t\t\t\t{@const iconName = getFileIcon(file)}\n\n\t\t\t\t<div\n\t\t\t\t\tclass=\"group relative overflow-hidden rounded border border-surface-200 shadow-sm transition-all hover:shadow-md dark:border-surface-500\"\n\t\t\t\t>\n\t\t\t\t\t<!-- Delete button -->\n\t\t\t\t\t<div class=\"absolute right-1 top-1 z-10 flex cursor-pointer shadow-sm\">\n\t\t\t\t\t\t<Tooltip positioning={{ placement: 'top' }}>\n\t\t\t\t\t\t\t<Tooltip.Trigger>\n\t\t\t\t\t\t\t\t<button type=\"button\" onclick={() => handleDeleteFile(file)} class=\"btn-icon rounded-full\" aria-label=\"Remove file\">\n\t\t\t\t\t\t\t\t\t<iconify-icon icon=\"material-symbols:delete\" width=\"24\" class=\"text-error-500\"></iconify-icon>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip.Trigger>\n\t\t\t\t\t\t\t<Portal>\n\t\t\t\t\t\t\t\t<Tooltip.Positioner>\n\t\t\t\t\t\t\t\t\t<Tooltip.Content class=\"rounded bg-surface-900 px-2 py-1 text-xs text-white shadow-xl dark:bg-surface-100 dark:text-black\">\n\t\t\t\t\t\t\t\t\t\tRemove file\n\t\t\t\t\t\t\t\t\t\t<Tooltip.Arrow class=\"fill-surface-900 dark:fill-surface-100\" />\n\t\t\t\t\t\t\t\t\t</Tooltip.Content>\n\t\t\t\t\t\t\t\t</Tooltip.Positioner>\n\t\t\t\t\t\t\t</Portal>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Preview -->\n\t\t\t\t\t<div class=\"flex aspect-square items-center justify-center\">\n\t\t\t\t\t\t{#if file.type?.startsWith('image/') && previewUrl}\n\t\t\t\t\t\t\t<img src={previewUrl} alt={file.name} class=\"h-full w-full object-contain\" />\n\t\t\t\t\t\t{:else if file.type?.startsWith('audio/') && previewUrl}\n\t\t\t\t\t\t\t<audio controls class=\"max-w-full\">\n\t\t\t\t\t\t\t\t<source src={previewUrl} type={file.type} />\n\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<iconify-icon icon={iconName} width=\"48\" class=\"opacity-50\"></iconify-icon>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Media Filename -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"label overflow-hidden text-ellipsis whitespace-nowrap p-1 text-center font-bold text-xs text-tertiary-500 dark:text-primary-500\"\n\t\t\t\t\t\ttitle={file.name}\n\t\t\t\t\t>\n\t\t\t\t\t\t{file.name}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Media Type & Size (Footer) -->\n\t\t\t\t\t<div class=\"flex grow items-center justify-between p-1 text-white\">\n\t\t\t\t\t\t<!-- Type -->\n\t\t\t\t\t\t<div class=\"bg-tertiary-500 dark:bg-primary-500/50 badge flex items-center gap-1 overflow-hidden\" title={file.type}>\n\t\t\t\t\t\t\t<iconify-icon icon={iconName} width=\"12\" height=\"12\"></iconify-icon>\n\t\t\t\t\t\t\t<span class=\"truncate text-[10px] uppercase\">{formatMimeType(file.type)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- Size -->\n\t\t\t\t\t\t<p class=\"bg-tertiary-500 dark:bg-primary-500/50 badge flex shrink-0 items-center gap-1 text-[10px]\">\n\t\t\t\t\t\t\t<span class=\"\">{(file.size / 1024).toFixed(2)}</span>\n\t\t\t\t\t\t\tKB\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/each}\n\n\t\t\t<!-- Add File Card -->\n\t\t\t<button type=\"button\" class=\"btn preset-tonal flex-col items-center gap-2\" onclick={() => input?.click()}>\n\t\t\t\t<iconify-icon icon=\"mingcute:add-fill\" width=\"32\" class=\"text-tertiary-500 dark:text-primary-500\"></iconify-icon>\n\t\t\t\t<span class=\"font-bold\">Add Files</span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<!-- Hidden Input for Add Card -->\n\t\t<input bind:this={input} type=\"file\" class=\"hidden\" multiple onchange={onChange} />\n\n\t\t<!-- Actions Footer -->\n\t\t<div class=\"flex items-center justify-between border-t border-surface-200 pt-4 dark:border-surface-700\">\n\t\t\t<button type=\"button\" class=\"btn preset-outlined-surface-500\" onclick={handleCancel}>Cancel</button>\n\t\t\t<button type=\"button\" class=\"btn dark:preset-filled-primary-500 preset-filled-tertiary-500\" onclick={uploadLocalFiles} disabled={isUploading}>\n\t\t\t\t{#if isUploading}\n\t\t\t\t\t<iconify-icon icon=\"eos-icons:loading\" class=\"animate-spin\"></iconify-icon>\n\t\t\t\t\t<span>Uploading... {uploadProgress}%</span>\n\t\t\t\t{:else}\n\t\t\t\t\t<iconify-icon icon=\"mingcute:check-fill\"></iconify-icon>\n\t\t\t\t\t<span>Upload {files.length} File{files.length !== 1 ? 's' : ''}</span>\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n{/if}\n\n<!-- Upload Progress Overlay (Optional, or keep inline in button) -->\n{#if isUploading}\n\t<div class=\"mt-4 w-full rounded border border-surface-400 bg-surface-100 p-4 dark:bg-surface-700\">\n\t\t<!-- Progress Bar -->\n\t\t<div class=\"mb-2 h-2 w-full overflow-hidden rounded-full bg-surface-300 dark:bg-surface-600\">\n\t\t\t<div class=\"h-full bg-primary-500 transition-all duration-300\" style=\"width: {uploadProgress}%\"></div>\n\t\t</div>\n\t\t<div class=\"flex items-center justify-between text-xs text-surface-600 dark:text-surface-50\">\n\t\t\t<span>Speed: {formatBytes(uploadSpeed)}/s</span>\n\t\t</div>\n\t</div>\n{/if}\n","<!-- \n@files src/routes/(app)/mediagallery/uploadMedia/RemoteUpload.svelte\n@component\n**This page is used to Remote Urls to the media gallery**\n\n@example\n<RemoteUpload remoteUrls={remoteUrls} toastStore={toastStore} />\n\n### Props\n- `remoteUrls` {string[]} - Array of remote URLs\n- `toastStore` {any} - Toast store\n\n### Features\n- Displays a collection of media files based on the specified media type.\n- Provides a user-friendly interface for searching, filtering, and navigating through media files.\n- Emits the `mediaDeleted` event when a media file is deleted.\n-->\n\n<script lang=\"ts\">\n\timport { showToast } from '@shared/utils/toast';\n\timport { logger } from '@shared/utils/logger';\n\n\tlet remoteUrls: string[] = $state([]);\n\n\tfunction handleRemoteUrlInput(event: Event) {\n\t\tconst target = event.target as HTMLTextAreaElement | null;\n\t\tif (target) {\n\t\t\tremoteUrls = target.value.split('\\n').filter((url) => url.trim() !== '');\n\t\t}\n\t}\n\n\tasync function uploadRemoteUrls() {\n\t\tif (remoteUrls.length === 0) {\n\t\t\tshowToast('No URLs entered for upload', 'warning');\n\t\t\treturn;\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.append('remoteUrls', JSON.stringify(remoteUrls));\n\n\t\ttry {\n\t\t\tconst response = await fetch('?/remoteUpload', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow Error('Upload failed');\n\t\t\t}\n\n\t\t\tconst result = await response.json();\n\n\t\t\tif (result.success) {\n\t\t\t\tshowToast('URLs uploaded successfully', 'success');\n\t\t\t\tremoteUrls = []; // Clear the remote URLs array after successful upload\n\t\t\t} else {\n\t\t\t\tthrow Error(result.error || 'Upload failed');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger.error('Error uploading URLs:', error);\n\t\t\tshowToast('Error uploading URLs: ' + (error instanceof Error ? error.message : 'Unknown error'), 'error');\n\t\t}\n\t}\n</script>\n\n<div class=\"space-y-4\">\n\t<textarea\n\t\tbind:value={remoteUrls}\n\t\tplaceholder=\"Paste Remote URLs here, one per line...\"\n\t\trows=\"6\"\n\t\tclass=\"textarea w-full bg-secondary-50 dark:bg-secondary-800\"\n\t\toninput={handleRemoteUrlInput}\n\t></textarea>\n\t<!-- Upload Button -->\n\t<button class=\"preset-filled-tertiary-500 btn mt-2 dark:preset-filled-primary-500\" onclick={uploadRemoteUrls}> Upload URLs </button>\n</div>\n","<!-- \n@files src/routes/(app)/mediagallery/uploadMedia/+page.svelte\n@component\n**This page is used to upload media to the media gallery**\n\n@example\n<ModalUploadMedia parent={parent} sectionName={sectionName} files={files} onDelete={onDelete} uploadFiles={uploadFiles} />\n\n### Props\n- `parent` {any} - Parent component\n- `sectionName` {string} - Name of the section\n- `files` {File[]} - Array of files to be uploaded **Optional**\n- `onDelete` {Function} - Function to delete a file\n- `uploadFiles` {Function} - Function to upload files\n\n### Features\n- Displays a collection of media files based on the specified media type.\n- Provides a user-friendly interface for searching, filtering, and navigating through media files.\n- Emits the `mediaDeleted` event when a media file is deleted.\n-->\n\n<script lang=\"ts\">\n\t// ParaglideJS\n\timport * as m from '@shared/paraglide/messages';\n\n\t// Components\n\timport PageTitle from '@cms/components/PageTitle.svelte';\n\timport LocalUpload from './LocalUpload.svelte';\n\timport RemoteUpload from './RemoteUpload.svelte';\n\n\t// Skeleton\n\timport { Tabs } from '@skeletonlabs/skeleton-svelte';\n\n\tlet tabSet = $state('0');\n</script>\n\n<!-- PageTitle -->\n<div class=\"mb-4 flex items-center justify-between\">\n\t<PageTitle name={m.uploadMedia_title()} icon=\"bi:images\" iconColor=\"text-tertiary-500 dark:text-primary-500\" />\n\n\t<!-- Back -->\n\t<button\n\t\tonclick={() => history.back()}\n\t\taria-label=\"Back\"\n\t\tclass=\"preset-outlined-tertiary-500 btn-icon rounded-full dark:preset-outlined-primary-500\"\n\t>\n\t\t<iconify-icon icon=\"ri:arrow-left-line\" width=\"20\"></iconify-icon>\n\t</button>\n</div>\n\n<div class=\"wrapper\">\n\t<Tabs value={tabSet} onValueChange={(e) => (tabSet = e.value)}>\n\t\t<Tabs.List class=\"flex border-b border-surface-200-800 font-bold\">\n\t\t\t<Tabs.Trigger value=\"0\" class=\"flex-1\">\n\t\t\t\t<div class=\"flex items-center justify-center gap-2 py-4\">\n\t\t\t\t\t<iconify-icon icon=\"material-symbols:database\" width=\"28\"></iconify-icon>\n\t\t\t\t\t<p class=\"text-tertiary-500 dark:text-primary-500\">Local Upload</p>\n\t\t\t\t</div>\n\t\t\t</Tabs.Trigger>\n\t\t\t<Tabs.Trigger value=\"1\" class=\"flex-1\">\n\t\t\t\t<div class=\"flex items-center justify-center gap-2 py-4\">\n\t\t\t\t\t<iconify-icon icon=\"arcticons:tautulli-remote\" width=\"28\"></iconify-icon>\n\t\t\t\t\t<p class=\"text-tertiary-500 dark:text-primary-500\">Remote Upload</p>\n\t\t\t\t</div>\n\t\t\t</Tabs.Trigger>\n\t\t\t<Tabs.Indicator />\n\t\t</Tabs.List>\n\n\t\t<Tabs.Content value=\"0\">\n\t\t\t<div class=\"p-4\">\n\t\t\t\t<LocalUpload />\n\t\t\t</div>\n\t\t</Tabs.Content>\n\t\t<Tabs.Content value=\"1\">\n\t\t\t<div class=\"p-4\">\n\t\t\t\t<RemoteUpload />\n\t\t\t</div>\n\t\t</Tabs.Content>\n\t</Tabs>\n</div>\n"],"names":["files","$.state","$.proxy","input","dropZone","uploadProgress","uploadSpeed","isUploading","fileSet","objectUrls","MAX_FILE_SIZE","ALLOWED_TYPES","$.user_effect","currentFiles","previousObjectUrls","untrack","nextObjectUrls","isActive","generateThumbnails","file","fileKey","url","resolve","currentFileKeys","f","key","$.set","getFileIcon","fileExt","formatMimeType","mime","parts","validateAndAddFiles","newFiles","validFiles","errors","toaster","$.get","handleFileDrop","event","onChange","handleDragOver","e","handleDragLeave","handleDeleteFile","handleCancel","formatBytes","bytes","k","sizes","i","uploadLocalFiles","startTime","lastLoaded","formData","xhr","timeDiff","loadedDiff","uploadPromise","reject","response","data","logger","result","goto","error","div","root_1","div_1","$.child","iconify_icon","div_2","button","$.sibling","input_1","$$value","$.reset","$.template_effect","$.event","$.append","$$anchor","div_3","$.first_child","fragment_1","div_4","previewUrl","$.derived","iconName","div_5","root_3","div_6","Tooltip","node_2","Tooltip_Trigger","button_1","root_5","iconify_icon_1","Portal","node_4","Tooltip_Positioner","Tooltip_Content","Tooltip_Arrow","div_7","img","root_9","$.set_attribute","audio","root_11","source","iconify_icon_2","root_12","$.set_custom_element_data","$$render","consequent_2","alternate","consequent_1","alternate_1","div_8","text","div_9","div_10","iconify_icon_3","span","p","span_1","$.set_text","button_2","node_1","iconify_icon_4","input_2","div_11","button_3","button_4","iconify_icon_5","fragment_7","span_2","iconify_icon_6","fragment_8","span_3","consequent_3","alternate_2","consequent","alternate_3","div_12","root_15","div_13","div_14","div_15","span_4","$.set_style","consequent_4","remoteUrls","handleRemoteUrlInput","target","uploadRemoteUrls","showToast","root","textarea","$.remove_textarea_child","tabSet","fragment","$0","m.uploadMedia_title","PageTitle","node","Tabs","Tabs_List","Tabs_Trigger","Tabs_Trigger_1","root_4","Tabs_Indicator","Tabs_Content","LocalUpload","node_7","Tabs_Content_1","root_6","RemoteUpload","node_9"],"mappings":"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"}