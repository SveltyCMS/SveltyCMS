{"version":3,"file":"DBDmFzKi.js","sources":["../../../../../../../../shared/features/src/dashboard/widgets/DiskWidget.svelte"],"sourcesContent":["<!--\n@file src/routes/\texport const widgetMeta = {\n\t\tname: 'Disk Usage',\n\t\ticon: 'mdi:harddisk',\n\t\tdefaultSize: { w: 1, h: 2 }\n\t};/dashboard/widgets/DiskWidget.svelte\n@component\n**A reusable widget component for displaying disk usage information with improved rendering and error handling**\n\n@example\n<DiskWidget label=\"Disk Usage\" />\n\n### Props\n- `label`: The label for the widget (default: 'Disk Usage')\n\nThis widget fetches and displays real-time disk usage data, including:\n- Total disk space\n- Used disk space\n- Free disk space\n- Usage percentages\n\n### Features:\n- Responsive doughnut chart visualization\n- Theme-aware rendering (light/dark mode support)\n-->\n<script lang=\"ts\" module>\n\texport const widgetMeta = {\n\t\tname: 'Disk Usage',\n\t\ticon: 'mdi:disk',\n\t\tdefaultSize: { w: 1, h: 2 }\n\t};\n</script>\n\n<script lang=\"ts\">\n\timport { BarController, BarElement, CategoryScale, Chart, LinearScale } from 'chart.js';\n\timport { onDestroy } from 'svelte';\n\t// Components\n\timport BaseWidget from '../BaseWidget.svelte';\n\timport type { WidgetSize } from '@cms-types';\n\n\t// Register Chart.js components\n\tChart.register(BarController, BarElement, CategoryScale, LinearScale);\n\n\t// Type definitions\n\tinterface DiskInfo {\n\t\ttotalGb: string | number;\n\t\tusedGb: string | number;\n\t\tfreeGb: string | number;\n\t\tusedPercentage: string | number;\n\t\tmountPoint?: string;\n\t\tfilesystem?: string;\n\t}\n\n\tinterface FetchedData {\n\t\tdiskInfo?: {\n\t\t\troot?: DiskInfo;\n\t\t};\n\t}\n\n\t// Props passed from +page.svelte, then to BaseWidget\n\tconst {\n\t\tlabel = 'Disk Usage',\n\t\ttheme = 'light',\n\t\ticon = 'mdi:harddisk',\n\t\twidgetId = undefined,\n\t\tsize = { w: 1, h: 2 } as WidgetSize,\n\t\tonSizeChange = (_newSize: WidgetSize) => {},\n\t\tonRemove = () => {}\n\t}: {\n\t\tlabel?: string;\n\t\ttheme?: 'light' | 'dark';\n\t\ticon?: string;\n\t\twidgetId?: string;\n\t\tsize?: WidgetSize;\n\t\tonSizeChange?: (newSize: WidgetSize) => void;\n\t\tonRemove?: () => void;\n\t} = $props();\n\n\tlet currentData: FetchedData | undefined = $state(undefined);\n\tlet chartCanvas: HTMLCanvasElement | undefined = $state(undefined);\n\tlet chart: Chart | undefined = $state(undefined);\n\n\tfunction updateChartAction(_canvas: HTMLCanvasElement, data: any) {\n\t\tcurrentData = data;\n\n\t\treturn {\n\t\t\tupdate(newData: any) {\n\t\t\t\tcurrentData = newData;\n\t\t\t}\n\t\t};\n\t}\n\t// Move diskInfo extraction to script for chart logic\n\tlet diskInfo: any = undefined;\n\tlet totalGB = 0;\n\t$effect(() => {\n\t\tif (currentData?.diskInfo?.root) {\n\t\t\tdiskInfo = currentData.diskInfo.root;\n\t\t\ttotalGB = typeof diskInfo.totalGb === 'string' ? parseFloat(diskInfo.totalGb) : diskInfo.totalGb || 0;\n\t\t}\n\t});\n\t$effect(() => {\n\t\tif (!chartCanvas || !diskInfo) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst used = typeof diskInfo.usedGb === 'string' ? parseFloat(diskInfo.usedGb) : Number(diskInfo.usedGb) || 0;\n\t\tconst free = typeof diskInfo.freeGb === 'string' ? parseFloat(diskInfo.freeGb) : Number(diskInfo.freeGb) || 0;\n\t\tconst usedPercent = typeof diskInfo.usedPercentage === 'string' ? parseFloat(diskInfo.usedPercentage) : Number(diskInfo.usedPercentage) || 0;\n\n\t\tif (chart) {\n\t\t\tchart.data.datasets[0].data = [used];\n\t\t\tchart.data.datasets[1].data = [free];\n\t\t\tchart.update('none');\n\t\t} else {\n\t\t\t// Destroy any existing chart on this canvas first\n\t\t\tconst existingChart = Chart.getChart(chartCanvas);\n\t\t\tif (existingChart) {\n\t\t\t\texistingChart.destroy();\n\t\t\t}\n\n\t\t\tconst diskBarLabelPlugin = {\n\t\t\t\tid: 'diskBarLabelPlugin',\n\t\t\t\tafterDatasetsDraw(chart: any) {\n\t\t\t\t\tconst ctx = chart.ctx;\n\t\t\t\t\tconst { chartArea } = chart;\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.font = 'bold 18px system-ui, -apple-system, sans-serif';\n\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\tctx.fillStyle = theme === 'dark' ? '#f9fafb' : '#111827';\n\t\t\t\t\tctx.fillText(`${usedPercent.toFixed(1)}% Used`, (chartArea.left + chartArea.right) / 2, (chartArea.top + chartArea.bottom) / 2);\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tchart = new Chart(chartCanvas, {\n\t\t\t\ttype: 'bar',\n\t\t\t\tdata: {\n\t\t\t\t\tlabels: ['Disk'],\n\t\t\t\t\tdatasets: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Used',\n\t\t\t\t\t\t\tdata: [used],\n\t\t\t\t\t\t\tbackgroundColor: usedPercent > 85 ? 'rgba(239, 68, 68, 0.8)' : usedPercent > 70 ? 'rgba(245, 158, 11, 0.8)' : 'rgba(59, 130, 246, 0.8)',\n\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\tbarPercentage: 1.0,\n\t\t\t\t\t\t\tcategoryPercentage: 1.0,\n\t\t\t\t\t\t\tstack: 'disk'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Free',\n\t\t\t\t\t\t\tdata: [free],\n\t\t\t\t\t\t\tbackgroundColor: theme === 'dark' ? 'rgba(75, 85, 99, 0.4)' : 'rgba(229, 231, 235, 0.6)',\n\t\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t\t\tbarPercentage: 1.0,\n\t\t\t\t\t\t\tcategoryPercentage: 1.0,\n\t\t\t\t\t\t\tstack: 'disk'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tindexAxis: 'y',\n\t\t\t\t\tresponsive: true,\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\tanimation: {\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\teasing: 'easeInOutQuart'\n\t\t\t\t\t},\n\t\t\t\t\tplugins: {\n\t\t\t\t\t\tlegend: { display: false },\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\tbackgroundColor: theme === 'dark' ? 'rgba(17, 24, 39, 0.9)' : 'rgba(255, 255, 255, 0.9)',\n\t\t\t\t\t\t\ttitleColor: theme === 'dark' ? '#f9fafb' : '#111827',\n\t\t\t\t\t\t\tbodyColor: theme === 'dark' ? '#d1d5db' : '#374151',\n\t\t\t\t\t\t\tborderColor: theme === 'dark' ? 'rgba(75, 85, 99, 0.5)' : 'rgba(229, 231, 235, 0.5)',\n\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\tcornerRadius: 8,\n\t\t\t\t\t\t\tdisplayColors: true,\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabel: function (context) {\n\t\t\t\t\t\t\t\t\tconst label = context.dataset.label || '';\n\t\t\t\t\t\t\t\t\tconst value = typeof context.raw === 'number' ? context.raw : 0;\n\t\t\t\t\t\t\t\t\tconst total = used + free;\n\t\t\t\t\t\t\t\t\tconst percentage = total ? (value / total) * 100 : 0;\n\t\t\t\t\t\t\t\t\treturn `${label}: ${value.toFixed(1)} GB (${percentage.toFixed(1)}%)`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: totalGB\n\t\t\t\t\t\t},\n\t\t\t\t\t\ty: {\n\t\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\t\tstacked: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [diskBarLabelPlugin]\n\t\t\t});\n\t\t}\n\t});\n\tonDestroy(() => {\n\t\tif (chart) chart.destroy();\n\t});\n</script>\n\n<BaseWidget\n\t{label}\n\t{theme}\n\tendpoint=\"/api/dashboard/systemInfo?type=disk\"\n\tpollInterval={10000}\n\t{icon}\n\t{widgetId}\n\t{size}\n\t{onSizeChange}\n\tonCloseRequest={onRemove}\n>\n\t{#snippet children({ data: fetchedData }: { data: FetchedData | undefined })}\n\t\t{#if fetchedData?.diskInfo?.root}\n\t\t\t{@const diskInfo = fetchedData.diskInfo.root}\n\t\t\t{@const totalGB = typeof diskInfo.totalGb === 'string' ? parseFloat(diskInfo.totalGb) : diskInfo.totalGb || 0}\n\t\t\t{@const usedGB = typeof diskInfo.usedGb === 'string' ? parseFloat(diskInfo.usedGb) : diskInfo.usedGb || 0}\n\t\t\t{@const freeGB = typeof diskInfo.freeGb === 'string' ? parseFloat(diskInfo.freeGb) : diskInfo.freeGb || 0}\n\t\t\t{@const usedPercentage = typeof diskInfo.usedPercentage === 'string' ? parseFloat(diskInfo.usedPercentage) : diskInfo.usedPercentage || 0}\n\t\t\t{@const freePercentage = 100 - usedPercentage}\n\t\t\t{@const usageLevel = usedPercentage > 85 ? 'high' : usedPercentage > 70 ? 'medium' : 'low'}\n\n\t\t\t<div class=\"flex h-full flex-col justify-between space-y-3\" role=\"region\" aria-label=\"Disk usage statistics\">\n\t\t\t\t<!-- First Canvas Section with Title and Status Info -->\n\t\t\t\t<div class=\"flex-1 space-y-2\">\n\t\t\t\t\t<!-- Status Info with Color Circle -->\n\t\t\t\t\t<div class=\"flex items-center justify-between px-2\">\n\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"h-3 w-3 rounded-full {usageLevel === 'high' ? 'bg-red-500' : usageLevel === 'medium' ? 'bg-yellow-500' : 'bg-green-500'}\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"absolute inset-0 h-3 w-3 rounded-full text-white dark:text-black {usageLevel === 'high'\n\t\t\t\t\t\t\t\t\t\t? 'bg-red-500'\n\t\t\t\t\t\t\t\t\t\t: usageLevel === 'medium'\n\t\t\t\t\t\t\t\t\t\t\t? 'bg-yellow-500'\n\t\t\t\t\t\t\t\t\t\t\t: 'bg-green-500'} animate-ping opacity-75\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span class=\"text-sm font-bold\">{usedPercentage.toFixed(1)}%</span>\n\t\t\t\t\t\t\t<span class=\"text-sm {theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}\">Used</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex gap-2 text-right\">\n\t\t\t\t\t\t\t<div class=\"text-sm font-semibold\">{freePercentage.toFixed(1)}%</div>\n\t\t\t\t\t\t\t<div class=\"text-sm {theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}\">Free</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Disk Usage Overview -->\n\t\t\t\t\t<h3 class=\"text-center text-xs font-semibold\">Disk Usage Overview:</h3>\n\n\t\t\t\t\t{#if diskInfo}\n\t\t\t\t\t\t<div class=\"relative flex-1\" style=\"min-height: 50px; max-height: 65px; width: 100%;\">\n\t\t\t\t\t\t\t<canvas\n\t\t\t\t\t\t\t\tbind:this={chartCanvas}\n\t\t\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t\t\t\tuse:updateChartAction={fetchedData}\n\t\t\t\t\t\t\t\tstyle=\"display: block; width: 100% !important; height: 100% !important;\"\n\t\t\t\t\t\t\t\taria-label=\"Disk usage bar chart\"\n\t\t\t\t\t\t\t></canvas>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"relative flex flex-1 items-center justify-center rounded-lg bg-gray-100\"\n\t\t\t\t\t\t\tstyle=\"min-height: 50px; max-height: 65px; width: 100%;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"text-xs text-gray-500\">No disk data</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Storage Details Canvas  -->\n\t\t\t\t<div class=\"flex-1 space-y-2\">\n\t\t\t\t\t<h3 class=\"text-center text-xs font-semibold\">Storage Details:</h3>\n\t\t\t\t\t<div class=\"flex flex-1 flex-col space-y-3\" style=\"min-height: 60px; max-height: 80px;\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"relative flex items-center overflow-hidden rounded-full {theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'}\"\n\t\t\t\t\t\t\taria-label=\"Disk usage progress bar\"\n\t\t\t\t\t\t\tstyle=\"height: 24px; min-height: 24px;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"h-full rounded-full transition-all duration-700 ease-out {usageLevel === 'high'\n\t\t\t\t\t\t\t\t\t? 'bg-linear-to-r from-red-500 to-red-600'\n\t\t\t\t\t\t\t\t\t: usageLevel === 'medium'\n\t\t\t\t\t\t\t\t\t\t? 'bg-linear-to-r from-orange-500 to-red-500'\n\t\t\t\t\t\t\t\t\t\t: 'bg-linear-to-r from-blue-500 to-blue-600'}\"\n\t\t\t\t\t\t\t\tstyle=\"width: {usedPercentage}%\"\n\t\t\t\t\t\t\t\taria-valuenow={usedPercentage}\n\t\t\t\t\t\t\t\taria-valuemin=\"0\"\n\t\t\t\t\t\t\t\taria-valuemax=\"100\"\n\t\t\t\t\t\t\t\trole=\"progressbar\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t<div class=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<span class=\"text-xs font-semibold text-white drop-shadow-sm dark:text-black\">\n\t\t\t\t\t\t\t\t\t{usedGB.toFixed(1)} GB Used\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Storage Statistics -->\n\t\t\t\t\t\t<div class=\"grid {size.w === 1 ? 'grid-cols-2' : 'grid-cols-3'} flex-1 gap-2 text-xs\">\n\t\t\t\t\t\t\t<!-- Total disk space -->\n\t\t\t\t\t\t\t<div class=\"flex flex-col space-y-1 text-center\">\n\t\t\t\t\t\t\t\t<span class={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>Total</span>\n\t\t\t\t\t\t\t\t<span class=\"text-sm font-semibold\">{totalGB.toFixed(1)} GB</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Total used disk space -->\n\t\t\t\t\t\t\t<div class=\"flex flex-col space-y-1 text-center\">\n\t\t\t\t\t\t\t\t<span class={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>Used</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"text-sm font-semibold {usageLevel === 'high'\n\t\t\t\t\t\t\t\t\t\t? 'text-red-600 dark:text-red-400'\n\t\t\t\t\t\t\t\t\t\t: usageLevel === 'medium'\n\t\t\t\t\t\t\t\t\t\t\t? 'text-orange-600 dark:text-orange-400'\n\t\t\t\t\t\t\t\t\t\t\t: 'text-blue-600 dark:text-blue-400'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{usedGB.toFixed(1)} GB\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if size.w > 1}\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col space-y-1 text-center\">\n\t\t\t\t\t\t\t\t\t<span class={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>Free</span>\n\t\t\t\t\t\t\t\t\t<span class=\"font-semibold {theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}\">{freeGB.toFixed(1)} GB</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{#if size.w >= 2}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex justify-between text-xs {theme === 'dark'\n\t\t\t\t\t\t\t? 'text-gray-400'\n\t\t\t\t\t\t\t: 'text-gray-500'} border-t border-gray-200 pt-2 dark:border-gray-700\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Mount: <span class=\"font-mono\">{diskInfo.mountPoint || '/'}</span></span>\n\t\t\t\t\t\t{#if diskInfo.filesystem}\n\t\t\t\t\t\t\t<span>FS: <span class=\"font-mono\">{diskInfo.filesystem}</span></span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex h-full flex-col items-center justify-center space-y-3\" role=\"status\" aria-live=\"polite\">\n\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t<div class=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\" aria-hidden=\"true\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<div class=\"text-sm font-medium {theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}\">Loading disk data</div>\n\t\t\t\t\t<div class=\"text-xs {theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}\">Please wait...</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t{/snippet}\n</BaseWidget>\n"],"names":["widgetMeta","Chart","BarController","BarElement","CategoryScale","LinearScale","label","theme","icon","widgetId","size","onSizeChange","$.prop","$$props","_newSize","onRemove","currentData","$.state","chartCanvas","chart","updateChartAction","_canvas","data","$.set","newData","diskInfo","totalGB","$.user_effect","$.get","used","free","usedPercent","existingChart","diskBarLabelPlugin","ctx","chartArea","context","value","total","percentage","onDestroy","BaseWidget","$$anchor","$$arg0","fetchedData","$.derived","usedGB","freeGB","usedPercentage","freePercentage","usageLevel","div","root_2","div_1","div_2","div_3","div_4","div_5","$.child","div_6","$.sibling","span","span_1","div_7","div_8","div_9","div_10","root_3","canvas","$$value","$.action","$$node","$$action_arg","div_11","root_4","$.append","$$render","consequent","alternate","div_12","div_13","div_14","div_15","div_16","span_2","$.reset","div_17","div_18","span_3","span_4","div_19","span_5","span_6","text_4","div_20","root_5","span_7","span_8","$.set_class","consequent_1","div_21","root_6","span_9","span_10","span_11","root_7","span_12","$.template_effect","$.set_text","text_7","consequent_2","consequent_3","$.set_style","$.set_attribute","div_22","root_8","div_23","div_24","div_25","consequent_4","alternate_1"],"mappings":"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"}