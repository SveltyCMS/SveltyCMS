{"version":3,"file":"DCKdS55O.js","sources":["../../../../../../src/widgets/core/Input/Display.svelte"],"sourcesContent":["<!--\n@file src/widgets/core/Input/Display.svelte\n@component\n**Text Input Widget Display Component**\n\nRenders multilingual text content with automatic truncation for list views.\nPart of the Three Pillars Architecture for widget system.\n\n@example\n<TextDisplay field={fieldDefinition} value={{ en: \"Hello World\", de: \"Hallo Welt\" }} />\nRenders current language text with truncation for long content \n\n### Props\n- `field: FieldType` - Widget field definition with translation settings\n- `value: Record<string, string> | null | undefined` - Multilingual text object\n\n### Features\n- **Multilingual Display**: Shows text in current content language automatically\n- **Smart Truncation**: Truncates text longer than 50 characters for list display\n- **Tooltip Support**: Full text available on hover via title attribute\n- **Language Awareness**: Respects field translation settings and content store\n- **Fallback Handling**: Graceful handling of missing or null values\n- **Performance Optimized**: Efficient text processing with `$derived.by()`\n- **Responsive Design**: Optimized for both detail and list view contexts\n-->\n\n<script lang=\"ts\">\n\timport { app } from '@shared/stores/store.svelte';\n\timport { publicEnv } from '@shared/stores/globalSettings.svelte';\n\timport type { FieldType } from './';\n\n\tconst { field, value }: { field: FieldType; value: Record<string, any> | null | undefined } = $props();\n\t// Determine the current language (uses store API from contentLanguage)\n\tconst lang = $derived(\n\t\tfield?.translated ? app.contentLanguage.toLowerCase() : ((publicEnv.DEFAULT_CONTENT_LANGUAGE as string) || 'en').toLowerCase()\n\t);\n\n\t// ✨ IMPROVED: Separate truncation logic from display logic for better performance\n\tconst fullText = $derived(value?.[lang] ?? value?.[Object.keys(value || {})[0]] ?? '–');\n\tconst shouldTruncate = $derived(typeof fullText === 'string' && fullText.length > 50);\n\tconst displayText = $derived(shouldTruncate ? `${fullText.substring(0, 50)}...` : fullText);\n</script>\n\n<!-- ✨ IMPROVED: Better accessibility and visual truncation -->\n<span\n\tclass=\"truncate\"\n\tclass:cursor-help={shouldTruncate}\n\ttitle={shouldTruncate ? fullText : undefined}\n\taria-label={shouldTruncate ? `${displayText} (truncated, full text: ${fullText})` : undefined}\n>\n\t{displayText}\n</span>\n"],"names":["lang","app","publicEnv","fullText","$.derived","$$props","$.get","shouldTruncate","displayText","span","root","text","$.child","$.reset","classes","$.set_class","$.set_attribute","$.append","$$anchor"],"mappings":"mSA0BA,SAOO,MAAAA,iBACE,WAAaC,EAAI,gBAAgB,YAAW,GAAOC,EAAU,0BAAuC,MAAM,YAAW,CAAA,EAIvHC,EAAQC,EAAA,IAAAC,EAAA,QAAAC,EAAoBN,CAAI,CAAA,GAAAK,EAAA,QAAa,OAAO,KAAIA,EAAA,OAAA,CAAA,CAAA,EAAc,CAAC,CAAA,GAAM,GAAG,EAChFE,EAAcH,EAAA,IAAA,OAAAE,EAAmBH,CAAQ,GAAK,YAAYA,CAAQ,EAAC,OAAS,EAAE,EAC9EK,UAAuBD,CAAc,EAAM,GAAAD,EAAAH,CAAQ,EAAC,UAAU,EAAG,EAAE,CAAA,QAASA,CAAQ,CAAA,EAI1F,IAAAM,EAAAC,EAAA,QAAA,IAAAC,EAAAC,EAAAH,EAAA,EAAA,EAAAI,EAAAJ,CAAA,SAAAK,EAAAC,EAAAN,EAAA,EAAA,WAAA,KAAAK,EAAA,CAAA,cAAAR,EAEmBC,CAAc,CAAA,CAAA,EAFjCS,EAAAP,EAAA,QAAAH,EAGOC,CAAc,EAAAD,EAAGH,CAAQ,EAAG,MAAS,EAH5Ca,EAAAP,EAAA,aAAAH,EAIYC,CAAc,EAAM,GAAAD,EAAAE,CAAW,8BAA2BL,CAAQ,CAAA,IAAM,MAAS,QAE5FK,CAAW,CAAA,IANZS,EAAAC,EAAAT,CAAA,KAHO"}