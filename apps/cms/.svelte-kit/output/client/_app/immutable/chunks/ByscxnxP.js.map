{"version":3,"file":"ByscxnxP.js","sources":["../../../../../../src/widgets/core/RichText/components/ImageDescription.svelte"],"sourcesContent":["<!--\n@file src/widgets/richText/components/ImageDescription.svelte\n@component\n**Image Description**\n\n### Props\n- `show`: boolean\n- `value`: string\n- `key`: string\n- `active`: string\n- `onSubmit`: (value: string) => void\n\n### Features\n- Click to edit\n- Enter to save\n- Escape to cancel\n-->\n\n<script lang=\"ts\">\n\tinterface Props {\n\t\tshow?: boolean;\n\t\tvalue?: string;\n\t\tkey?: string;\n\t\tactive?: string;\n\t\tonSubmit?: (value: string) => void;\n\t}\n\n\tlet { show = false, value: propValue = '', key = '', active = $bindable(''), onSubmit }: Props = $props();\n\n\tlet _value = $state(''); // Initialize with a default value\n\n\t$effect(() => {\n\t\t// This effect runs when propValue changes, including initial render\n\t\t_value = propValue;\n\t});\n\tlet show_input = $state(false);\n\n\t$effect(() => {\n\t\tif (key !== active) {\n\t\t\tshow_input = false;\n\t\t}\n\t});\n\n\t$effect(() => {\n\t\tif (!show) {\n\t\t\tshow_input = false;\n\t\t}\n\t});\n\n\tfunction handleKeydown(e: KeyboardEvent & { currentTarget: HTMLInputElement }) {\n\t\tif (e.key === 'Enter') {\n\t\t\tshow_input = false;\n\t\t\tonSubmit?.(_value);\n\t\t}\n\t}\n\n\tfunction handleClick() {\n\t\tshow_input = !show_input;\n\t\tactive = key;\n\t}\n</script>\n\n<div class:hidden={!show} class=\"relative\">\n\t<button onclick={handleClick} aria-label=\"Description\" class=\"btn-sm flex items-center\">\n\t\t<iconify-icon icon=\"material-symbols:description\" width=\"20\"></iconify-icon>\n\t\t<span class=\"hidden sm:inline\">Description</span>\n\t</button>\n\t{#if show_input}\n\t\t<div class=\"description absolute top-full mt-2\">\n\t\t\t<input type=\"text\" bind:value={_value} onkeydown={handleKeydown} class=\"input\" placeholder=\"Enter description\" />\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.description {\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t\twidth: 250px;\n\t\tz-index: 10;\n\t}\n\tinput {\n\t\tborder: 1px solid;\n\t\twidth: 100%;\n\t\tpadding: 5px;\n\t\tborder-radius: 5px;\n\t}\n</style>\n"],"names":["show","propValue","key","active","_value","$.state","$.user_effect","$.set","show_input","handleKeydown","e","handleClick","div","root","button","iconify_icon","div_1","root_1","input","$.get","$$value","$$render","consequent","$.template_effect","classes","$.set_class"],"mappings":"kpBAkBA,SASO,IAAAA,eAAO,EAAK,EAASC,gBAAY,EAAE,EAAEC,cAAM,EAAE,EAAEC,kBAAmB,EAAE,EAEtEC,EAASC,EAAO,IAEpBC,EAAO,IAAO,CAEbC,EAAAH,EAASH,GAAS,CACnB,CAAC,MACGO,EAAaH,EAAO,EAAK,EAE7BC,EAAO,IAAO,CACTJ,EAAG,IAAKC,KACXI,EAAAC,EAAa,EAAK,CAEpB,CAAC,EAEDF,EAAO,IAAO,CACRN,EAAI,GACRO,EAAAC,EAAa,EAAK,CAEpB,CAAC,WAEQC,EAAcC,EAAwD,CAC1EA,EAAE,MAAQ,UACbH,EAAAC,EAAa,EAAK,iBACPJ,CAAM,CAAA,EAEnB,CAES,SAAAO,GAAc,CACtBJ,EAAAC,KAAcA,CAAU,CAAA,EACxBL,EAASD,EAAG,CAAA,CACb,KAGAU,EAAGC,EAAA,QACF,IAAAC,IADDF,CAAG,EACFE,EAAO,QAASH,EACf,IAAAI,IADDD,CAAM,IACLC,EAAY,OAAA,8BAAA,IAAZA,EAAY,QAAA,IAAA,SADbD,CAAM,UAANA,EAAM,CAAA,iBAKLE,EAAGC,EAAA,EACFC,IADDF,CAAG,IACFE,CAAK,EAALA,EAAsC,UAAWT,IADlDO,CAAG,IACFE,EAAK,IAAAC,EAAyBf,CAAM,EAAAgB,GAAAb,EAANH,EAAMgB,CAAA,CAAA,MADrCJ,CAAG,aADAR,CAAU,GAAAa,EAAAC,CAAA,MALfV,CAAG,EAAHW,EAAA,IAAAC,EAAAC,EAAAb,+BAAmBZ,EAAI,CAAA,CAAA,CAAA,MAAvBY,CAAG,KAFI"}