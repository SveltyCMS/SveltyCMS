{"version":3,"file":"n4ph2YWf.js","sources":["../../../../../../../../shared/utils/src/Form.svelte.ts","../../../../../../../../shared/utils/src/formSchemas.ts"],"sourcesContent":["/**\n * @file: src/utils/Form.svelte.ts\n * @description: Form class for handling form data and validation\n *\n * @requires @sveltejs/kit - For action and submit function types\n * @requires valibot - For schema definition and validation\n */\n\nimport type { ActionResult, SubmitFunction } from '@sveltejs/kit';\nimport { safeParse, type BaseSchema, flatten } from 'valibot';\n\ntype EnhanceOptions = {\n\tonSubmit?: (input: Parameters<SubmitFunction>[0]) => void;\n\tonResult?: (input: { result: ActionResult; update: (opts?: { reset: boolean }) => Promise<void> }) => void | Promise<void>;\n};\n\nexport class Form<T extends Record<string, any>> {\n\tdata = $state<T>({} as T);\n\terrors = $state<Record<string, string[]>>({});\n\tsubmitting = $state(false);\n\tmessage = $state<string | undefined>(undefined);\n\n\tconstructor(\n\t\tinitialData: T,\n\t\tprivate schema?: BaseSchema<any, any, any>\n\t) {\n\t\tthis.data = { ...initialData };\n\t}\n\n\t// Helper to reset form\n\treset(newData?: T) {\n\t\tif (newData) {\n\t\t\tthis.data = { ...newData };\n\t\t}\n\t\tthis.errors = {};\n\t\tthis.message = undefined;\n\t\tthis.submitting = false;\n\t}\n\n\t// Validate form data against schema\n\tvalidate(): boolean {\n\t\tthis.errors = {};\n\t\tthis.message = undefined;\n\n\t\tif (this.schema) {\n\t\t\tconst result = safeParse(this.schema, this.data);\n\t\t\tif (!result.success) {\n\t\t\t\tconst flatErrors = flatten(result.issues).nested;\n\t\t\t\tthis.errors = flatErrors as Record<string, string[]>;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t// Enhance action for SvelteKit forms\n\tenhance(options?: EnhanceOptions): SubmitFunction {\n\t\treturn (input) => {\n\t\t\tthis.submitting = true;\n\t\t\tthis.message = undefined;\n\t\t\tthis.errors = {};\n\n\t\t\tif (options?.onSubmit) {\n\t\t\t\toptions.onSubmit(input);\n\t\t\t\t// Note: We can't easily check if cancel() was called effectively unless we wrap it,\n\t\t\t\t// but standard SvelteKit cancel() throws or sets a flag.\n\t\t\t\t// For now we assume if onSubmit cancels, it handles it.\n\t\t\t}\n\n\t\t\t// Client-side validation\n\t\t\tif (this.schema) {\n\t\t\t\tconst result = safeParse(this.schema, this.data);\n\t\t\t\tif (!result.success) {\n\t\t\t\t\tconst flatErrors = flatten(result.issues).nested;\n\t\t\t\t\tthis.errors = flatErrors as Record<string, string[]>;\n\t\t\t\t\tthis.submitting = false;\n\t\t\t\t\tinput.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn async (resultInput) => {\n\t\t\t\tconst { result, update } = resultInput;\n\t\t\t\tthis.submitting = false;\n\n\t\t\t\tif (result.type === 'failure') {\n\t\t\t\t\tif (result.data?.errors) {\n\t\t\t\t\t\tthis.errors = result.data.errors as Record<string, string[]>;\n\t\t\t\t\t}\n\t\t\t\t\tif (result.data?.message) {\n\t\t\t\t\t\tthis.message = result.data.message as string;\n\t\t\t\t\t}\n\t\t\t\t} else if (result.type === 'success') {\n\t\t\t\t\tif (result.data?.message) {\n\t\t\t\t\t\tthis.message = result.data.message as string;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (options?.onResult) {\n\t\t\t\t\tawait options.onResult(resultInput);\n\t\t\t\t} else {\n\t\t\t\t\tawait update();\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\n\t// Manual submit handler for standard API endpoints\n\tasync submit(url: string, options: RequestInit = {}) {\n\t\tthis.submitting = true;\n\t\tthis.message = undefined;\n\t\tthis.errors = {};\n\n\t\t// Client-side validation\n\t\tif (this.schema) {\n\t\t\tconst result = safeParse(this.schema, this.data);\n\t\t\tif (!result.success) {\n\t\t\t\tconst flatErrors = flatten(result.issues).nested;\n\t\t\t\tthis.errors = flatErrors as Record<string, string[]>;\n\t\t\t\tthis.submitting = false;\n\t\t\t\treturn { success: false, errors: this.errors };\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await fetch(url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t...options,\n\t\t\t\tbody: JSON.stringify(this.data)\n\t\t\t});\n\n\t\t\tconst data = await response.json();\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthis.errors = data.errors || {};\n\t\t\t\tthis.message = data.message || 'An error occurred';\n\t\t\t\treturn { success: false, data };\n\t\t\t}\n\n\t\t\tthis.message = data.message;\n\t\t\treturn { success: true, data };\n\t\t} catch (error) {\n\t\t\tthis.message = error instanceof Error ? error.message : 'Network error';\n\t\t\treturn { success: false, error };\n\t\t} finally {\n\t\t\tthis.submitting = false;\n\t\t}\n\t}\n}\n","/**\n * @file: src/utils/formSchemas.ts\n * @description: Defines Valibot schemas for various forms used in the application.\n *\n * @requires valibot - For schema definition and validation\n * @requires @shared/stores/globalSettings - For accessing settings from database\n * @requires @shared/paraglide/messages - For internationalized error messages\n */\n\nimport {\n\tarray,\n\tboolean,\n\tcheck,\n\tcustom,\n\temail as emailValidator,\n\tforward,\n\tmaxLength,\n\tminLength,\n\tnullable,\n\tnumber,\n\tobject,\n\toptional,\n\tpartialCheck,\n\tpicklist,\n\tpipe,\n\tregex,\n\tstrictObject,\n\tstring,\n\ttransform,\n\ttrim,\n\ttype InferInput\n} from 'valibot';\n\n// NOTE: Error messages are plain strings for universal (client/server) compatibility.\nconst MIN_PPASSWORD_LENGTH = 8;\n\n// --- Reusable Username Schemas ---\nconst usernameSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(2, 'Username must be at least 2 characters'),\n\tmaxLength(50, 'Username must be at most 50 characters'),\n\tregex(/^[a-zA-Z0-9@$!%*#._-]+$/, 'Username contains invalid characters')\n);\n\n// --- Reusable Email Schemas ---\nconst emailSchema = pipe(\n\tstring(),\n\ttrim(),\n\ttransform((value) => value.toLowerCase()),\n\temailValidator('Invalid email address')\n);\n\n// --- Reusable Password Schemas ---\nconst passwordSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(MIN_PPASSWORD_LENGTH, `Password must be at least ${MIN_PPASSWORD_LENGTH} characters and include a letter, number, and special character`),\n\tregex(\n\t\t/^(?=.*[A-Za-z])(?=.*[0-9])(?=.*[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>?]).{8,}$/,\n\t\t`Password must be at least ${MIN_PPASSWORD_LENGTH} characters and include a letter, number, and special character`\n\t)\n);\n\n// --- Reusable Confirm Password Schemas ---\nconst confirmPasswordSchema = pipe(string(), trim());\n\n// --- Reusable Token Schemas ---\nconst tokenSchema = pipe(string(), trim(), minLength(16, 'Token must be at least 16 characters'));\n\n// Form Schemas------------------------------------\n\n// Login Form Schema\nexport const loginFormSchema = strictObject({\n\temail: emailSchema,\n\tpassword: passwordSchema,\n\tisToken: boolean()\n});\n\n// Forgot Password Form Schema\nexport const forgotFormSchema = object({\n\temail: emailSchema\n});\n\n// Reset Password Form Schema\nexport const resetFormSchema = pipe(\n\tobject({\n\t\tpassword: passwordSchema,\n\t\tconfirm_password: confirmPasswordSchema,\n\t\ttoken: tokenSchema,\n\t\temail: emailSchema\n\t}),\n\tforward(\n\t\tpartialCheck([['password'], ['confirm_password']], (input) => input.password === input.confirm_password, 'Passwords do not match'),\n\t\t['confirm_password']\n\t)\n);\n\n// Sign Up User Form Schema\nexport const signUpFormSchema = pipe(\n\tstrictObject({\n\t\tusername: usernameSchema,\n\t\temail: emailSchema,\n\t\tpassword: passwordSchema,\n\t\tconfirm_password: confirmPasswordSchema,\n\t\ttoken: optional(nullable(string()))\n\t}),\n\tcheck((input) => input.password === input.confirm_password, 'Passwords do not match')\n);\n\n// Google OAuth Token Schema\nexport const signUpOAuthFormSchema = object({\n\tlang: nullable(string())\n});\n\n// Validate New User Token Schema\nexport const addUserTokenSchema = object({\n\temail: emailSchema,\n\trole: string(),\n\texpiresIn: picklist(['2 hrs', '12 hrs', '2 days', '1 week', '2 weeks', '1 month'])\n});\n\n// Change Password Form Schema\nexport const changePasswordSchema = object({\n\told_password: string(),\n\tpassword: passwordSchema,\n\tconfirm_password: string()\n});\n\n// Widget Email Schema\nexport const widgetEmailSchema = object({\n\temail: emailSchema\n});\n\n// Add User Schema\nexport const addUserSchema = object({\n\temail: emailSchema,\n\trole: string()\n});\n\n// Edit User Schema\nexport const editUserSchema = pipe(\n\tobject({\n\t\tuser_id: string(),\n\t\tusername: usernameSchema,\n\t\temail: emailSchema,\n\t\trole: optional(string()),\n\t\tpassword: optional(string()),\n\t\tconfirmPassword: optional(string())\n\t}),\n\tforward(\n\t\tcheck((input) => {\n\t\t\tif (input.password && input.password.length > 0) {\n\t\t\t\treturn input.password === input.confirmPassword;\n\t\t\t}\n\t\t\treturn true;\n\t\t}, 'Passwords do not match'),\n\t\t['confirmPassword']\n\t)\n);\n\n// Setup Admin User Schema\nexport const setupAdminSchema = pipe(\n\tstrictObject({\n\t\tusername: usernameSchema,\n\t\temail: emailSchema,\n\t\tpassword: passwordSchema,\n\t\tconfirmPassword: confirmPasswordSchema\n\t}),\n\tcheck((input) => input.password === input.confirmPassword, 'Passwords do not match')\n);\n\n// --- SMTP Configuration Schemas ---\n\n// SMTP Host Schema\n// Validates hostname format (e.g., smtp.gmail.com)\n// Rejects email-like inputs (e.g., user@domain.com)\nconst smtpHostSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(1, 'SMTP host is required'),\n\tmaxLength(255, 'SMTP host is too long'),\n\tcustom((value) => {\n\t\tif (typeof value !== 'string') return false;\n\t\t// Reject if it looks like an email\n\t\tif (value.includes('@')) {\n\t\t\treturn false;\n\t\t}\n\t\t// Valid hostname: alphanumeric, hyphens, dots\n\t\t// Must have at least one dot and valid format\n\t\treturn /^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/.test(value);\n\t}, 'Invalid hostname format. Use \"smtp.domain.com\" not \"email@domain.com\"')\n);\n\n// SMTP Port Schema\n// Validates port number (1-65535)\nconst smtpPortSchema = pipe(\n\tnumber(),\n\tcustom((value) => {\n\t\tif (typeof value !== 'number') return false;\n\t\treturn value >= 1 && value <= 65535;\n\t}, 'Port must be between 1 and 65535')\n);\n\n// SMTP User Schema\n// Typically an email address or username\nconst smtpUserSchema = pipe(string(), trim(), minLength(1, 'SMTP username is required'), maxLength(255, 'SMTP username is too long'));\n\n// SMTP Password Schema\nconst smtpPasswordSchema = pipe(string(), trim(), minLength(1, 'SMTP password is required'));\n\n// SMTP From Address Schema (Optional)\nconst smtpFromSchema = pipe(string(), trim());\n\n// Complete SMTP Configuration Schema\nexport const smtpConfigSchema = object({\n\thost: smtpHostSchema,\n\tport: smtpPortSchema,\n\tuser: smtpUserSchema,\n\tpassword: smtpPasswordSchema,\n\tfrom: smtpFromSchema,\n\tsecure: boolean()\n});\n\n// --- Database Configuration Schemas ---\n\n// Database Type Schema\nconst dbTypeSchema = picklist(['mongodb', 'mongodb+srv', 'postgresql', 'mysql', 'mariadb'], 'Invalid database type');\n\n// Database Host Schema\nconst dbHostSchema = pipe(string(), trim(), minLength(1, 'Database host is required'), maxLength(255, 'Database host is too long'));\n\n// Database Port Schema (optional for Atlas)\nconst dbPortSchema = optional(\n\tpipe(\n\t\tstring(),\n\t\ttrim(),\n\t\ttransform((value) => (value ? parseInt(value, 10) : undefined)),\n\t\tcustom((value) => {\n\t\t\tif (value === undefined) return true;\n\t\t\tif (typeof value !== 'number') return false;\n\t\t\treturn value >= 1 && value <= 65535;\n\t\t}, 'Port must be between 1 and 65535')\n\t)\n);\n\n// Database Name Schema\nconst dbNameSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(1, 'Database name is required'),\n\tmaxLength(63, 'Database name is too long'),\n\tregex(/^[a-zA-Z0-9_-]+$/, 'Database name can only contain letters, numbers, hyphens, and underscores')\n);\n\n// Database User Schema (optional for MongoDB without auth)\nconst dbUserSchema = pipe(string(), trim(), maxLength(63, 'Database user is too long'));\n\n// Database Password Schema (optional for MongoDB without auth)\nconst dbPasswordSchema = pipe(string(), trim());\n\n// Complete Database Configuration Schema\nexport const dbConfigSchema = pipe(\n\tobject({\n\t\ttype: dbTypeSchema,\n\t\thost: dbHostSchema,\n\t\tport: dbPortSchema,\n\t\tname: dbNameSchema,\n\t\tuser: dbUserSchema,\n\t\tpassword: dbPasswordSchema\n\t}),\n\tcheck((input) => {\n\t\t// For PostgreSQL and MySQL, username and password are required\n\t\tif (input.type === 'postgresql' || input.type === 'mysql' || input.type === 'mariadb') {\n\t\t\treturn input.user.length > 0 && input.password.length > 0;\n\t\t}\n\t\t// For MongoDB (both standard and Atlas), authentication is optional\n\t\t// This allows local development without auth (e.g., MongoDB Compass)\n\t\treturn true;\n\t}, 'Username and password are required for this database type.')\n);\n\n// --- System Settings Schemas ---\n\n// Site Name Schema\nconst siteNameSchema = pipe(string(), trim(), minLength(1, 'Site name is required'), maxLength(100, 'Site name is too long'));\n\n// Production Host Schema\nconst hostProdSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(1, 'Production URL is required'),\n\tmaxLength(255, 'Production URL is too long'),\n\tregex(/^https?:\\/\\/.+/, 'Production URL must start with http:// or https://')\n);\n\n// Language Code Schema (ISO 639-1 two-letter codes)\nconst languageCodeSchema = pipe(\n\tstring(),\n\ttrim(),\n\ttransform((value) => value.toLowerCase()),\n\tregex(/^[a-z]{2}$/, 'Language code must be a valid ISO 639-1 two-letter code')\n);\n\n// Timezone Schema\nconst timezoneSchema = pipe(string(), trim(), minLength(1, 'Timezone is required'));\n\n// Media Storage Type Schema\nconst mediaStorageTypeSchema = picklist(['local', 's3', 'r2', 'cloudinary'], 'Invalid media storage type');\n\n// Media Folder Schema\nconst mediaFolderSchema = pipe(\n\tstring(),\n\ttrim(),\n\tminLength(1, 'Media folder/bucket name is required'),\n\tmaxLength(255, 'Media folder/bucket name is too long')\n);\n\n// Complete System Settings Schema\nexport const systemSettingsSchema = object({\n\tsiteName: siteNameSchema,\n\thostProd: hostProdSchema,\n\tdefaultSystemLanguage: languageCodeSchema,\n\tsystemLanguages: array(languageCodeSchema, 'System languages must be an array of valid language codes.'),\n\tdefaultContentLanguage: languageCodeSchema,\n\tcontentLanguages: array(languageCodeSchema, 'Content languages must be an array of valid language codes.'),\n\ttimezone: timezoneSchema,\n\tmediaStorageType: mediaStorageTypeSchema,\n\tmediaFolder: mediaFolderSchema\n});\n\n// Type Exports\nexport type LoginFormSchema = InferInput<typeof loginFormSchema>;\nexport type ForgotFormSchema = InferInput<typeof forgotFormSchema>;\nexport type ResetFormSchema = InferInput<typeof resetFormSchema>;\nexport type SignUpFormSchema = InferInput<typeof signUpFormSchema>;\nexport type SignUpOAuthFormSchema = InferInput<typeof signUpOAuthFormSchema>;\nexport type AddUserTokenSchema = InferInput<typeof addUserTokenSchema>;\nexport type ChangePasswordSchemaType = InferInput<typeof changePasswordSchema>;\nexport type WidgetEmailSchema = InferInput<typeof widgetEmailSchema>;\nexport type AddUserSchema = InferInput<typeof addUserSchema>;\nexport type EditUserSchema = InferInput<typeof editUserSchema>;\nexport type SetupAdminSchema = InferInput<typeof setupAdminSchema>;\nexport type SmtpConfigSchema = InferInput<typeof smtpConfigSchema>;\nexport type DbConfigSchema = InferInput<typeof dbConfigSchema>;\nexport type SystemSettingsSchema = InferInput<typeof systemSettingsSchema>;\n"],"names":["Form","initialData","schema","$.state","$.proxy","value","#submitting","#message","newData","result","safeParse","flatErrors","flatten","options","input","resultInput","update","url","response","data","error","MIN_PPASSWORD_LENGTH","usernameSchema","pipe","string","trim","minLength","maxLength","regex","emailSchema","transform","emailValidator","passwordSchema","confirmPasswordSchema","tokenSchema","loginFormSchema","strictObject","boolean","forgotFormSchema","object","resetFormSchema","forward","partialCheck","signUpFormSchema","optional","nullable","check","addUserTokenSchema","picklist","editUserSchema"],"mappings":"uNAgBa,MAAAA,CAAoC,CAMhD,YACCC,EACQC,EACP,CADO,KAAA,OAAAA,EAER,KAAK,KAAA,CAAA,GAAYD,CAAA,CAClB,IAVOE,EAAAC,EAAA,CAAA,CAAA,CAAA,MAAP,MAAA,uBAAA,KAAAC,EAAA,oBACSF,EAAAC,EAAA,CAAA,CAAA,CAAA,MAAT,QAAA,uBAAA,OAAAC,EAAA,iBACaC,GAAAH,EAAO,EAAK,MAAzB,YAAA,uBAAA,WAAAE,EAAA,iBACUE,GAAAJ,QAAoC,MAA9C,SAAA,uBAAA,QAAAE,EAAA,iBAUA,MAAMG,EAAa,CACdA,IACH,KAAK,KAAA,CAAA,GAAYA,CAAA,GAElB,KAAK,UACL,KAAK,QAAA,OACL,KAAK,WAAa,EACnB,CAGA,UAAoB,IACnB,KAAK,UACL,KAAK,QAAA,OAED,KAAK,OAAQ,OACVC,EAASC,EAAU,KAAK,OAAQ,KAAK,IAAI,MAC1CD,EAAO,QAAS,CACd,MAAAE,EAAaC,EAAQH,EAAO,MAAM,EAAE,OAC1C,YAAK,OAASE,EACP,EACR,CACD,OACO,EACR,CAGA,QAAQE,EAA0C,CACzC,OAAAC,GAAU,IACjB,KAAK,WAAa,GAClB,KAAK,QAAA,OACL,KAAK,UAEDD,GAAS,UACZA,EAAQ,SAASC,CAAK,EAOnB,KAAK,OAAQ,OACVL,EAASC,EAAU,KAAK,OAAQ,KAAK,IAAI,MAC1CD,EAAO,QAAS,CACd,MAAAE,EAAaC,EAAQH,EAAO,MAAM,EAAE,OAC1C,KAAK,OAASE,EACd,KAAK,WAAa,GAClBG,EAAM,OAAA,QAEP,CACD,CAEc,MAAA,OAAAC,GAAgB,OACrB,OAAAN,EAAQ,OAAAO,CAAA,EAAWD,EAC3B,KAAK,WAAa,GAEdN,EAAO,OAAS,WACfA,EAAO,MAAM,SAChB,KAAK,OAASA,EAAO,KAAK,QAEvBA,EAAO,MAAM,UAChB,KAAK,QAAUA,EAAO,KAAK,UAElBA,EAAO,OAAS,WACtBA,EAAO,MAAM,UAChB,KAAK,QAAUA,EAAO,KAAK,SAIzBI,GAAS,eACNA,EAAQ,SAASE,CAAW,QAE5BC,EAAA,CAER,CACD,CACD,CAGM,MAAA,OAAOC,EAAaJ,KAA2B,IACpD,KAAK,WAAa,GAClB,KAAK,QAAA,OACL,KAAK,UAGD,KAAK,OAAQ,OACVJ,EAASC,EAAU,KAAK,OAAQ,KAAK,IAAI,MAC1CD,EAAO,QAAS,CACd,MAAAE,EAAaC,EAAQH,EAAO,MAAM,EAAE,OAC1C,YAAK,OAASE,EACd,KAAK,WAAa,GACT,CAAA,QAAS,GAAO,OAAQ,KAAK,MAAA,CACvC,CACD,IAEI,OACGO,EAAA,MAAiB,MAAMD,EAAA,CAC5B,OAAQ,OACR,QAAA,CAAW,eAAgB,kBAAA,KACxBJ,EACH,KAAM,KAAK,UAAU,KAAK,IAAI,IAGzBM,EAAA,MAAaD,EAAS,KAAA,SAEvBA,EAAS,IAMd,KAAK,QAAUC,EAAK,SACX,QAAS,GAAM,KAAAA,CAAA,IANvB,KAAK,OAASA,EAAK,QAAA,CAAA,EACnB,KAAK,QAAUA,EAAK,SAAW,qBACtB,QAAS,GAAO,KAAAA,CAAA,EAK3B,OAASC,EAAO,CACf,YAAK,QAAUA,aAAiB,MAAQA,EAAM,QAAU,iBAC/C,QAAS,GAAO,MAAAA,CAAA,CAC1B,QAAA,CACC,KAAK,WAAa,EACnB,CACD,CACD,CCnHA,MAAMC,EAAuB,EAGvBC,EAAiBC,EACtBC,EAAA,EACAC,EAAA,EACAC,EAAU,EAAG,wCAAwC,EACrDC,EAAU,GAAI,wCAAwC,EACtDC,EAAM,0BAA2B,sCAAsC,CACxE,EAGMC,EAAcN,EACnBC,EAAA,EACAC,EAAA,EACAK,EAAWzB,GAAUA,EAAM,aAAa,EACxC0B,EAAe,uBAAuB,CACvC,EAGMC,EAAiBT,EACtBC,EAAA,EACAC,EAAA,EACAC,EAAUL,EAAsB,6BAA6BA,CAAoB,iEAAiE,EAClJO,EACC,2EACA,6BAA6BP,CAAoB,iEAAA,CAEnD,EAGMY,EAAwBV,EAAKC,EAAA,EAAUC,GAAM,EAG7CS,EAAcX,EAAKC,IAAUC,IAAQC,EAAU,GAAI,sCAAsC,CAAC,EAKnFS,EAAkBC,EAAa,CAC3C,MAAOP,EACP,SAAUG,EACV,QAASK,EAAA,CACV,CAAC,EAGYC,EAAmBC,EAAO,CACtC,MAAOV,CACR,CAAC,EAGYW,EAAkBjB,EAC9BgB,EAAO,CACN,SAAUP,EACV,iBAAkBC,EAClB,MAAOC,EACP,MAAOL,CAAA,CACP,EACDY,EACCC,EAAa,CAAC,CAAC,UAAU,EAAG,CAAC,kBAAkB,CAAC,EAAI5B,GAAUA,EAAM,WAAaA,EAAM,iBAAkB,wBAAwB,EACjI,CAAC,kBAAkB,CAAA,CAErB,EAGa6B,EAAmBpB,EAC/Ba,EAAa,CACZ,SAAUd,EACV,MAAOO,EACP,SAAUG,EACV,iBAAkBC,EAClB,MAAOW,EAASC,EAASrB,GAAQ,CAAC,CAAA,CAClC,EACDsB,EAAOhC,GAAUA,EAAM,WAAaA,EAAM,iBAAkB,wBAAwB,CACrF,EAQaiC,EAAqBR,EAAO,CACxC,MAAOV,EACP,KAAML,EAAA,EACN,UAAWwB,EAAS,CAAC,QAAS,SAAU,SAAU,SAAU,UAAW,SAAS,CAAC,CAClF,CAAC,EAqBYC,EAAiB1B,EAC7BgB,EAAO,CACN,QAASf,EAAA,EACT,SAAUF,EACV,MAAOO,EACP,KAAMe,EAASpB,GAAQ,EACvB,SAAUoB,EAASpB,GAAQ,EAC3B,gBAAiBoB,EAASpB,EAAA,CAAQ,CAAA,CAClC,EACDiB,EACCK,EAAOhC,GACFA,EAAM,UAAYA,EAAM,SAAS,OAAS,EACtCA,EAAM,WAAaA,EAAM,gBAE1B,GACL,wBAAwB,EAC3B,CAAC,iBAAiB,CAAA,CAEpB"}