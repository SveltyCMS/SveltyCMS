{"version":3,"file":"C1IuIusZ.js","sources":["../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/modules/root-context.js","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/anatomy/fallback.svelte","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/anatomy/image.svelte","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/anatomy/root-context.svelte","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/anatomy/root-provider.svelte","../../../../../../../../node_modules/@zag-js/avatar/dist/index.mjs","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/modules/provider.svelte.js","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/anatomy/root.svelte","../../../../../../../../node_modules/@skeletonlabs/skeleton-svelte/dist/components/avatar/modules/anatomy.js"],"sourcesContent":["import { createContext } from '../../../internal/create-context.js';\nexport const RootContext = createContext();\n","<script lang=\"ts\" module>\n\timport type { HTMLAttributes } from '../../../internal/html-attributes.js';\n\timport type { PropsWithElement } from '../../../internal/props-with-element.js';\n\n\texport interface AvatarFallbackProps extends PropsWithElement<'span'>, HTMLAttributes<'span'> {}\n</script>\n\n<script lang=\"ts\">\n\timport { RootContext } from '../modules/root-context.js';\n\timport { mergeProps } from '@zag-js/svelte';\n\n\tconst props: AvatarFallbackProps = $props();\n\n\tconst avatar = RootContext.consume();\n\n\tconst { element, children, ...rest } = $derived(props);\n\n\tconst attributes = $derived(mergeProps(avatar().getFallbackProps(), rest));\n</script>\n\n{#if element}\n\t{@render element(attributes)}\n{:else}\n\t<span {...attributes}>\n\t\t{@render children?.()}\n\t</span>\n{/if}\n","<script lang=\"ts\" module>\n\timport type { HTMLAttributes } from '../../../internal/html-attributes.js';\n\timport type { PropsWithElement } from '../../../internal/props-with-element.js';\n\n\texport interface AvatarImageProps extends PropsWithElement<'img'>, HTMLAttributes<'img'> {}\n</script>\n\n<script lang=\"ts\">\n\timport { RootContext } from '../modules/root-context.js';\n\timport { mergeProps } from '@zag-js/svelte';\n\n\tconst props: AvatarImageProps = $props();\n\n\tconst avatar = RootContext.consume();\n\n\tconst { element, ...rest } = $derived(props);\n\n\tconst attributes = $derived(mergeProps(avatar().getImageProps(), rest));\n</script>\n\n{#if element}\n\t{@render element(attributes)}\n{:else}\n\t<img {...attributes} />\n{/if}\n","<script lang=\"ts\" module>\n\timport type { useAvatar } from '../modules/provider.svelte';\n\timport type { Snippet } from 'svelte';\n\n\texport interface AvatarRootContextProps {\n\t\tchildren: Snippet<[ReturnType<typeof useAvatar>]>;\n\t}\n</script>\n\n<script lang=\"ts\">\n\timport { RootContext } from '../modules/root-context.js';\n\n\tconst props: AvatarRootContextProps = $props();\n\n\tconst avatar = RootContext.consume();\n\n\tconst { children } = $derived(props);\n</script>\n\n{@render children(avatar)}\n","<script lang=\"ts\" module>\n\timport type { HTMLAttributes } from '../../../internal/html-attributes.js';\n\timport type { PropsWithElement } from '../../../internal/props-with-element.js';\n\timport type { useAvatar } from '../modules/provider.svelte';\n\n\texport interface AvatarRootProviderProps extends PropsWithElement<'div'>, HTMLAttributes<'div', 'id' | 'dir'> {\n\t\tvalue: ReturnType<typeof useAvatar>;\n\t}\n</script>\n\n<script lang=\"ts\">\n\timport { RootContext } from '../modules/root-context.js';\n\timport { mergeProps } from '@zag-js/svelte';\n\n\tconst props: AvatarRootProviderProps = $props();\n\n\tconst { element, children, value: avatar, ...rest } = $derived(props);\n\n\tconst attributes = $derived(mergeProps(avatar().getRootProps(), rest));\n\n\tRootContext.provide(() => avatar());\n</script>\n\n{#if element}\n\t{@render element(attributes)}\n{:else}\n\t<div {...attributes}>\n\t\t{@render children?.()}\n\t</div>\n{/if}\n","import { createAnatomy } from '@zag-js/anatomy';\nimport { observeAttributes, observeChildren } from '@zag-js/dom-query';\nimport { createMachine } from '@zag-js/core';\nimport { createProps } from '@zag-js/types';\nimport { createSplitProps } from '@zag-js/utils';\n\n// src/avatar.anatomy.ts\nvar anatomy = createAnatomy(\"avatar\").parts(\"root\", \"image\", \"fallback\");\nvar parts = anatomy.build();\n\n// src/avatar.dom.ts\nvar getRootId = (ctx) => ctx.ids?.root ?? `avatar:${ctx.id}`;\nvar getImageId = (ctx) => ctx.ids?.image ?? `avatar:${ctx.id}:image`;\nvar getFallbackId = (ctx) => ctx.ids?.fallback ?? `avatar:${ctx.id}:fallback`;\nvar getRootEl = (ctx) => ctx.getById(getRootId(ctx));\nvar getImageEl = (ctx) => ctx.getById(getImageId(ctx));\n\n// src/avatar.connect.ts\nfunction connect(service, normalize) {\n  const { state, send, prop, scope } = service;\n  const loaded = state.matches(\"loaded\");\n  return {\n    loaded,\n    setSrc(src) {\n      const img = getImageEl(scope);\n      img?.setAttribute(\"src\", src);\n    },\n    setLoaded() {\n      send({ type: \"img.loaded\", src: \"api\" });\n    },\n    setError() {\n      send({ type: \"img.error\", src: \"api\" });\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope)\n      });\n    },\n    getImageProps() {\n      return normalize.img({\n        ...parts.image.attrs,\n        hidden: !loaded,\n        dir: prop(\"dir\"),\n        id: getImageId(scope),\n        \"data-state\": loaded ? \"visible\" : \"hidden\",\n        onLoad() {\n          send({ type: \"img.loaded\", src: \"element\" });\n        },\n        onError() {\n          send({ type: \"img.error\", src: \"element\" });\n        }\n      });\n    },\n    getFallbackProps() {\n      return normalize.element({\n        ...parts.fallback.attrs,\n        dir: prop(\"dir\"),\n        id: getFallbackId(scope),\n        hidden: loaded,\n        \"data-state\": loaded ? \"hidden\" : \"visible\"\n      });\n    }\n  };\n}\nvar machine = createMachine({\n  initialState() {\n    return \"loading\";\n  },\n  effects: [\"trackImageRemoval\", \"trackSrcChange\"],\n  on: {\n    \"src.change\": {\n      target: \"loading\"\n    },\n    \"img.unmount\": {\n      target: \"error\"\n    }\n  },\n  states: {\n    loading: {\n      entry: [\"checkImageStatus\"],\n      on: {\n        \"img.loaded\": {\n          target: \"loaded\",\n          actions: [\"invokeOnLoad\"]\n        },\n        \"img.error\": {\n          target: \"error\",\n          actions: [\"invokeOnError\"]\n        }\n      }\n    },\n    error: {\n      on: {\n        \"img.loaded\": {\n          target: \"loaded\",\n          actions: [\"invokeOnLoad\"]\n        }\n      }\n    },\n    loaded: {\n      on: {\n        \"img.error\": {\n          target: \"error\",\n          actions: [\"invokeOnError\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    actions: {\n      invokeOnLoad({ prop }) {\n        prop(\"onStatusChange\")?.({ status: \"loaded\" });\n      },\n      invokeOnError({ prop }) {\n        prop(\"onStatusChange\")?.({ status: \"error\" });\n      },\n      checkImageStatus({ send, scope }) {\n        const imageEl = getImageEl(scope);\n        if (!imageEl?.complete) return;\n        const type = hasLoaded(imageEl) ? \"img.loaded\" : \"img.error\";\n        send({ type, src: \"ssr\" });\n      }\n    },\n    effects: {\n      trackImageRemoval({ send, scope }) {\n        const rootEl = getRootEl(scope);\n        return observeChildren(rootEl, {\n          callback(records) {\n            const removedNodes = Array.from(records[0].removedNodes);\n            const removed = removedNodes.find(\n              (node) => node.nodeType === Node.ELEMENT_NODE && node.matches(\"[data-scope=avatar][data-part=image]\")\n            );\n            if (removed) {\n              send({ type: \"img.unmount\" });\n            }\n          }\n        });\n      },\n      trackSrcChange({ send, scope }) {\n        const imageEl = getImageEl(scope);\n        return observeAttributes(imageEl, {\n          attributes: [\"src\", \"srcset\"],\n          callback() {\n            send({ type: \"src.change\" });\n          }\n        });\n      }\n    }\n  }\n});\nfunction hasLoaded(image) {\n  return image.complete && image.naturalWidth !== 0 && image.naturalHeight !== 0;\n}\nvar props = createProps()([\"dir\", \"id\", \"ids\", \"onStatusChange\", \"getRootNode\"]);\nvar splitProps = createSplitProps(props);\n\nexport { anatomy, connect, machine, props, splitProps };\n","import { connect, machine } from '@zag-js/avatar';\nimport { normalizeProps, useMachine } from '@zag-js/svelte';\nexport function useAvatar(props) {\n    const service = useMachine(machine, props);\n    const avatar = $derived(connect(service, normalizeProps));\n    return () => avatar;\n}\n","<script lang=\"ts\" module>\n\timport type { HTMLAttributes } from '../../../internal/html-attributes.js';\n\timport type { PropsWithElement } from '../../../internal/props-with-element.js';\n\timport type { Props } from '@zag-js/avatar';\n\n\texport interface AvatarRootProps extends Omit<Props, 'id'>, PropsWithElement<'div'>, HTMLAttributes<'div', 'id' | 'dir'> {}\n</script>\n\n<script lang=\"ts\">\n\timport { useAvatar } from '../modules/provider.svelte';\n\timport { RootContext } from '../modules/root-context.js';\n\timport { splitProps } from '@zag-js/avatar';\n\timport { mergeProps } from '@zag-js/svelte';\n\n\tconst props: AvatarRootProps = $props();\n\n\tconst [avatarProps, componentProps] = $derived(splitProps(props));\n\tconst { element, children, ...rest } = $derived(componentProps);\n\n\tconst id = $props.id();\n\tconst avatar = useAvatar(() => ({\n\t\t...avatarProps,\n\t\tid: id,\n\t}));\n\n\tconst attributes = $derived(mergeProps(avatar().getRootProps(), rest));\n\n\tRootContext.provide(() => avatar());\n</script>\n\n{#if element}\n\t{@render element(attributes)}\n{:else}\n\t<div {...attributes}>\n\t\t{@render children?.()}\n\t</div>\n{/if}\n","import Fallback from '../anatomy/fallback.svelte';\nimport Image from '../anatomy/image.svelte';\nimport RootContext from '../anatomy/root-context.svelte';\nimport RootProvider from '../anatomy/root-provider.svelte';\nimport Root from '../anatomy/root.svelte';\nexport const Avatar = Object.assign(Root, {\n    Provider: RootProvider,\n    Context: RootContext,\n    Image: Image,\n    Fallback: Fallback,\n});\n"],"names":["RootContext","createContext","props","$.rest_props","$$props","avatar","element","children","rest","attributes","mergeProps","$.snippet","node_1","$.get","span","root_2","$.attribute_effect","$.noop","$$render","consequent","alternate","img","node","div","anatomy","createAnatomy","parts","getRootId","ctx","getImageId","getFallbackId","getRootEl","getImageEl","connect","service","normalize","state","send","prop","scope","loaded","src","machine","createMachine","imageEl","type","hasLoaded","rootEl","observeChildren","records","observeAttributes","image","createProps","splitProps","createSplitProps","useAvatar","useMachine","$.derived","normalizeProps","id","$.props_id","$$d","avatarProps","$$array","componentProps","Avatar","Root","RootProvider","Image","Fallback"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}