{"version":3,"file":"DsmWyVe_.js","sources":["../../../../../../../../shared/components/src/VersionCheck.svelte"],"sourcesContent":["<!--\n@file src/components/VersionCheck.svelte\n@component **VersionCheck - Enhanced Svelte 5**\n\nA dynamic component that compares the running application's version against the\nlatest version available on GitHub with comprehensive status reporting.\n\n@props\n- `transparent` (boolean): Renders a minimal semi-transparent overlay (default: false)\n- `compact` (boolean): Shows just version number (default: false)\n- `onStatusChange` (function): Callback that receives version status object\n- `children` (Snippet): Custom rendering function for headless mode\n\n### Features\n- Fetches latest version from GitHub with caching\n- Semantic version comparison (major, minor, patch)\n- Security vulnerability detection\n- Visual states: critical (red), update (yellow), current (green)\n- Headless/renderless mode with Svelte 5 snippets\n- Accessible with proper ARIA attributes\n- Error handling with retry logic\n- Reduced motion support\n-->\n<script lang=\"ts\">\n\timport { onMount, onDestroy } from 'svelte';\n\timport { publicEnv } from '@shared/stores/globalSettings.svelte';\n\timport { browser } from '$app/environment';\n\n\t// Types\n\ttype VersionStatus = {\n\t\tpkg: string;\n\t\tgithubVersion: string;\n\t\tbadgeVariant: 'variant-filled' | 'variant-soft' | 'variant-outline' | 'variant-glass';\n\t\tbadgeColor: string;\n\t\tversionStatusMessage: string;\n\t\tstatusIcon: string;\n\t\tstatusSeverity: 'critical' | 'warning' | 'info' | 'success' | 'unknown';\n\t\tisLoading: boolean;\n\t\terror: string | null;\n\t\tlastChecked: number | null;\n\t};\n\n\ttype VersionProps = {\n\t\ttransparent?: boolean;\n\t\tcompact?: boolean;\n\t\tonStatusChange?: (status: VersionStatus) => void;\n\t\tchildren?: import('svelte').Snippet<[VersionStatus]>;\n\t};\n\n\tconst { transparent = false, compact = false, onStatusChange, children }: VersionProps = $props();\n\n\t// Constants\n\tconst GITHUB_RELEASES_URL = 'https://github.com/SveltyCMS/SveltyCMS/releases';\n\tconst CHECK_INTERVAL = 1000 * 60 * 60; // 1 hour\n\tconst MAX_RETRIES = 3;\n\tconst RETRY_DELAY = 2000;\n\n\t// State - use publicEnv directly instead of page.data\n\tconst pkg = $derived(publicEnv?.PKG_VERSION || '0.0.0');\n\tlet githubVersion = $state('');\n\tlet badgeVariant = $state<'variant-filled' | 'variant-soft' | 'variant-outline' | 'variant-glass'>('variant-filled');\n\tlet badgeColor = $state('bg-primary-500 text-white');\n\tlet versionStatusMessage = $state('Checking for updates...');\n\tlet statusIcon = $state('mdi:loading');\n\tlet statusSeverity = $state<'critical' | 'warning' | 'info' | 'success' | 'unknown'>('unknown');\n\tlet isLoading = $state(true);\n\tlet error = $state<string | null>(null);\n\tlet lastChecked = $state<number | null>(null);\n\tlet checkInterval: ReturnType<typeof setInterval> | null = null;\n\n\t// Derived state for full status object\n\tconst versionStatus = $derived<VersionStatus>({\n\t\tpkg,\n\t\tgithubVersion,\n\t\tbadgeVariant,\n\t\tbadgeColor,\n\t\tversionStatusMessage,\n\t\tstatusIcon,\n\t\tstatusSeverity,\n\t\tisLoading,\n\t\terror,\n\t\tlastChecked\n\t});\n\n\t// Transparent mode styling - check pathname defensively\n\tconst isLoginRoute = $derived(browser ? window.location.pathname.startsWith('/login') : false);\n\tconst effectiveTransparent = $derived(transparent || isLoginRoute);\n\n\tconst transparentClasses = $derived.by(() => {\n\t\tif (badgeColor.includes('success')) {\n\t\t\treturn 'bg-success-500/20 text-success-700 dark:text-success-300';\n\t\t} else if (badgeColor.includes('warning')) {\n\t\t\treturn 'bg-warning-500/20 text-warning-700 dark:text-warning-300';\n\t\t} else if (badgeColor.includes('error')) {\n\t\t\treturn 'bg-error-500/20 text-black';\n\t\t}\n\t\treturn 'bg-surface-900/10 dark:text-white';\n\t});\n\n\t// Parse semantic version\n\tfunction parseVersion(version: string): [number, number, number] {\n\t\tconst parts = version.split('.').map(Number);\n\t\treturn [parts[0] || 0, parts[1] || 0, parts[2] || 0];\n\t}\n\n\t// Compare versions\n\tfunction compareVersions(local: string, remote: string): 'major' | 'minor' | 'patch' | 'current' {\n\t\tconst [localMajor, localMinor, localPatch] = parseVersion(local);\n\t\tconst [remoteMajor, remoteMinor, remotePatch] = parseVersion(remote);\n\n\t\tif (remoteMajor > localMajor) return 'major';\n\t\tif (remoteMajor === localMajor && remoteMinor > localMinor) return 'minor';\n\t\tif (remoteMajor === localMajor && remoteMinor === localMinor && remotePatch > localPatch) return 'patch';\n\t\treturn 'current';\n\t}\n\n\t// Update status based on version comparison\n\tfunction updateStatus(data: any) {\n\t\tif (data.status === 'disabled') {\n\t\t\tgithubVersion = pkg;\n\t\t\tbadgeVariant = 'variant-filled';\n\t\t\tbadgeColor = 'bg-surface-500 text-white';\n\t\t\tversionStatusMessage = 'Version check disabled';\n\t\t\tstatusIcon = 'mdi:shield-off';\n\t\t\tstatusSeverity = 'info';\n\t\t\terror = null;\n\t\t} else if (data.status === 'error') {\n\t\t\tgithubVersion = pkg;\n\t\t\tbadgeVariant = 'variant-filled';\n\t\t\tbadgeColor = 'bg-warning-500 text-white';\n\t\t\tversionStatusMessage = 'Could not check for updates';\n\t\t\tstatusIcon = 'mdi:wifi-off';\n\t\t\tstatusSeverity = 'warning';\n\t\t\terror = data.error || 'Network error';\n\t\t} else {\n\t\t\tgithubVersion = data.latest || pkg;\n\t\t\tconst comparison = compareVersions(pkg, githubVersion);\n\n\t\t\t// Security issue takes priority\n\t\t\tif (data.security_issue) {\n\t\t\t\tbadgeVariant = 'variant-filled';\n\t\t\t\tbadgeColor = 'bg-error-500 text-white';\n\t\t\t\tversionStatusMessage = data.message || `Critical security update to v${githubVersion} available!`;\n\t\t\t\tstatusIcon = 'mdi:shield-alert';\n\t\t\t\tstatusSeverity = 'critical';\n\t\t\t} else if (comparison === 'major') {\n\t\t\t\tbadgeVariant = 'variant-filled';\n\t\t\t\tbadgeColor = 'bg-error-500 text-white';\n\t\t\t\tversionStatusMessage = `Major update to v${githubVersion} available`;\n\t\t\t\tstatusIcon = 'mdi:alert-circle';\n\t\t\t\tstatusSeverity = 'critical';\n\t\t\t} else if (comparison === 'minor' || comparison === 'patch') {\n\t\t\t\tbadgeVariant = 'variant-filled';\n\t\t\t\tbadgeColor = 'bg-warning-500 text-black';\n\t\t\t\tversionStatusMessage = `Update to v${githubVersion} recommended`;\n\t\t\t\tstatusIcon = 'mdi:information';\n\t\t\t\tstatusSeverity = 'warning';\n\t\t\t} else {\n\t\t\t\tbadgeVariant = 'variant-filled';\n\t\t\t\tbadgeColor = 'bg-success-500 text-white';\n\t\t\t\tversionStatusMessage = 'You are up to date';\n\t\t\t\tstatusIcon = 'mdi:check-circle';\n\t\t\t\tstatusSeverity = 'success';\n\t\t\t}\n\t\t\terror = null;\n\t\t}\n\n\t\tlastChecked = Date.now();\n\t}\n\n\t// Fetch version with retry logic\n\tasync function checkVersion(retry = 0): Promise<void> {\n\t\tif (isLoading && retry === 0) return; // Prevent duplicate requests\n\n\t\tisLoading = true;\n\t\terror = null;\n\n\t\ttry {\n\t\t\tconst controller = new AbortController();\n\t\t\tconst timeout = setTimeout(() => controller.abort(), 10000); // 10s timeout\n\n\t\t\tconst response = await fetch('/api/system/version', {\n\t\t\t\tsignal: controller.signal,\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tclearTimeout(timeout);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`HTTP ${response.status}: ${response.statusText}`);\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\t\t\tupdateStatus(data);\n\t\t} catch (err) {\n\t\t\tconst errorMessage = err instanceof Error ? err.message : 'Unknown error';\n\n\t\t\tif (retry < MAX_RETRIES) {\n\t\t\t\tsetTimeout(() => checkVersion(retry + 1), RETRY_DELAY * Math.pow(2, retry));\n\t\t\t} else {\n\t\t\t\tgithubVersion = pkg;\n\t\t\t\tbadgeVariant = 'variant-soft';\n\t\t\t\tbadgeColor = 'bg-surface-500 text-white';\n\t\t\t\tversionStatusMessage = 'Update check failed';\n\t\t\t\tstatusIcon = 'mdi:alert-octagon';\n\t\t\t\tstatusSeverity = 'unknown';\n\t\t\t\terror = errorMessage;\n\t\t\t}\n\t\t} finally {\n\t\t\tisLoading = false;\n\t\t}\n\t}\n\n\t// Notify parent of status changes\n\t$effect(() => {\n\t\tif (onStatusChange && !isLoading) {\n\t\t\tonStatusChange(versionStatus);\n\t\t}\n\t});\n\n\t// Setup periodic checks\n\tonMount(() => {\n\t\t// Initial check\n\t\tcheckVersion();\n\n\t\t// Periodic checks every hour\n\t\tcheckInterval = setInterval(() => {\n\t\t\tcheckVersion();\n\t\t}, CHECK_INTERVAL);\n\n\t\treturn () => {\n\t\t\tif (checkInterval) {\n\t\t\t\tclearInterval(checkInterval);\n\t\t\t}\n\t\t};\n\t});\n\n\tonDestroy(() => {\n\t\tif (checkInterval) {\n\t\t\tclearInterval(checkInterval);\n\t\t}\n\t});\n\n\t// Get appropriate ARIA label\n\tconst statusAriaLabel = $derived.by(() => {\n\t\tif (isLoading) {\n\t\t\treturn 'Checking application version';\n\t\t}\n\t\tif (error) {\n\t\t\treturn `Version ${pkg}. ${error}`;\n\t\t}\n\t\treturn `Application version ${pkg}. ${versionStatusMessage}`;\n\t});\n</script>\n\n{#if children}\n\t<!-- Headless mode - render custom UI via snippet -->\n\t{@render children(versionStatus)}\n{:else}\n\t<!-- Default UI -->\n\t<a\n\t\thref={GITHUB_RELEASES_URL}\n\t\ttarget=\"_blank\"\n\t\trel=\"noopener noreferrer\"\n\t\tclass={effectiveTransparent\n\t\t\t? `absolute bottom-5 left-1/2 flex -translate-x-1/2 transform items-center justify-between w-28 gap-2 rounded-full ${transparentClasses} px-4 py-1 text-sm font-bold transition-opacity duration-300 hover:opacity-90  focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2`\n\t\t\t: compact\n\t\t\t\t? `inline-flex items-center gap-1 text-xs font-medium transition-colors hover:opacity-80 focus:opacity-80 badge ${badgeVariant} ${badgeColor} rounded-full px-2 py-0.5 focus:outline-none focus:ring-2 focus:ring-primary-500`\n\t\t\t\t: `inline-flex items-center gap-1.5 text-xs font-medium transition-colors hover:opacity-80 focus:opacity-80 badge ${badgeVariant} ${badgeColor} rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500`}\n\t\taria-label={statusAriaLabel}\n\t\taria-live=\"polite\"\n\t>\n\t\t{#if effectiveTransparent}\n\t\t\t<!-- Transparent mode -->\n\t\t\t<span class=\"text-black\">Ver.</span>\n\t\t\t<span class=\"text-white\">{pkg}</span>\n\n\t\t\t{#if !isLoading && statusSeverity === 'critical'}\n\t\t\t\t<span class=\"flex h-2 w-2\">\n\t\t\t\t\t<span class=\"absolute inline-flex h-2 w-2 animate-ping rounded-full bg-error-400 opacity-75\"></span>\n\t\t\t\t\t<span class=\"relative inline-flex h-2 w-2 rounded-full bg-error-500\"></span>\n\t\t\t\t</span>\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<!-- Standard/Compact mode -->\n\t\t\t<span>\n\t\t\t\t{#if compact}\n\t\t\t\t\tv.{pkg}\n\t\t\t\t{:else}\n\t\t\t\t\tVer. {pkg}\n\t\t\t\t\t{#if githubVersion && githubVersion !== pkg && !isLoading}\n\t\t\t\t\t\t<span class=\"opacity-70\">â†’ {githubVersion}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t</span>\n\n\t\t\t<!-- Status indicator dot (only show when check is complete) -->\n\t\t\t{#if !compact && !isLoading && statusSeverity !== 'unknown'}\n\t\t\t\t<span\n\t\t\t\t\tclass=\"inline-block h-2 w-2 rounded-full {statusSeverity === 'critical'\n\t\t\t\t\t\t? 'bg-error-500'\n\t\t\t\t\t\t: statusSeverity === 'warning'\n\t\t\t\t\t\t\t? 'bg-warning-500'\n\t\t\t\t\t\t\t: statusSeverity === 'success'\n\t\t\t\t\t\t\t\t? 'bg-success-500'\n\t\t\t\t\t\t\t\t: 'bg-surface-500'}\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t></span>\n\t\t\t{/if}\n\t\t{/if}\n\n\t\t<!-- Tooltip on hover -->\n\t\t{#if !compact && !effectiveTransparent}\n\t\t\t<span class=\"sr-only\">{versionStatusMessage}</span>\n\t\t{/if}\n\t</a>\n\n\t<!-- Error toast/message (optional - only shown if critical) -->\n\t{#if error && statusSeverity === 'critical' && !compact && !transparent}\n\t\t<div\n\t\t\tclass=\"mt-2 rounded border-l-4 border-error-500 bg-error-50 p-2 text-xs text-error-700 dark:bg-error-900/20 dark:text-error-300\"\n\t\t\trole=\"alert\"\n\t\t>\n\t\t\t<strong>Version check failed:</strong>\n\t\t\t{error}\n\t\t</div>\n\t{/if}\n{/if}\n"],"names":["transparent","compact","GITHUB_RELEASES_URL","CHECK_INTERVAL","MAX_RETRIES","RETRY_DELAY","pkg","$.derived","publicEnv","githubVersion","$.state","badgeVariant","badgeColor","versionStatusMessage","statusIcon","statusSeverity","isLoading","error","lastChecked","checkInterval","versionStatus","$.get","isLoginRoute","effectiveTransparent","transparentClasses","parseVersion","version","parts","compareVersions","local","remote","localMajor","localMinor","localPatch","remoteMajor","remoteMinor","remotePatch","updateStatus","data","$.set","comparison","checkVersion","retry","controller","timeout","response","err","errorMessage","$.user_effect","$$props","onMount","onDestroy","statusAriaLabel","a","$.first_child","fragment_2","$.set_attribute","node_2","$.child","span","$.sibling","fragment_3","span_1","root_4","$$render","consequent_1","span_2","fragment_4","span_3","root_8","consequent_4","consequent_3","alternate","span_4","root_9","$.append","$$anchor","consequent_5","consequent_2","alternate_1","span_5","root_10","consequent_6","$.reset","node_8","div","root_11","text_5","consequent_7","$.clsx"],"mappings":"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"}