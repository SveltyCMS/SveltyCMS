{"version":3,"file":"DOA-aSm7.js","sources":["../../../../../../../../node_modules/@iconify/svelte/dist/functions.js","../../../../../../../../shared/components/src/IconifyPicker.svelte"],"sourcesContent":["/**\n* Expression to test part of icon name.\n*\n* Used when loading icons from Iconify API due to project naming convension.\n* Ignored when using custom icon sets - convension does not apply.\n*/\nconst matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\n/**\n* Convert string icon name to IconifyIconName object.\n*/\nconst stringToIcon = (value, validate, allowSimpleName, provider = \"\") => {\n\tconst colonSeparated = value.split(\":\");\n\tif (value.slice(0, 1) === \"@\") {\n\t\tif (colonSeparated.length < 2 || colonSeparated.length > 3) return null;\n\t\tprovider = colonSeparated.shift().slice(1);\n\t}\n\tif (colonSeparated.length > 3 || !colonSeparated.length) return null;\n\tif (colonSeparated.length > 1) {\n\t\tconst name$1 = colonSeparated.pop();\n\t\tconst prefix = colonSeparated.pop();\n\t\tconst result = {\n\t\t\tprovider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\n\t\t\tprefix,\n\t\t\tname: name$1\n\t\t};\n\t\treturn validate && !validateIconName(result) ? null : result;\n\t}\n\tconst name = colonSeparated[0];\n\tconst dashSeparated = name.split(\"-\");\n\tif (dashSeparated.length > 1) {\n\t\tconst result = {\n\t\t\tprovider,\n\t\t\tprefix: dashSeparated.shift(),\n\t\t\tname: dashSeparated.join(\"-\")\n\t\t};\n\t\treturn validate && !validateIconName(result) ? null : result;\n\t}\n\tif (allowSimpleName && provider === \"\") {\n\t\tconst result = {\n\t\t\tprovider,\n\t\t\tprefix: \"\",\n\t\t\tname\n\t\t};\n\t\treturn validate && !validateIconName(result, allowSimpleName) ? null : result;\n\t}\n\treturn null;\n};\n/**\n* Check if icon is valid.\n*\n* This function is not part of stringToIcon because validation is not needed for most code.\n*/\nconst validateIconName = (icon, allowSimpleName) => {\n\tif (!icon) return false;\n\treturn !!((allowSimpleName && icon.prefix === \"\" || !!icon.prefix) && !!icon.name);\n};\n\n/**\n* Resolve icon set icons\n*\n* Returns parent icon for each icon\n*/\nfunction getIconsTree(data, names) {\n\tconst icons = data.icons;\n\tconst aliases = data.aliases || Object.create(null);\n\tconst resolved = Object.create(null);\n\tfunction resolve(name) {\n\t\tif (icons[name]) return resolved[name] = [];\n\t\tif (!(name in resolved)) {\n\t\t\tresolved[name] = null;\n\t\t\tconst parent = aliases[name] && aliases[name].parent;\n\t\t\tconst value = parent && resolve(parent);\n\t\t\tif (value) resolved[name] = [parent].concat(value);\n\t\t}\n\t\treturn resolved[name];\n\t}\n\t(Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\n\treturn resolved;\n}\n\n/** Default values for dimensions */\nconst defaultIconDimensions = Object.freeze({\n\tleft: 0,\n\ttop: 0,\n\twidth: 16,\n\theight: 16\n});\n/** Default values for transformations */\nconst defaultIconTransformations = Object.freeze({\n\trotate: 0,\n\tvFlip: false,\n\thFlip: false\n});\n/** Default values for all optional IconifyIcon properties */\nconst defaultIconProps = Object.freeze({\n\t...defaultIconDimensions,\n\t...defaultIconTransformations\n});\n/** Default values for all properties used in ExtendedIconifyIcon */\nconst defaultExtendedIconProps = Object.freeze({\n\t...defaultIconProps,\n\tbody: \"\",\n\thidden: false\n});\n\n/**\n* Merge transformations\n*/\nfunction mergeIconTransformations(obj1, obj2) {\n\tconst result = {};\n\tif (!obj1.hFlip !== !obj2.hFlip) result.hFlip = true;\n\tif (!obj1.vFlip !== !obj2.vFlip) result.vFlip = true;\n\tconst rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\n\tif (rotate) result.rotate = rotate;\n\treturn result;\n}\n\n/**\n* Merge icon and alias\n*\n* Can also be used to merge default values and icon\n*/\nfunction mergeIconData(parent, child) {\n\tconst result = mergeIconTransformations(parent, child);\n\tfor (const key in defaultExtendedIconProps) if (key in defaultIconTransformations) {\n\t\tif (key in parent && !(key in result)) result[key] = defaultIconTransformations[key];\n\t} else if (key in child) result[key] = child[key];\n\telse if (key in parent) result[key] = parent[key];\n\treturn result;\n}\n\n/**\n* Get icon data, using prepared aliases tree\n*/\nfunction internalGetIconData(data, name, tree) {\n\tconst icons = data.icons;\n\tconst aliases = data.aliases || Object.create(null);\n\tlet currentProps = {};\n\tfunction parse(name$1) {\n\t\tcurrentProps = mergeIconData(icons[name$1] || aliases[name$1], currentProps);\n\t}\n\tparse(name);\n\ttree.forEach(parse);\n\treturn mergeIconData(data, currentProps);\n}\n\n/**\n* Extract icons from an icon set\n*\n* Returns list of icons that were found in icon set\n*/\nfunction parseIconSet(data, callback) {\n\tconst names = [];\n\tif (typeof data !== \"object\" || typeof data.icons !== \"object\") return names;\n\tif (data.not_found instanceof Array) data.not_found.forEach((name) => {\n\t\tcallback(name, null);\n\t\tnames.push(name);\n\t});\n\tconst tree = getIconsTree(data);\n\tfor (const name in tree) {\n\t\tconst item = tree[name];\n\t\tif (item) {\n\t\t\tcallback(name, internalGetIconData(data, name, item));\n\t\t\tnames.push(name);\n\t\t}\n\t}\n\treturn names;\n}\n\n/**\n* Optional properties\n*/\nconst optionalPropertyDefaults = {\n\tprovider: \"\",\n\taliases: {},\n\tnot_found: {},\n\t...defaultIconDimensions\n};\n/**\n* Check props\n*/\nfunction checkOptionalProps(item, defaults) {\n\tfor (const prop in defaults) if (prop in item && typeof item[prop] !== typeof defaults[prop]) return false;\n\treturn true;\n}\n/**\n* Validate icon set, return it as IconifyJSON on success, null on failure\n*\n* Unlike validateIconSet(), this function is very basic.\n* It does not throw exceptions, it does not check metadata, it does not fix stuff.\n*/\nfunction quicklyValidateIconSet(obj) {\n\tif (typeof obj !== \"object\" || obj === null) return null;\n\tconst data = obj;\n\tif (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") return null;\n\tif (!checkOptionalProps(obj, optionalPropertyDefaults)) return null;\n\tconst icons = data.icons;\n\tfor (const name in icons) {\n\t\tconst icon = icons[name];\n\t\tif (!name || typeof icon.body !== \"string\" || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\n\t}\n\tconst aliases = data.aliases || Object.create(null);\n\tfor (const name in aliases) {\n\t\tconst icon = aliases[name];\n\t\tconst parent = icon.parent;\n\t\tif (!name || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\n\t}\n\treturn data;\n}\n\n/**\n* Storage by provider and prefix\n*/\nconst dataStorage = Object.create(null);\n/**\n* Create new storage\n*/\nfunction newStorage(provider, prefix) {\n\treturn {\n\t\tprovider,\n\t\tprefix,\n\t\ticons: Object.create(null),\n\t\tmissing: /* @__PURE__ */ new Set()\n\t};\n}\n/**\n* Get storage for provider and prefix\n*/\nfunction getStorage(provider, prefix) {\n\tconst providerStorage = dataStorage[provider] || (dataStorage[provider] = Object.create(null));\n\treturn providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\n}\n/**\n* Add icon set to storage\n*\n* Returns array of added icons\n*/\nfunction addIconSet(storage, data) {\n\tif (!quicklyValidateIconSet(data)) return [];\n\treturn parseIconSet(data, (name, icon) => {\n\t\tif (icon) storage.icons[name] = icon;\n\t\telse storage.missing.add(name);\n\t});\n}\n/**\n* Add icon to storage\n*/\nfunction addIconToStorage(storage, name, icon) {\n\ttry {\n\t\tif (typeof icon.body === \"string\") {\n\t\t\tstorage.icons[name] = { ...icon };\n\t\t\treturn true;\n\t\t}\n\t} catch (err) {}\n\treturn false;\n}\n/**\n* List available icons\n*/\nfunction listIcons(provider, prefix) {\n\tlet allIcons = [];\n\t(typeof provider === \"string\" ? [provider] : Object.keys(dataStorage)).forEach((provider$1) => {\n\t\t(typeof provider$1 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider$1] || {})).forEach((prefix$1) => {\n\t\t\tconst storage = getStorage(provider$1, prefix$1);\n\t\t\tallIcons = allIcons.concat(Object.keys(storage.icons).map((name) => (provider$1 !== \"\" ? \"@\" + provider$1 + \":\" : \"\") + prefix$1 + \":\" + name));\n\t\t});\n\t});\n\treturn allIcons;\n}\n\n/**\n* Allow storing icons without provider or prefix, making it possible to store icons like \"home\"\n*/\nlet simpleNames = false;\nfunction allowSimpleNames(allow) {\n\tif (typeof allow === \"boolean\") simpleNames = allow;\n\treturn simpleNames;\n}\n/**\n* Get icon data\n*\n* Returns:\n* - IconifyIcon on success, object directly from storage so don't modify it\n* - null if icon is marked as missing (returned in `not_found` property from API, so don't bother sending API requests)\n* - undefined if icon is missing in storage\n*/\nfunction getIconData(name) {\n\tconst icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\n\tif (icon) {\n\t\tconst storage = getStorage(icon.provider, icon.prefix);\n\t\tconst iconName = icon.name;\n\t\treturn storage.icons[iconName] || (storage.missing.has(iconName) ? null : void 0);\n\t}\n}\n/**\n* Add one icon\n*/\nfunction addIcon(name, data) {\n\tconst icon = stringToIcon(name, true, simpleNames);\n\tif (!icon) return false;\n\tconst storage = getStorage(icon.provider, icon.prefix);\n\tif (data) return addIconToStorage(storage, icon.name, data);\n\telse {\n\t\tstorage.missing.add(icon.name);\n\t\treturn true;\n\t}\n}\n/**\n* Add icon set\n*/\nfunction addCollection(data, provider) {\n\tif (typeof data !== \"object\") return false;\n\tif (typeof provider !== \"string\") provider = data.provider || \"\";\n\tif (simpleNames && !provider && !data.prefix) {\n\t\tlet added = false;\n\t\tif (quicklyValidateIconSet(data)) {\n\t\t\tdata.prefix = \"\";\n\t\t\tparseIconSet(data, (name, icon) => {\n\t\t\t\tif (addIcon(name, icon)) added = true;\n\t\t\t});\n\t\t}\n\t\treturn added;\n\t}\n\tconst prefix = data.prefix;\n\tif (!validateIconName({\n\t\tprefix,\n\t\tname: \"a\"\n\t})) return false;\n\treturn !!addIconSet(getStorage(provider, prefix), data);\n}\n/**\n* Check if icon data is available\n*/\nfunction iconLoaded(name) {\n\treturn !!getIconData(name);\n}\n/**\n* Get full icon\n*/\nfunction getIcon(name) {\n\tconst result = getIconData(name);\n\treturn result ? {\n\t\t...defaultIconProps,\n\t\t...result\n\t} : result;\n}\n\n/**\n* Default icon customisations values\n*/\nconst defaultIconSizeCustomisations = Object.freeze({\n\twidth: null,\n\theight: null\n});\nconst defaultIconCustomisations = Object.freeze({\n\t...defaultIconSizeCustomisations,\n\t...defaultIconTransformations\n});\n\n/**\n* Regular expressions for calculating dimensions\n*/\nconst unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nconst unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\nfunction calculateSize(size, ratio, precision) {\n\tif (ratio === 1) return size;\n\tprecision = precision || 100;\n\tif (typeof size === \"number\") return Math.ceil(size * ratio * precision) / precision;\n\tif (typeof size !== \"string\") return size;\n\tconst oldParts = size.split(unitsSplit);\n\tif (oldParts === null || !oldParts.length) return size;\n\tconst newParts = [];\n\tlet code = oldParts.shift();\n\tlet isNumber = unitsTest.test(code);\n\twhile (true) {\n\t\tif (isNumber) {\n\t\t\tconst num = parseFloat(code);\n\t\t\tif (isNaN(num)) newParts.push(code);\n\t\t\telse newParts.push(Math.ceil(num * ratio * precision) / precision);\n\t\t} else newParts.push(code);\n\t\tcode = oldParts.shift();\n\t\tif (code === void 0) return newParts.join(\"\");\n\t\tisNumber = !isNumber;\n\t}\n}\n\nfunction splitSVGDefs(content, tag = \"defs\") {\n\tlet defs = \"\";\n\tconst index = content.indexOf(\"<\" + tag);\n\twhile (index >= 0) {\n\t\tconst start = content.indexOf(\">\", index);\n\t\tconst end = content.indexOf(\"</\" + tag);\n\t\tif (start === -1 || end === -1) break;\n\t\tconst endEnd = content.indexOf(\">\", end);\n\t\tif (endEnd === -1) break;\n\t\tdefs += content.slice(start + 1, end).trim();\n\t\tcontent = content.slice(0, index).trim() + content.slice(endEnd + 1);\n\t}\n\treturn {\n\t\tdefs,\n\t\tcontent\n\t};\n}\n/**\n* Merge defs and content\n*/\nfunction mergeDefsAndContent(defs, content) {\n\treturn defs ? \"<defs>\" + defs + \"</defs>\" + content : content;\n}\n/**\n* Wrap SVG content, without wrapping definitions\n*/\nfunction wrapSVGContent(body, start, end) {\n\tconst split = splitSVGDefs(body);\n\treturn mergeDefsAndContent(split.defs, start + split.content + end);\n}\n\n/**\n* Check if value should be unset. Allows multiple keywords\n*/\nconst isUnsetKeyword = (value) => value === \"unset\" || value === \"undefined\" || value === \"none\";\n/**\n* Get SVG attributes and content from icon + customisations\n*\n* Does not generate style to make it compatible with frameworks that use objects for style, such as React.\n* Instead, it generates 'inline' value. If true, rendering engine should add verticalAlign: -0.125em to icon.\n*\n* Customisations should be normalised by platform specific parser.\n* Result should be converted to <svg> by platform specific parser.\n* Use replaceIDs to generate unique IDs for body.\n*/\nfunction iconToSVG(icon, customisations) {\n\tconst fullIcon = {\n\t\t...defaultIconProps,\n\t\t...icon\n\t};\n\tconst fullCustomisations = {\n\t\t...defaultIconCustomisations,\n\t\t...customisations\n\t};\n\tconst box = {\n\t\tleft: fullIcon.left,\n\t\ttop: fullIcon.top,\n\t\twidth: fullIcon.width,\n\t\theight: fullIcon.height\n\t};\n\tlet body = fullIcon.body;\n\t[fullIcon, fullCustomisations].forEach((props) => {\n\t\tconst transformations = [];\n\t\tconst hFlip = props.hFlip;\n\t\tconst vFlip = props.vFlip;\n\t\tlet rotation = props.rotate;\n\t\tif (hFlip) if (vFlip) rotation += 2;\n\t\telse {\n\t\t\ttransformations.push(\"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\");\n\t\t\ttransformations.push(\"scale(-1 1)\");\n\t\t\tbox.top = box.left = 0;\n\t\t}\n\t\telse if (vFlip) {\n\t\t\ttransformations.push(\"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\");\n\t\t\ttransformations.push(\"scale(1 -1)\");\n\t\t\tbox.top = box.left = 0;\n\t\t}\n\t\tlet tempValue;\n\t\tif (rotation < 0) rotation -= Math.floor(rotation / 4) * 4;\n\t\trotation = rotation % 4;\n\t\tswitch (rotation) {\n\t\t\tcase 1:\n\t\t\t\ttempValue = box.height / 2 + box.top;\n\t\t\t\ttransformations.unshift(\"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\ttransformations.unshift(\"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\");\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\ttempValue = box.width / 2 + box.left;\n\t\t\t\ttransformations.unshift(\"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\n\t\t\t\tbreak;\n\t\t}\n\t\tif (rotation % 2 === 1) {\n\t\t\tif (box.left !== box.top) {\n\t\t\t\ttempValue = box.left;\n\t\t\t\tbox.left = box.top;\n\t\t\t\tbox.top = tempValue;\n\t\t\t}\n\t\t\tif (box.width !== box.height) {\n\t\t\t\ttempValue = box.width;\n\t\t\t\tbox.width = box.height;\n\t\t\t\tbox.height = tempValue;\n\t\t\t}\n\t\t}\n\t\tif (transformations.length) body = wrapSVGContent(body, \"<g transform=\\\"\" + transformations.join(\" \") + \"\\\">\", \"</g>\");\n\t});\n\tconst customisationsWidth = fullCustomisations.width;\n\tconst customisationsHeight = fullCustomisations.height;\n\tconst boxWidth = box.width;\n\tconst boxHeight = box.height;\n\tlet width;\n\tlet height;\n\tif (customisationsWidth === null) {\n\t\theight = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n\t\twidth = calculateSize(height, boxWidth / boxHeight);\n\t} else {\n\t\twidth = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\n\t\theight = customisationsHeight === null ? calculateSize(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n\t}\n\tconst attributes = {};\n\tconst setAttr = (prop, value) => {\n\t\tif (!isUnsetKeyword(value)) attributes[prop] = value.toString();\n\t};\n\tsetAttr(\"width\", width);\n\tsetAttr(\"height\", height);\n\tconst viewBox = [\n\t\tbox.left,\n\t\tbox.top,\n\t\tboxWidth,\n\t\tboxHeight\n\t];\n\tattributes.viewBox = viewBox.join(\" \");\n\treturn {\n\t\tattributes,\n\t\tviewBox,\n\t\tbody\n\t};\n}\n\n/**\n* Regular expression for finding ids\n*/\nconst regex = /\\sid=\"(\\S+)\"/g;\n/**\n* Counters\n*/\nconst counters = /* @__PURE__ */ new Map();\n/**\n* Get unique new ID\n*/\nfunction nextID(id) {\n\tid = id.replace(/[0-9]+$/, \"\") || \"a\";\n\tconst count = counters.get(id) || 0;\n\tcounters.set(id, count + 1);\n\treturn count ? `${id}${count}` : id;\n}\n/**\n* Replace IDs in SVG output with unique IDs\n*/\nfunction replaceIDs(body) {\n\tconst ids = [];\n\tlet match;\n\twhile (match = regex.exec(body)) ids.push(match[1]);\n\tif (!ids.length) return body;\n\tconst suffix = \"suffix\" + (Math.random() * 16777216 | Date.now()).toString(16);\n\tids.forEach((id) => {\n\t\tconst newID = nextID(id);\n\t\tconst escapedID = id.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n\t\tbody = body.replace(new RegExp(\"([#;\\\"])(\" + escapedID + \")([\\\")]|\\\\.[a-z])\", \"g\"), \"$1\" + newID + suffix + \"$3\");\n\t});\n\tbody = body.replace(new RegExp(suffix, \"g\"), \"\");\n\treturn body;\n}\n/**\n* Clear ID cache\n*/\nfunction clearIDCache() {\n\tcounters.clear();\n}\n\n/**\n* Local storate types and entries\n*/\nconst storage = Object.create(null);\n/**\n* Set API module\n*/\nfunction setAPIModule(provider, item) {\n\tstorage[provider] = item;\n}\n/**\n* Get API module\n*/\nfunction getAPIModule(provider) {\n\treturn storage[provider] || storage[\"\"];\n}\n\n/**\n* Create full API configuration from partial data\n*/\nfunction createAPIConfig(source) {\n\tlet resources;\n\tif (typeof source.resources === \"string\") resources = [source.resources];\n\telse {\n\t\tresources = source.resources;\n\t\tif (!(resources instanceof Array) || !resources.length) return null;\n\t}\n\treturn {\n\t\tresources,\n\t\tpath: source.path || \"/\",\n\t\tmaxURL: source.maxURL || 500,\n\t\trotate: source.rotate || 750,\n\t\ttimeout: source.timeout || 5e3,\n\t\trandom: source.random === true,\n\t\tindex: source.index || 0,\n\t\tdataAfterTimeout: source.dataAfterTimeout !== false\n\t};\n}\n/**\n* Local storage\n*/\nconst configStorage = Object.create(null);\n/**\n* Redundancy for API servers.\n*\n* API should have very high uptime because of implemented redundancy at server level, but\n* sometimes bad things happen. On internet 100% uptime is not possible.\n*\n* There could be routing problems. Server might go down for whatever reason, but it takes\n* few minutes to detect that downtime, so during those few minutes API might not be accessible.\n*\n* This script has some redundancy to mitigate possible network issues.\n*\n* If one host cannot be reached in 'rotate' (750 by default) ms, script will try to retrieve\n* data from different host. Hosts have different configurations, pointing to different\n* API servers hosted at different providers.\n*/\nconst fallBackAPISources = [\"https://api.simplesvg.com\", \"https://api.unisvg.com\"];\nconst fallBackAPI = [];\nwhile (fallBackAPISources.length > 0) if (fallBackAPISources.length === 1) fallBackAPI.push(fallBackAPISources.shift());\nelse if (Math.random() > .5) fallBackAPI.push(fallBackAPISources.shift());\nelse fallBackAPI.push(fallBackAPISources.pop());\nconfigStorage[\"\"] = createAPIConfig({ resources: [\"https://api.iconify.design\"].concat(fallBackAPI) });\n/**\n* Add custom config for provider\n*/\nfunction addAPIProvider(provider, customConfig) {\n\tconst config = createAPIConfig(customConfig);\n\tif (config === null) return false;\n\tconfigStorage[provider] = config;\n\treturn true;\n}\n/**\n* Get API configuration\n*/\nfunction getAPIConfig(provider) {\n\treturn configStorage[provider];\n}\n/**\n* List API providers\n*/\nfunction listAPIProviders() {\n\treturn Object.keys(configStorage);\n}\n\nconst detectFetch = () => {\n\tlet callback;\n\ttry {\n\t\tcallback = fetch;\n\t\tif (typeof callback === \"function\") return callback;\n\t} catch (err) {}\n};\n/**\n* Fetch function\n*/\nlet fetchModule = detectFetch();\n/**\n* Set custom fetch() function\n*/\nfunction setFetch(fetch$1) {\n\tfetchModule = fetch$1;\n}\n/**\n* Get fetch() function. Used by Icon Finder Core\n*/\nfunction getFetch() {\n\treturn fetchModule;\n}\n/**\n* Calculate maximum icons list length for prefix\n*/\nfunction calculateMaxLength(provider, prefix) {\n\tconst config = getAPIConfig(provider);\n\tif (!config) return 0;\n\tlet result;\n\tif (!config.maxURL) result = 0;\n\telse {\n\t\tlet maxHostLength = 0;\n\t\tconfig.resources.forEach((item) => {\n\t\t\tconst host = item;\n\t\t\tmaxHostLength = Math.max(maxHostLength, host.length);\n\t\t});\n\t\tconst url = prefix + \".json?icons=\";\n\t\tresult = config.maxURL - maxHostLength - config.path.length - url.length;\n\t}\n\treturn result;\n}\n/**\n* Should query be aborted, based on last HTTP status\n*/\nfunction shouldAbort(status) {\n\treturn status === 404;\n}\n/**\n* Prepare params\n*/\nconst prepare = (provider, prefix, icons) => {\n\tconst results = [];\n\tconst maxLength = calculateMaxLength(provider, prefix);\n\tconst type = \"icons\";\n\tlet item = {\n\t\ttype,\n\t\tprovider,\n\t\tprefix,\n\t\ticons: []\n\t};\n\tlet length = 0;\n\ticons.forEach((name, index) => {\n\t\tlength += name.length + 1;\n\t\tif (length >= maxLength && index > 0) {\n\t\t\tresults.push(item);\n\t\t\titem = {\n\t\t\t\ttype,\n\t\t\t\tprovider,\n\t\t\t\tprefix,\n\t\t\t\ticons: []\n\t\t\t};\n\t\t\tlength = name.length;\n\t\t}\n\t\titem.icons.push(name);\n\t});\n\tresults.push(item);\n\treturn results;\n};\n/**\n* Get path\n*/\nfunction getPath(provider) {\n\tif (typeof provider === \"string\") {\n\t\tconst config = getAPIConfig(provider);\n\t\tif (config) return config.path;\n\t}\n\treturn \"/\";\n}\n/**\n* Load icons\n*/\nconst send = (host, params, callback) => {\n\tif (!fetchModule) {\n\t\tcallback(\"abort\", 424);\n\t\treturn;\n\t}\n\tlet path = getPath(params.provider);\n\tswitch (params.type) {\n\t\tcase \"icons\": {\n\t\t\tconst prefix = params.prefix;\n\t\t\tconst iconsList = params.icons.join(\",\");\n\t\t\tconst urlParams = new URLSearchParams({ icons: iconsList });\n\t\t\tpath += prefix + \".json?\" + urlParams.toString();\n\t\t\tbreak;\n\t\t}\n\t\tcase \"custom\": {\n\t\t\tconst uri = params.uri;\n\t\t\tpath += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tcallback(\"abort\", 400);\n\t\t\treturn;\n\t}\n\tlet defaultError = 503;\n\tfetchModule(host + path).then((response) => {\n\t\tconst status = response.status;\n\t\tif (status !== 200) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tcallback(shouldAbort(status) ? \"abort\" : \"next\", status);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tdefaultError = 501;\n\t\treturn response.json();\n\t}).then((data) => {\n\t\tif (typeof data !== \"object\" || data === null) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (data === 404) callback(\"abort\", data);\n\t\t\t\telse callback(\"next\", defaultError);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tcallback(\"success\", data);\n\t\t});\n\t}).catch(() => {\n\t\tcallback(\"next\", defaultError);\n\t});\n};\n/**\n* Export module\n*/\nconst fetchAPIModule = {\n\tprepare,\n\tsend\n};\n\n/**\n* Remove callback\n*/\nfunction removeCallback(storages, id) {\n\tstorages.forEach((storage) => {\n\t\tconst items = storage.loaderCallbacks;\n\t\tif (items) storage.loaderCallbacks = items.filter((row) => row.id !== id);\n\t});\n}\n/**\n* Update all callbacks for provider and prefix\n*/\nfunction updateCallbacks(storage) {\n\tif (!storage.pendingCallbacksFlag) {\n\t\tstorage.pendingCallbacksFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.pendingCallbacksFlag = false;\n\t\t\tconst items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\n\t\t\tif (!items.length) return;\n\t\t\tlet hasPending = false;\n\t\t\tconst provider = storage.provider;\n\t\t\tconst prefix = storage.prefix;\n\t\t\titems.forEach((item) => {\n\t\t\t\tconst icons = item.icons;\n\t\t\t\tconst oldLength = icons.pending.length;\n\t\t\t\ticons.pending = icons.pending.filter((icon) => {\n\t\t\t\t\tif (icon.prefix !== prefix) return true;\n\t\t\t\t\tconst name = icon.name;\n\t\t\t\t\tif (storage.icons[name]) icons.loaded.push({\n\t\t\t\t\t\tprovider,\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tname\n\t\t\t\t\t});\n\t\t\t\t\telse if (storage.missing.has(name)) icons.missing.push({\n\t\t\t\t\t\tprovider,\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tname\n\t\t\t\t\t});\n\t\t\t\t\telse {\n\t\t\t\t\t\thasPending = true;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tif (icons.pending.length !== oldLength) {\n\t\t\t\t\tif (!hasPending) removeCallback([storage], item.id);\n\t\t\t\t\titem.callback(icons.loaded.slice(0), icons.missing.slice(0), icons.pending.slice(0), item.abort);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n/**\n* Unique id counter for callbacks\n*/\nlet idCounter = 0;\n/**\n* Add callback\n*/\nfunction storeCallback(callback, icons, pendingSources) {\n\tconst id = idCounter++;\n\tconst abort = removeCallback.bind(null, pendingSources, id);\n\tif (!icons.pending.length) return abort;\n\tconst item = {\n\t\tid,\n\t\ticons,\n\t\tcallback,\n\t\tabort\n\t};\n\tpendingSources.forEach((storage) => {\n\t\t(storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\n\t});\n\treturn abort;\n}\n\n/**\n* Check if icons have been loaded\n*/\nfunction sortIcons(icons) {\n\tconst result = {\n\t\tloaded: [],\n\t\tmissing: [],\n\t\tpending: []\n\t};\n\tconst storage = Object.create(null);\n\ticons.sort((a, b) => {\n\t\tif (a.provider !== b.provider) return a.provider.localeCompare(b.provider);\n\t\tif (a.prefix !== b.prefix) return a.prefix.localeCompare(b.prefix);\n\t\treturn a.name.localeCompare(b.name);\n\t});\n\tlet lastIcon = {\n\t\tprovider: \"\",\n\t\tprefix: \"\",\n\t\tname: \"\"\n\t};\n\ticons.forEach((icon) => {\n\t\tif (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) return;\n\t\tlastIcon = icon;\n\t\tconst provider = icon.provider;\n\t\tconst prefix = icon.prefix;\n\t\tconst name = icon.name;\n\t\tconst providerStorage = storage[provider] || (storage[provider] = Object.create(null));\n\t\tconst localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\n\t\tlet list;\n\t\tif (name in localStorage.icons) list = result.loaded;\n\t\telse if (prefix === \"\" || localStorage.missing.has(name)) list = result.missing;\n\t\telse list = result.pending;\n\t\tconst item = {\n\t\t\tprovider,\n\t\t\tprefix,\n\t\t\tname\n\t\t};\n\t\tlist.push(item);\n\t});\n\treturn result;\n}\n\n/**\n* Convert icons list from string/icon mix to icons and validate them\n*/\nfunction listToIcons(list, validate = true, simpleNames = false) {\n\tconst result = [];\n\tlist.forEach((item) => {\n\t\tconst icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\n\t\tif (icon) result.push(icon);\n\t});\n\treturn result;\n}\n\n/**\n* Default RedundancyConfig for API calls\n*/\nconst defaultConfig = {\n\tresources: [],\n\tindex: 0,\n\ttimeout: 2e3,\n\trotate: 750,\n\trandom: false,\n\tdataAfterTimeout: false\n};\n\n/**\n* Send query\n*/\nfunction sendQuery(config, payload, query, done) {\n\tconst resourcesCount = config.resources.length;\n\tconst startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\n\tlet resources;\n\tif (config.random) {\n\t\tlet list = config.resources.slice(0);\n\t\tresources = [];\n\t\twhile (list.length > 1) {\n\t\t\tconst nextIndex = Math.floor(Math.random() * list.length);\n\t\t\tresources.push(list[nextIndex]);\n\t\t\tlist = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\n\t\t}\n\t\tresources = resources.concat(list);\n\t} else resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\n\tconst startTime = Date.now();\n\tlet status = \"pending\";\n\tlet queriesSent = 0;\n\tlet lastError;\n\tlet timer = null;\n\tlet queue = [];\n\tlet doneCallbacks = [];\n\tif (typeof done === \"function\") doneCallbacks.push(done);\n\t/**\n\t* Reset timer\n\t*/\n\tfunction resetTimer() {\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = null;\n\t\t}\n\t}\n\t/**\n\t* Abort everything\n\t*/\n\tfunction abort() {\n\t\tif (status === \"pending\") status = \"aborted\";\n\t\tresetTimer();\n\t\tqueue.forEach((item) => {\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\n\t\t});\n\t\tqueue = [];\n\t}\n\t/**\n\t* Add / replace callback to call when execution is complete.\n\t* This can be used to abort pending query implementations when query is complete or aborted.\n\t*/\n\tfunction subscribe(callback, overwrite) {\n\t\tif (overwrite) doneCallbacks = [];\n\t\tif (typeof callback === \"function\") doneCallbacks.push(callback);\n\t}\n\t/**\n\t* Get query status\n\t*/\n\tfunction getQueryStatus() {\n\t\treturn {\n\t\t\tstartTime,\n\t\t\tpayload,\n\t\t\tstatus,\n\t\t\tqueriesSent,\n\t\t\tqueriesPending: queue.length,\n\t\t\tsubscribe,\n\t\t\tabort\n\t\t};\n\t}\n\t/**\n\t* Fail query\n\t*/\n\tfunction failQuery() {\n\t\tstatus = \"failed\";\n\t\tdoneCallbacks.forEach((callback) => {\n\t\t\tcallback(void 0, lastError);\n\t\t});\n\t}\n\t/**\n\t* Clear queue\n\t*/\n\tfunction clearQueue() {\n\t\tqueue.forEach((item) => {\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\n\t\t});\n\t\tqueue = [];\n\t}\n\t/**\n\t* Got response from module\n\t*/\n\tfunction moduleResponse(item, response, data) {\n\t\tconst isError = response !== \"success\";\n\t\tqueue = queue.filter((queued) => queued !== item);\n\t\tswitch (status) {\n\t\t\tcase \"pending\": break;\n\t\t\tcase \"failed\":\n\t\t\t\tif (isError || !config.dataAfterTimeout) return;\n\t\t\t\tbreak;\n\t\t\tdefault: return;\n\t\t}\n\t\tif (response === \"abort\") {\n\t\t\tlastError = data;\n\t\t\tfailQuery();\n\t\t\treturn;\n\t\t}\n\t\tif (isError) {\n\t\t\tlastError = data;\n\t\t\tif (!queue.length) if (!resources.length) failQuery();\n\t\t\telse execNext();\n\t\t\treturn;\n\t\t}\n\t\tresetTimer();\n\t\tclearQueue();\n\t\tif (!config.random) {\n\t\t\tconst index = config.resources.indexOf(item.resource);\n\t\t\tif (index !== -1 && index !== config.index) config.index = index;\n\t\t}\n\t\tstatus = \"completed\";\n\t\tdoneCallbacks.forEach((callback) => {\n\t\t\tcallback(data);\n\t\t});\n\t}\n\t/**\n\t* Execute next query\n\t*/\n\tfunction execNext() {\n\t\tif (status !== \"pending\") return;\n\t\tresetTimer();\n\t\tconst resource = resources.shift();\n\t\tif (resource === void 0) {\n\t\t\tif (queue.length) {\n\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\tresetTimer();\n\t\t\t\t\tif (status === \"pending\") {\n\t\t\t\t\t\tclearQueue();\n\t\t\t\t\t\tfailQuery();\n\t\t\t\t\t}\n\t\t\t\t}, config.timeout);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfailQuery();\n\t\t\treturn;\n\t\t}\n\t\tconst item = {\n\t\t\tstatus: \"pending\",\n\t\t\tresource,\n\t\t\tcallback: (status$1, data) => {\n\t\t\t\tmoduleResponse(item, status$1, data);\n\t\t\t}\n\t\t};\n\t\tqueue.push(item);\n\t\tqueriesSent++;\n\t\ttimer = setTimeout(execNext, config.rotate);\n\t\tquery(resource, payload, item.callback);\n\t}\n\tsetTimeout(execNext);\n\treturn getQueryStatus;\n}\n\n/**\n* Redundancy instance\n*/\nfunction initRedundancy(cfg) {\n\tconst config = {\n\t\t...defaultConfig,\n\t\t...cfg\n\t};\n\tlet queries = [];\n\t/**\n\t* Remove aborted and completed queries\n\t*/\n\tfunction cleanup() {\n\t\tqueries = queries.filter((item) => item().status === \"pending\");\n\t}\n\t/**\n\t* Send query\n\t*/\n\tfunction query(payload, queryCallback, doneCallback) {\n\t\tconst query$1 = sendQuery(config, payload, queryCallback, (data, error) => {\n\t\t\tcleanup();\n\t\t\tif (doneCallback) doneCallback(data, error);\n\t\t});\n\t\tqueries.push(query$1);\n\t\treturn query$1;\n\t}\n\t/**\n\t* Find instance\n\t*/\n\tfunction find(callback) {\n\t\treturn queries.find((value) => {\n\t\t\treturn callback(value);\n\t\t}) || null;\n\t}\n\treturn {\n\t\tquery,\n\t\tfind,\n\t\tsetIndex: (index) => {\n\t\t\tconfig.index = index;\n\t\t},\n\t\tgetIndex: () => config.index,\n\t\tcleanup\n\t};\n}\n\nfunction emptyCallback$1() {}\nconst redundancyCache = Object.create(null);\n/**\n* Get Redundancy instance for provider\n*/\nfunction getRedundancyCache(provider) {\n\tif (!redundancyCache[provider]) {\n\t\tconst config = getAPIConfig(provider);\n\t\tif (!config) return;\n\t\tredundancyCache[provider] = {\n\t\t\tconfig,\n\t\t\tredundancy: initRedundancy(config)\n\t\t};\n\t}\n\treturn redundancyCache[provider];\n}\n/**\n* Send API query\n*/\nfunction sendAPIQuery(target, query, callback) {\n\tlet redundancy;\n\tlet send;\n\tif (typeof target === \"string\") {\n\t\tconst api = getAPIModule(target);\n\t\tif (!api) {\n\t\t\tcallback(void 0, 424);\n\t\t\treturn emptyCallback$1;\n\t\t}\n\t\tsend = api.send;\n\t\tconst cached = getRedundancyCache(target);\n\t\tif (cached) redundancy = cached.redundancy;\n\t} else {\n\t\tconst config = createAPIConfig(target);\n\t\tif (config) {\n\t\t\tredundancy = initRedundancy(config);\n\t\t\tconst api = getAPIModule(target.resources ? target.resources[0] : \"\");\n\t\t\tif (api) send = api.send;\n\t\t}\n\t}\n\tif (!redundancy || !send) {\n\t\tcallback(void 0, 424);\n\t\treturn emptyCallback$1;\n\t}\n\treturn redundancy.query(query, send, callback)().abort;\n}\n\nfunction emptyCallback() {}\n/**\n* Function called when new icons have been loaded\n*/\nfunction loadedNewIcons(storage) {\n\tif (!storage.iconsLoaderFlag) {\n\t\tstorage.iconsLoaderFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.iconsLoaderFlag = false;\n\t\t\tupdateCallbacks(storage);\n\t\t});\n\t}\n}\n/**\n* Check icon names for API\n*/\nfunction checkIconNamesForAPI(icons) {\n\tconst valid = [];\n\tconst invalid = [];\n\ticons.forEach((name) => {\n\t\t(name.match(matchIconName) ? valid : invalid).push(name);\n\t});\n\treturn {\n\t\tvalid,\n\t\tinvalid\n\t};\n}\n/**\n* Parse loader response\n*/\nfunction parseLoaderResponse(storage, icons, data) {\n\tfunction checkMissing() {\n\t\tconst pending = storage.pendingIcons;\n\t\ticons.forEach((name) => {\n\t\t\tif (pending) pending.delete(name);\n\t\t\tif (!storage.icons[name]) storage.missing.add(name);\n\t\t});\n\t}\n\tif (data && typeof data === \"object\") try {\n\t\tif (!addIconSet(storage, data).length) {\n\t\t\tcheckMissing();\n\t\t\treturn;\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n\tcheckMissing();\n\tloadedNewIcons(storage);\n}\n/**\n* Handle response that can be async\n*/\nfunction parsePossiblyAsyncResponse(response, callback) {\n\tif (response instanceof Promise) response.then((data) => {\n\t\tcallback(data);\n\t}).catch(() => {\n\t\tcallback(null);\n\t});\n\telse callback(response);\n}\n/**\n* Load icons\n*/\nfunction loadNewIcons(storage, icons) {\n\tif (!storage.iconsToLoad) storage.iconsToLoad = icons;\n\telse storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\n\tif (!storage.iconsQueueFlag) {\n\t\tstorage.iconsQueueFlag = true;\n\t\tsetTimeout(() => {\n\t\t\tstorage.iconsQueueFlag = false;\n\t\t\tconst { provider, prefix } = storage;\n\t\t\tconst icons$1 = storage.iconsToLoad;\n\t\t\tdelete storage.iconsToLoad;\n\t\t\tif (!icons$1 || !icons$1.length) return;\n\t\t\tconst customIconLoader = storage.loadIcon;\n\t\t\tif (storage.loadIcons && (icons$1.length > 1 || !customIconLoader)) {\n\t\t\t\tparsePossiblyAsyncResponse(storage.loadIcons(icons$1, prefix, provider), (data) => {\n\t\t\t\t\tparseLoaderResponse(storage, icons$1, data);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (customIconLoader) {\n\t\t\t\ticons$1.forEach((name) => {\n\t\t\t\t\tparsePossiblyAsyncResponse(customIconLoader(name, prefix, provider), (data) => {\n\t\t\t\t\t\tparseLoaderResponse(storage, [name], data ? {\n\t\t\t\t\t\t\tprefix,\n\t\t\t\t\t\t\ticons: { [name]: data }\n\t\t\t\t\t\t} : null);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { valid, invalid } = checkIconNamesForAPI(icons$1);\n\t\t\tif (invalid.length) parseLoaderResponse(storage, invalid, null);\n\t\t\tif (!valid.length) return;\n\t\t\tconst api = prefix.match(matchIconName) ? getAPIModule(provider) : null;\n\t\t\tif (!api) {\n\t\t\t\tparseLoaderResponse(storage, valid, null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tapi.prepare(provider, prefix, valid).forEach((item) => {\n\t\t\t\tsendAPIQuery(provider, item, (data) => {\n\t\t\t\t\tparseLoaderResponse(storage, item.icons, data);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n/**\n* Load icons\n*/\nconst loadIcons = (icons, callback) => {\n\tconst sortedIcons = sortIcons(listToIcons(icons, true, allowSimpleNames()));\n\tif (!sortedIcons.pending.length) {\n\t\tlet callCallback = true;\n\t\tif (callback) setTimeout(() => {\n\t\t\tif (callCallback) callback(sortedIcons.loaded, sortedIcons.missing, sortedIcons.pending, emptyCallback);\n\t\t});\n\t\treturn () => {\n\t\t\tcallCallback = false;\n\t\t};\n\t}\n\tconst newIcons = Object.create(null);\n\tconst sources = [];\n\tlet lastProvider, lastPrefix;\n\tsortedIcons.pending.forEach((icon) => {\n\t\tconst { provider, prefix } = icon;\n\t\tif (prefix === lastPrefix && provider === lastProvider) return;\n\t\tlastProvider = provider;\n\t\tlastPrefix = prefix;\n\t\tsources.push(getStorage(provider, prefix));\n\t\tconst providerNewIcons = newIcons[provider] || (newIcons[provider] = Object.create(null));\n\t\tif (!providerNewIcons[prefix]) providerNewIcons[prefix] = [];\n\t});\n\tsortedIcons.pending.forEach((icon) => {\n\t\tconst { provider, prefix, name } = icon;\n\t\tconst storage = getStorage(provider, prefix);\n\t\tconst pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */ new Set());\n\t\tif (!pendingQueue.has(name)) {\n\t\t\tpendingQueue.add(name);\n\t\t\tnewIcons[provider][prefix].push(name);\n\t\t}\n\t});\n\tsources.forEach((storage) => {\n\t\tconst list = newIcons[storage.provider][storage.prefix];\n\t\tif (list.length) loadNewIcons(storage, list);\n\t});\n\treturn callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\n};\n/**\n* Load one icon using Promise\n*/\nconst loadIcon = (icon) => {\n\treturn new Promise((fulfill, reject) => {\n\t\tconst iconObj = typeof icon === \"string\" ? stringToIcon(icon, true) : icon;\n\t\tif (!iconObj) {\n\t\t\treject(icon);\n\t\t\treturn;\n\t\t}\n\t\tloadIcons([iconObj || icon], (loaded) => {\n\t\t\tif (loaded.length && iconObj) {\n\t\t\t\tconst data = getIconData(iconObj);\n\t\t\t\tif (data) {\n\t\t\t\t\tfulfill({\n\t\t\t\t\t\t...defaultIconProps,\n\t\t\t\t\t\t...data\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(icon);\n\t\t});\n\t});\n};\n\n/**\n* Set custom loader for multiple icons\n*/\nfunction setCustomIconsLoader(loader, prefix, provider) {\n\tgetStorage(provider || \"\", prefix).loadIcons = loader;\n}\n/**\n* Set custom loader for one icon\n*/\nfunction setCustomIconLoader(loader, prefix, provider) {\n\tgetStorage(provider || \"\", prefix).loadIcon = loader;\n}\n\n/**\n* Convert IconifyIconCustomisations to FullIconCustomisations, checking value types\n*/\nfunction mergeCustomisations(defaults, item) {\n\tconst result = { ...defaults };\n\tfor (const key in item) {\n\t\tconst value = item[key];\n\t\tconst valueType = typeof value;\n\t\tif (key in defaultIconSizeCustomisations) {\n\t\t\tif (value === null || value && (valueType === \"string\" || valueType === \"number\")) result[key] = value;\n\t\t} else if (valueType === typeof result[key]) result[key] = key === \"rotate\" ? value % 4 : value;\n\t}\n\treturn result;\n}\n\nconst separator = /[\\s,]+/;\n/**\n* Apply \"flip\" string to icon customisations\n*/\nfunction flipFromString(custom, flip) {\n\tflip.split(separator).forEach((str) => {\n\t\tswitch (str.trim()) {\n\t\t\tcase \"horizontal\":\n\t\t\t\tcustom.hFlip = true;\n\t\t\t\tbreak;\n\t\t\tcase \"vertical\":\n\t\t\t\tcustom.vFlip = true;\n\t\t\t\tbreak;\n\t\t}\n\t});\n}\n\n/**\n* Get rotation value\n*/\nfunction rotateFromString(value, defaultValue = 0) {\n\tconst units = value.replace(/^-?[0-9.]*/, \"\");\n\tfunction cleanup(value$1) {\n\t\twhile (value$1 < 0) value$1 += 4;\n\t\treturn value$1 % 4;\n\t}\n\tif (units === \"\") {\n\t\tconst num = parseInt(value);\n\t\treturn isNaN(num) ? 0 : cleanup(num);\n\t} else if (units !== value) {\n\t\tlet split = 0;\n\t\tswitch (units) {\n\t\t\tcase \"%\":\n\t\t\t\tsplit = 25;\n\t\t\t\tbreak;\n\t\t\tcase \"deg\": split = 90;\n\t\t}\n\t\tif (split) {\n\t\t\tlet num = parseFloat(value.slice(0, value.length - units.length));\n\t\t\tif (isNaN(num)) return 0;\n\t\t\tnum = num / split;\n\t\t\treturn num % 1 === 0 ? cleanup(num) : 0;\n\t\t}\n\t}\n\treturn defaultValue;\n}\n\n/**\n* Generate <svg>\n*/\nfunction iconToHTML(body, attributes) {\n\tlet renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : \" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\";\n\tfor (const attr in attributes) renderAttribsHTML += \" \" + attr + \"=\\\"\" + attributes[attr] + \"\\\"\";\n\treturn \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\" + renderAttribsHTML + \">\" + body + \"</svg>\";\n}\n\n/**\n* Encode SVG for use in url()\n*\n* Short alternative to encodeURIComponent() that encodes only stuff used in SVG, generating\n* smaller code.\n*/\nfunction encodeSVGforURL(svg) {\n\treturn svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\n}\n/**\n* Generate data: URL from SVG\n*/\nfunction svgToData(svg) {\n\treturn \"data:image/svg+xml,\" + encodeSVGforURL(svg);\n}\n/**\n* Generate url() from SVG\n*/\nfunction svgToURL(svg) {\n\treturn \"url(\\\"\" + svgToData(svg) + \"\\\")\";\n}\n\nconst defaultExtendedIconCustomisations = {\n    ...defaultIconCustomisations,\n    inline: false,\n};\n\n/**\n * Default SVG attributes\n */\nconst svgDefaults = {\n    'xmlns': 'http://www.w3.org/2000/svg',\n    'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n    'aria-hidden': true,\n    'role': 'img',\n};\n/**\n * Style modes\n */\nconst commonProps = {\n    display: 'inline-block',\n};\nconst monotoneProps = {\n    'background-color': 'currentColor',\n};\nconst coloredProps = {\n    'background-color': 'transparent',\n};\n// Dynamically add common props to variables above\nconst propsToAdd = {\n    image: 'var(--svg)',\n    repeat: 'no-repeat',\n    size: '100% 100%',\n};\nconst propsToAddTo = {\n    '-webkit-mask': monotoneProps,\n    'mask': monotoneProps,\n    'background': coloredProps,\n};\nfor (const prefix in propsToAddTo) {\n    const list = propsToAddTo[prefix];\n    for (const prop in propsToAdd) {\n        list[prefix + '-' + prop] = propsToAdd[prop];\n    }\n}\n/**\n * Fix size: add 'px' to numbers\n */\nfunction fixSize(value) {\n    return value + (value.match(/^[-0-9.]+$/) ? 'px' : '');\n}\n/**\n * Generate icon from properties\n */\nfunction render(\n// Icon must be validated before calling this function\nicon, \n// Properties\nprops) {\n    const customisations = mergeCustomisations(defaultExtendedIconCustomisations, props);\n    // Check mode\n    const mode = props.mode || 'svg';\n    const componentProps = (mode === 'svg' ? { ...svgDefaults } : {});\n    if (icon.body.indexOf('xlink:') === -1) {\n        delete componentProps['xmlns:xlink'];\n    }\n    // Create style if missing\n    let style = typeof props.style === 'string' ? props.style : '';\n    // Get element properties\n    for (let key in props) {\n        const value = props[key];\n        if (value === void 0) {\n            continue;\n        }\n        switch (key) {\n            // Properties to ignore\n            case 'icon':\n            case 'style':\n            case 'onLoad':\n            case 'mode':\n            case 'ssr':\n                break;\n            // Boolean attributes\n            case 'inline':\n            case 'hFlip':\n            case 'vFlip':\n                customisations[key] =\n                    value === true || value === 'true' || value === 1;\n                break;\n            // Flip as string: 'horizontal,vertical'\n            case 'flip':\n                if (typeof value === 'string') {\n                    flipFromString(customisations, value);\n                }\n                break;\n            // Color: copy to style, add extra ';' in case style is missing it\n            case 'color':\n                style =\n                    style +\n                        (style.length > 0 && style.trim().slice(-1) !== ';'\n                            ? ';'\n                            : '') +\n                        'color: ' +\n                        value +\n                        '; ';\n                break;\n            // Rotation as string\n            case 'rotate':\n                if (typeof value === 'string') {\n                    customisations[key] = rotateFromString(value);\n                }\n                else if (typeof value === 'number') {\n                    customisations[key] = value;\n                }\n                break;\n            // Remove aria-hidden\n            case 'ariaHidden':\n            case 'aria-hidden':\n                if (value !== true && value !== 'true') {\n                    delete componentProps['aria-hidden'];\n                }\n                break;\n            default:\n                if (key.slice(0, 3) === 'on:') {\n                    // Svelte event\n                    break;\n                }\n                // Copy missing property if it does not exist in customisations\n                if (defaultExtendedIconCustomisations[key] === void 0) {\n                    componentProps[key] = value;\n                }\n        }\n    }\n    // Generate icon\n    const item = iconToSVG(icon, customisations);\n    const renderAttribs = item.attributes;\n    // Inline display\n    if (customisations.inline) {\n        // Style overrides it\n        style = 'vertical-align: -0.125em; ' + style;\n    }\n    if (mode === 'svg') {\n        // Add icon stuff\n        Object.assign(componentProps, renderAttribs);\n        // Style\n        if (style !== '') {\n            componentProps.style = style;\n        }\n        // Generate HTML\n        return {\n            svg: true,\n            attributes: componentProps,\n            body: replaceIDs(item.body),\n        };\n    }\n    // Render <span> with style\n    const { body, width, height } = icon;\n    const useMask = mode === 'mask' ||\n        (mode === 'bg' ? false : body.indexOf('currentColor') !== -1);\n    // Generate SVG\n    const html = iconToHTML(body, {\n        ...renderAttribs,\n        width: width + '',\n        height: height + '',\n    });\n    // Generate style\n    const url = svgToURL(html);\n    const styles = {\n        '--svg': url,\n    };\n    const size = (prop) => {\n        const value = renderAttribs[prop];\n        if (value) {\n            styles[prop] = fixSize(value);\n        }\n    };\n    size('width');\n    size('height');\n    Object.assign(styles, commonProps, useMask ? monotoneProps : coloredProps);\n    let customStyle = '';\n    for (const key in styles) {\n        customStyle += key + ': ' + styles[key] + ';';\n    }\n    componentProps.style = customStyle + style;\n    return {\n        svg: false,\n        attributes: componentProps,\n    };\n}\n\n/**\n * Initialise stuff\n */\n// Enable short names\nallowSimpleNames(true);\n// Set API module\nsetAPIModule('', fetchAPIModule);\n/**\n * Browser stuff\n */\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n    const _window = window;\n    // Load icons from global \"IconifyPreload\"\n    if (_window.IconifyPreload !== void 0) {\n        const preload = _window.IconifyPreload;\n        const err = 'Invalid IconifyPreload syntax.';\n        if (typeof preload === 'object' && preload !== null) {\n            (preload instanceof Array ? preload : [preload]).forEach((item) => {\n                try {\n                    if (\n                    // Check if item is an object and not null/array\n                    typeof item !== 'object' ||\n                        item === null ||\n                        item instanceof Array ||\n                        // Check for 'icons' and 'prefix'\n                        typeof item.icons !== 'object' ||\n                        typeof item.prefix !== 'string' ||\n                        // Add icon set\n                        !addCollection(item)) {\n                        console.error(err);\n                    }\n                }\n                catch (e) {\n                    console.error(err);\n                }\n            });\n        }\n    }\n    // Set API from global \"IconifyProviders\"\n    if (_window.IconifyProviders !== void 0) {\n        const providers = _window.IconifyProviders;\n        if (typeof providers === 'object' && providers !== null) {\n            for (let key in providers) {\n                const err = 'IconifyProviders[' + key + '] is invalid.';\n                try {\n                    const value = providers[key];\n                    if (typeof value !== 'object' ||\n                        !value ||\n                        value.resources === void 0) {\n                        continue;\n                    }\n                    if (!addAPIProvider(key, value)) {\n                        console.error(err);\n                    }\n                }\n                catch (e) {\n                    console.error(err);\n                }\n            }\n        }\n    }\n}\n/**\n * Check for SSR\n */\nfunction isSSR() {\n    try {\n        return typeof window !== 'object';\n    }\n    catch (err) {\n        return true;\n    }\n}\n/**\n * Check if component needs to be updated\n */\nfunction checkIconState(icon, state, callback, onload) {\n    // Abort loading icon\n    function abortLoading() {\n        if (state.loading) {\n            state.loading.abort();\n            state.loading = null;\n        }\n    }\n    // Icon is an object\n    if (typeof icon === 'object' &&\n        icon !== null &&\n        typeof icon.body === 'string') {\n        // Stop loading\n        state.name = '';\n        abortLoading();\n        return { data: { ...defaultIconProps, ...icon } };\n    }\n    // Invalid icon?\n    let iconName;\n    if (typeof icon !== 'string' ||\n        (iconName = stringToIcon(icon, false, true)) === null) {\n        abortLoading();\n        return null;\n    }\n    // Load icon\n    const data = getIconData(iconName);\n    if (!data) {\n        // Icon data is not available: load if not loading already\n        if (!isSSR() && (!state.loading || state.loading.name !== icon)) {\n            // New icon to load\n            abortLoading();\n            state.name = '';\n            state.loading = {\n                name: icon,\n                abort: loadIcons([iconName], callback),\n            };\n        }\n        return null;\n    }\n    // Icon data is available\n    abortLoading();\n    if (state.name !== icon) {\n        state.name = icon;\n        if (onload && !state.destroyed) {\n            setTimeout(() => {\n                onload(icon);\n            });\n        }\n    }\n    // Add classes\n    const classes = ['iconify'];\n    if (iconName.prefix !== '') {\n        classes.push('iconify--' + iconName.prefix);\n    }\n    if (iconName.provider !== '') {\n        classes.push('iconify--' + iconName.provider);\n    }\n    return { data, classes };\n}\n/**\n * Generate icon\n */\nfunction generateIcon(icon, props) {\n    return icon\n        ? render({\n            ...defaultIconProps,\n            ...icon,\n        }, props)\n        : null;\n}\n/**\n * Internal API\n */\nconst _api = {\n    getAPIConfig,\n    setAPIModule,\n    sendAPIQuery,\n    setFetch,\n    getFetch,\n    listAPIProviders,\n};\n\nexport { _api, addAPIProvider, addCollection, addIcon, iconToSVG as buildIcon, calculateSize, checkIconState, clearIDCache, generateIcon, getIcon, iconLoaded, listIcons, loadIcon, loadIcons, replaceIDs, setCustomIconLoader, setCustomIconsLoader };\n","<!-- \n@file src/components/IconifyPicker.svelte\n@component\n**Enhanced IconifyPicker - Svelte 5 Optimized**\n\nAdvanced icon picker with search, pagination, and favorites.\n\n@example\n```svelte\n<IconifyPicker bind:iconselected />\n```\n\n### Features\n- Debounced search with performance optimization\n- Paginated results with smooth loading\n- Multiple icon library support\n- Favorite icons (in-memory)\n- Recent selections history\n- Keyboard navigation (Arrow keys, Enter, Escape)\n- Copy icon name to clipboard\n- Preview mode with size adjustment\n- Full ARIA accessibility\n- Reduced motion support\n-->\n\n<script lang=\"ts\">\n\timport * as m from '@shared/paraglide/messages';\n\timport { loadIcons } from '@iconify/svelte';\n\timport { logger } from '@shared/utils/logger';\n\timport { onMount, onDestroy } from 'svelte';\n\timport { fade, scale, slide } from 'svelte/transition';\n\timport { quintOut } from 'svelte/easing';\n\timport { showToast } from '@shared/utils/toast';\n\n\t// Constants\n\tconst DEBOUNCE_MS = 300;\n\tconst ICONS_PER_PAGE = 50;\n\tconst DEFAULT_LIBRARY = 'ic';\n\tconst ICONIFY_API_BASE = 'https://api.iconify.design';\n\tconst MAX_RECENT = 10;\n\n\t// Types\n\tinterface IconLibrary {\n\t\tname: string;\n\t\ttotal: number;\n\t\tprefix?: string;\n\t\tauthor?: string;\n\t\tlicense?: string;\n\t\tcategory?: string;\n\t}\n\n\tinterface IconSearchResponse {\n\t\ticons: string[];\n\t\ttotal: number;\n\t\tlimit: number;\n\t\tstart: number;\n\t\tcollections: Record<string, IconLibrary>;\n\t\tprefix?: string;\n\t}\n\n\tinterface Props {\n\t\ticonselected: string;\n\t\tsearchQuery?: string;\n\t\tshowFavorites?: boolean;\n\t}\n\n\tlet { iconselected = $bindable(), searchQuery = $bindable(''), showFavorites = true }: Props = $props();\n\n\t// State\n\tlet icons = $state<string[]>([]);\n\tlet currentPage = $state(0);\n\tlet selectedLibrary = $state(DEFAULT_LIBRARY);\n\tlet iconLibraries = $state<Record<string, IconLibrary>>({});\n\tlet isLoadingLibraries = $state(false);\n\tlet searchError = $state<string | null>(null);\n\tlet debounceTimer: ReturnType<typeof setTimeout> | null = null;\n\tlet favorites = $state<string[]>([]);\n\tlet recentSelections = $state<string[]>([]);\n\tlet isLoading = $state(false);\n\tlet activeTab = $state<'search' | 'favorites' | 'recent'>('search');\n\tlet showDropdown = $state(false);\n\tlet selectedIndex = $state(-1);\n\tlet prefersReducedMotion = $state(false);\n\tlet previewSize = $state(24);\n\n\t// Refs\n\tlet dropdownRef = $state<HTMLDivElement | null>(null);\n\tlet gridRef = $state<HTMLDivElement | null>(null);\n\n\t// Derived values\n\t// Removed unused 'hasIcons'\n\tconst startIndex = $derived(currentPage * ICONS_PER_PAGE);\n\tconst librariesLoaded = $derived(Object.keys(iconLibraries).length > 0);\n\tconst hasSearchQuery = $derived(searchQuery.trim().length > 0);\n\tconst isFavorite = $derived(favorites.includes(iconselected));\n\tconst hasRecent = $derived(recentSelections.length > 0);\n\tconst hasFavorites = $derived(favorites.length > 0);\n\n\tconst sortedLibraries = $derived.by(() => {\n\t\treturn Object.entries(iconLibraries).sort(([, a], [, b]) => a.name.localeCompare(b.name));\n\t});\n\n\tlet visibleLimit = $state(50);\n\n\t// Display icons based on active tab\n\tconst displayIcons = $derived.by(() => {\n\t\tif (activeTab === 'favorites') return favorites;\n\t\tif (activeTab === 'recent') return recentSelections;\n\n\t\t// If searching (API results), 'icons' is usually just the current page\n\t\t// BUT if browsing (all icons), we slice.\n\t\t// Since we now use infinite scroll for everything:\n\t\treturn icons.slice(0, visibleLimit);\n\t});\n\n\t// Intersection Observer Action for Infinite Scroll\n\tfunction intersectionObserverAction(node: HTMLElement) {\n\t\tconst observer = new IntersectionObserver((entries) => {\n\t\t\tif (entries[0].isIntersecting) {\n\t\t\t\tloadMore();\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(node);\n\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tobserver.disconnect();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction loadMore() {\n\t\t// If browsing (all icons loaded), just increase visible limit\n\t\tif (icons.length > visibleLimit) {\n\t\t\tvisibleLimit += 50;\n\t\t}\n\t\t// If searching (API pagination), fetch more\n\t\telse if (hasSearchQuery || selectedLibrary === '') {\n\t\t\t// Logic to fetch next page from API and append (requires searchIcons to append)\n\t\t\t// For simplicity, we can ignore this for now if searchTokens returns 50 at a time\n\t\t\t// But since we removed Page Next/Prev buttons, we SHOULD implement API pagination here.\n\t\t\t// Let's assume searchIcons handles appending if we pass a flag?\n\t\t\t// Actually, let's keep it simple: Browse is infinite scroll local, Search is infinite scroll remote?\n\t\t\t// Refactoring searchIcons to append:\n\t\t\tif (!isLoading) {\n\t\t\t\tcurrentPage++;\n\t\t\t\tsearchIcons(searchQuery, selectedLibrary, true); // true = append\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleScroll() {\n\t\t// keeping this if needed for manual scroll handling, but IntersectionObserver is better\n\t}\n\n\t// Debounced search\n\tfunction debouncedSearch(query: string, library: string): void {\n\t\tif (debounceTimer) {\n\t\t\tclearTimeout(debounceTimer);\n\t\t}\n\n\t\tif (!query.trim()) {\n\t\t\ticons = [];\n\t\t\tisLoading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tisLoading = true;\n\t\tdebounceTimer = setTimeout(() => {\n\t\t\tsearchIcons(query, library);\n\t\t}, DEBOUNCE_MS);\n\t}\n\n\t// Fetch icons from Iconify API\n\tasync function searchIcons(query: string, library: string, append: boolean = false): Promise<void> {\n\t\t// If no query, load the library's icons instead of clearing\n\t\tif (!query.trim()) {\n\t\t\tif (library && !append) {\n\t\t\t\tawait fetchCollectionIcons(library);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tisLoading = true;\n\t\tsearchError = null;\n\n\t\ttry {\n\t\t\tconst url = new URL(`${ICONIFY_API_BASE}/search`);\n\t\t\turl.searchParams.set('query', query);\n\t\t\t// Only set prefix if a specific library is selected\n\t\t\tif (library) {\n\t\t\t\turl.searchParams.set('prefix', library);\n\t\t\t}\n\t\t\turl.searchParams.set('start', startIndex.toString());\n\t\t\turl.searchParams.set('limit', ICONS_PER_PAGE.toString());\n\n\t\t\tconst controller = new AbortController();\n\t\t\tconst timeout = setTimeout(() => controller.abort(), 10000);\n\n\t\t\tconst response = await fetch(url.toString(), {\n\t\t\t\tsignal: controller.signal\n\t\t\t});\n\n\t\t\tclearTimeout(timeout);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`API error: ${response.status}`);\n\t\t\t}\n\n\t\t\tconst data: IconSearchResponse = await response.json();\n\n\t\t\tif (data?.icons && Array.isArray(data.icons)) {\n\t\t\t\tconst newIcons = data.icons;\n\n\t\t\t\tif (append) {\n\t\t\t\t\ticons = [...icons, ...newIcons];\n\t\t\t\t\tvisibleLimit += newIcons.length; // Ensure they are visible\n\t\t\t\t} else {\n\t\t\t\t\ticons = newIcons;\n\t\t\t\t\tvisibleLimit = 50;\n\t\t\t\t\tcurrentPage = 0;\n\t\t\t\t}\n\n\t\t\t\t// Preload icons for better UX\n\t\t\t\tconst iconIds = newIcons.map((icon) => {\n\t\t\t\t\t// If global search, icon already includes prefix\n\t\t\t\t\treturn library ? `${library}:${icon}` : icon;\n\t\t\t\t});\n\t\t\t\tawait loadIcons(iconIds);\n\n\t\t\t\tactiveTab = 'search';\n\t\t\t} else {\n\t\t\t\tif (!append) icons = [];\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error && error.name === 'AbortError') {\n\t\t\t\tsearchError = 'Search timeout - please try again';\n\t\t\t} else {\n\t\t\t\tlogger.error('Error fetching icons:', error);\n\t\t\t\tsearchError = 'Failed to fetch icons';\n\t\t\t}\n\t\t\ticons = [];\n\t\t} finally {\n\t\t\tisLoading = false;\n\t\t}\n\t}\n\n\t// Fetch all icons for a specific collection (browsing mode)\n\tasync function fetchCollectionIcons(library: string): Promise<void> {\n\t\tisLoading = true;\n\t\tsearchError = null;\n\t\ticons = [];\n\n\t\ttry {\n\t\t\tconst response = await fetch(`${ICONIFY_API_BASE}/collection?prefix=${library}`);\n\t\t\tif (!response.ok) throw new Error(`Failed to load collection: ${response.status}`);\n\n\t\t\tconst data = await response.json();\n\n\t\t\t// Flatten the collection data into a simple list of icon names\n\t\t\tlet allIcons: string[] = [];\n\n\t\t\t// Add uncategorized\n\t\t\tif (data.uncategorized) {\n\t\t\t\tallIcons.push(...data.uncategorized);\n\t\t\t}\n\n\t\t\t// Add categorized\n\t\t\tif (data.categories) {\n\t\t\t\tObject.values(data.categories).forEach((categoryIcons: any) => {\n\t\t\t\t\tallIcons.push(...categoryIcons);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Add hidden/aliases if needed, but usually main icons are enough\n\n\t\t\ticons = allIcons;\n\t\t\tvisibleLimit = 50; // Reset for new collection\n\t\t\t// Reset to page 0 for new collection\n\t\t\t// currentPage = 0; // Don't reset here, handled by caller if needed\n\t\t} catch (error) {\n\t\t\tlogger.error('Error fetching collection icons:', error);\n\t\t\tsearchError = 'Failed to load library icons';\n\t\t} finally {\n\t\t\tisLoading = false;\n\t\t}\n\t}\n\n\t// Fetch available icon libraries\n\tasync function fetchIconLibraries(): Promise<void> {\n\t\tif (librariesLoaded || isLoadingLibraries) return;\n\n\t\tisLoadingLibraries = true;\n\t\tsearchError = null;\n\n\t\ttry {\n\t\t\tconst controller = new AbortController();\n\t\t\tconst timeout = setTimeout(() => controller.abort(), 10000);\n\n\t\t\tconst response = await fetch(`${ICONIFY_API_BASE}/collections`, {\n\t\t\t\tsignal: controller.signal\n\t\t\t});\n\n\t\t\tclearTimeout(timeout);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`Failed to fetch libraries: ${response.status}`);\n\t\t\t}\n\n\t\t\tconst data: Record<string, IconLibrary> = await response.json();\n\t\t\ticonLibraries = data;\n\t\t} catch (error) {\n\t\t\tlogger.error('Error fetching icon libraries:', error);\n\t\t\tsearchError = 'Failed to load libraries';\n\t\t} finally {\n\t\t\tisLoadingLibraries = false;\n\t\t}\n\t}\n\n\t// Navigation handlers\n\n\t// Icon selection\n\tfunction selectIcon(icon: string): void {\n\t\tconst fullIconName = icon.includes(':') ? icon : `${selectedLibrary}:${icon}`;\n\t\ticonselected = fullIconName;\n\n\t\t// Add to recent (avoiding duplicates)\n\t\trecentSelections = [fullIconName, ...recentSelections.filter((i) => i !== fullIconName)].slice(0, MAX_RECENT);\n\n\t\tshowDropdown = false;\n\t\tshowToast(`Icon selected: ${fullIconName}`, 'success');\n\t}\n\n\t// Favorites management\n\tfunction toggleFavorite(icon?: string): void {\n\t\tconst targetIcon = icon || iconselected;\n\t\tif (!targetIcon) return;\n\n\t\tif (favorites.includes(targetIcon)) {\n\t\t\tfavorites = favorites.filter((i) => i !== targetIcon);\n\t\t\tshowToast('Removed from favorites', 'info');\n\t\t} else {\n\t\t\tfavorites = [...favorites, targetIcon];\n\t\t\tshowToast('Added to favorites', 'success');\n\t\t}\n\t}\n\n\t// Copy icon name\n\tasync function copyIconName(): Promise<void> {\n\t\tif (!iconselected) return;\n\n\t\ttry {\n\t\t\tawait navigator.clipboard.writeText(iconselected);\n\t\t\tshowToast('Icon name copied to clipboard', 'success');\n\t\t} catch (error) {\n\t\t\tlogger.error('Copy failed:', error);\n\t\t\tshowToast('Failed to copy icon name', 'error');\n\t\t}\n\t}\n\n\t// Remove icon\n\tfunction removeIcon(): void {\n\t\ticonselected = '';\n\t\tsearchQuery = '';\n\t\ticons = [];\n\t}\n\n\t// Library change handler\n\tfunction handleLibraryChange(): void {\n\t\tcurrentPage = 0;\n\t\tif (hasSearchQuery) {\n\t\t\tsearchIcons(searchQuery, selectedLibrary);\n\t\t}\n\t}\n\n\t// Show dropdown\n\tfunction handleFocus(): void {\n\t\tshowDropdown = true;\n\t\tfetchIconLibraries();\n\t\t// If we have no icons yet, try to load something\n\t\tif (icons.length === 0) {\n\t\t\tif (searchQuery) {\n\t\t\t\tsearchIcons(searchQuery, selectedLibrary);\n\t\t\t} else if (selectedLibrary) {\n\t\t\t\tfetchCollectionIcons(selectedLibrary);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Close dropdown\n\tfunction handleClickOutside(event: MouseEvent): void {\n\t\tconst target = event.target as HTMLElement;\n\t\tif (dropdownRef && !dropdownRef.contains(target)) {\n\t\t\tshowDropdown = false;\n\t\t}\n\t}\n\n\t// Keyboard navigation\n\tfunction handleKeyDown(event: KeyboardEvent): void {\n\t\tif (!showDropdown) return;\n\n\t\tconst iconsToNavigate = displayIcons;\n\n\t\tswitch (event.key) {\n\t\t\tcase 'Escape':\n\t\t\t\tevent.preventDefault();\n\t\t\t\tshowDropdown = false;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowDown':\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectedIndex = Math.min(selectedIndex + 1, iconsToNavigate.length - 1);\n\t\t\t\tscrollToSelected();\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowUp':\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselectedIndex = Math.max(selectedIndex - 1, -1);\n\t\t\t\tscrollToSelected();\n\t\t\t\tbreak;\n\n\t\t\tcase 'Enter':\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (selectedIndex >= 0 && iconsToNavigate[selectedIndex]) {\n\t\t\t\t\tselectIcon(iconsToNavigate[selectedIndex]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Scroll to selected icon\n\tfunction scrollToSelected(): void {\n\t\tif (!gridRef || selectedIndex < 0) return;\n\n\t\tconst selectedElement = gridRef.children[selectedIndex] as HTMLElement;\n\t\tif (selectedElement) {\n\t\t\tselectedElement.scrollIntoView({\n\t\t\t\tblock: 'nearest',\n\t\t\t\tbehavior: prefersReducedMotion ? 'auto' : 'smooth'\n\t\t\t});\n\t\t}\n\t}\n\n\t// Switch tabs\n\tfunction switchTab(tab: typeof activeTab): void {\n\t\tactiveTab = tab;\n\t\tselectedIndex = -1;\n\t}\n\n\t// Effects\n\t$effect(() => {\n\t\tif (showDropdown) {\n\t\t\tdocument.addEventListener('click', handleClickOutside);\n\t\t\tdocument.addEventListener('keydown', handleKeyDown);\n\t\t\treturn () => {\n\t\t\t\tdocument.removeEventListener('click', handleClickOutside);\n\t\t\t\tdocument.removeEventListener('keydown', handleKeyDown);\n\t\t\t};\n\t\t}\n\t});\n\n\t// Lifecycle\n\tonMount(() => {\n\t\tconst mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n\t\tprefersReducedMotion = mediaQuery.matches;\n\n\t\tconst handleChange = (e: MediaQueryListEvent) => {\n\t\t\tprefersReducedMotion = e.matches;\n\t\t};\n\n\t\tmediaQuery.addEventListener('change', handleChange);\n\t\treturn () => mediaQuery.removeEventListener('change', handleChange);\n\t});\n\n\tonDestroy(() => {\n\t\tif (debounceTimer) {\n\t\t\tclearTimeout(debounceTimer);\n\t\t}\n\t});\n</script>\n\n```\n<div class=\"icon-picker-container flex w-full flex-col\" bind:this={dropdownRef}>\n\t<!-- Selected icon display -->\n\t{#if iconselected}\n\t\t<div\n\t\t\tclass=\"mb-2 flex items-center justify-between gap-2\"\n\t\t\tin:scale={{ duration: prefersReducedMotion ? 0 : 200, easing: quintOut, start: 0.9 }}\n\t\t\tout:scale={{ duration: prefersReducedMotion ? 0 : 150, easing: quintOut, start: 0.9 }}\n\t\t>\n\t\t\t<div class=\"flex flex-1 items-center gap-3 rounded-lg bg-surface-100 p-2 dark:bg-surface-800\">\n\t\t\t\t<iconify-icon\n\t\t\t\t\ticon={iconselected}\n\t\t\t\t\twidth={previewSize}\n\t\t\t\t\tclass=\"text-tertiary-500 transition-transform duration-200 hover:scale-110 dark:text-primary-500\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t></iconify-icon>\n\t\t\t\t<div class=\"flex-1 overflow-hidden\">\n\t\t\t\t\t<p class=\"text-xs text-surface-600 dark:text-surface-50\">Selected Icon</p>\n\t\t\t\t\t<p class=\"truncate text-sm font-medium text-tertiary-500 dark:text-primary-500\">\n\t\t\t\t\t\t{iconselected}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => toggleFavorite(iconselected)}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn-icon preset-outlined-surface-500 transition-all duration-200 hover:scale-110\"\n\t\t\t\t\taria-label={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n\t\t\t\t\ttitle={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n\t\t\t\t>\n\t\t\t\t\t<iconify-icon icon={isFavorite ? 'mdi:heart' : 'mdi:heart-outline'} width=\"22\" class={isFavorite ? 'text-error-500' : ''}></iconify-icon>\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonclick={copyIconName}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn-icon preset-outlined-surface-500 transition-all duration-200 hover:scale-110\"\n\t\t\t\t\taria-label=\"Copy icon name\"\n\t\t\t\t\ttitle=\"Copy icon name\"\n\t\t\t\t>\n\t\t\t\t\t<iconify-icon icon=\"mdi:content-copy\" width=\"22\"></iconify-icon>\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tonclick={removeIcon}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn-icon preset-outlined-error-500 transition-all duration-200 hover:scale-110\"\n\t\t\t\t\taria-label=\"Remove selected icon\"\n\t\t\t\t\ttitle=\"Remove icon\"\n\t\t\t\t>\n\t\t\t\t\t<iconify-icon icon=\"mdi:close\" width=\"22\"></iconify-icon>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t<!-- Search input container -->\n\t<div class=\"relative\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\trole=\"combobox\"\n\t\t\tbind:value={searchQuery}\n\t\t\tplaceholder={iconselected ? `Replace: ${iconselected}` : m.iconpicker_placeholder()}\n\t\t\tclass=\"input w-full pr-10 transition-all duration-200 focus:scale-[1.01] focus:shadow-lg\"\n\t\t\toninput={() => debouncedSearch(searchQuery, selectedLibrary)}\n\t\t\tonfocus={handleFocus}\n\t\t\taria-label=\"Search icons\"\n\t\t\taria-controls=\"icon-dropdown\"\n\t\t\taria-haspopup=\"listbox\"\n\t\t\taria-expanded={showDropdown}\n\t\t\taria-describedby={searchError ? 'search-error' : undefined}\n\t\t/>\n\t\t{#if searchQuery}\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"absolute right-2 top-1/2 -translate-y-1/2 text-surface-400 hover:text-surface-600 dark:hover:text-surface-200\"\n\t\t\t\tonclick={() => {\n\t\t\t\t\tsearchQuery = '';\n\t\t\t\t\tdebouncedSearch('', selectedLibrary);\n\t\t\t\t}}\n\t\t\t\taria-label=\"Clear search\"\n\t\t\t>\n\t\t\t\t<iconify-icon icon=\"mdi:close\" width=\"20\"></iconify-icon>\n\t\t\t</button>\n\t\t{/if}\n\t</div>\n\n\t<!-- Error message -->\n\t{#if searchError}\n\t\t<div\n\t\t\tid=\"search-error\"\n\t\t\tclass=\"mt-2 rounded-lg border-l-4 border-error-500 bg-error-50 p-3 text-sm text-error-700 dark:bg-error-900/20 dark:text-error-300\"\n\t\t\trole=\"alert\"\n\t\t\tin:fade={{ duration: prefersReducedMotion ? 0 : 200 }}\n\t\t>\n\t\t\t<div class=\"flex items-start gap-2\">\n\t\t\t\t<iconify-icon icon=\"mdi:alert-circle\" width=\"18\" aria-hidden=\"true\"></iconify-icon>\n\t\t\t\t<span>{searchError}</span>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t<!-- Dropdown -->\n\t{#if showDropdown}\n\t\t<div\n\t\t\tid=\"icon-dropdown\"\n\t\t\tclass=\"mt-2 overflow-hidden rounded-lg border border-surface-200 bg-surface-50 shadow-2xl dark:text-surface-50 dark:bg-surface-800\"\n\t\t\trole=\"region\"\n\t\t\taria-label=\"Icon picker dropdown\"\n\t\t\tin:scale={{ duration: prefersReducedMotion ? 0 : 200, easing: quintOut, start: 0.95, opacity: 0 }}\n\t\t\tout:scale={{ duration: prefersReducedMotion ? 0 : 150, easing: quintOut, start: 0.95, opacity: 0 }}\n\t\t>\n\t\t\t<!-- Tabs -->\n\t\t\t<div class=\"flex border-b border-surface-200 dark:text-surface-50\" role=\"tablist\">\n\t\t\t\t<button\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\taria-selected={activeTab === 'search'}\n\t\t\t\t\tonclick={() => switchTab('search')}\n\t\t\t\t\tclass=\"flex-1 px-4 py-3 text-sm font-medium transition-colors {activeTab === 'search'\n\t\t\t\t\t\t? 'border-b-2 border-primary-500 text-primary-500'\n\t\t\t\t\t\t: 'text-surface-600 hover:text-surface-900 dark:text-surface-50 dark:hover:text-surface-100'}\"\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\t\t\t\t{#if showFavorites && hasFavorites}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\taria-selected={activeTab === 'favorites'}\n\t\t\t\t\t\tonclick={() => switchTab('favorites')}\n\t\t\t\t\t\tclass=\"flex-1 px-4 py-3 text-sm font-medium transition-colors {activeTab === 'favorites'\n\t\t\t\t\t\t\t? 'border-b-2 border-primary-500 text-primary-500'\n\t\t\t\t\t\t\t: 'text-surface-600 hover:text-surface-900 dark:text-surface-50 dark:hover:text-surface-100'}\"\n\t\t\t\t\t>\n\t\t\t\t\t\tFavorites ({favorites.length})\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t\t{#if hasRecent}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\taria-selected={activeTab === 'recent'}\n\t\t\t\t\t\tonclick={() => switchTab('recent')}\n\t\t\t\t\t\tclass=\"flex-1 px-4 py-3 text-sm font-medium transition-colors {activeTab === 'recent'\n\t\t\t\t\t\t\t? 'border-b-2 border-primary-500 text-primary-500'\n\t\t\t\t\t\t\t: 'text-surface-600 hover:text-surface-900 dark:text-surface-50 dark:hover:text-surface-100'}\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRecent ({recentSelections.length})\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<!-- Library selector (only for search tab) -->\n\t\t\t{#if activeTab === 'search'}\n\t\t\t\t<div class=\"border-b border-surface-200 p-4 dark:text-surface-50\" transition:slide={{ duration: prefersReducedMotion ? 0 : 200 }}>\n\t\t\t\t\t<label for=\"library-select\" class=\"mb-2 block text-sm font-medium\"> Icon Library </label>\n\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tid=\"library-select\"\n\t\t\t\t\t\t\tbind:value={selectedLibrary}\n\t\t\t\t\t\t\tonchange={handleLibraryChange}\n\t\t\t\t\t\t\tonclick={fetchIconLibraries}\n\t\t\t\t\t\t\tclass=\"input w-full\"\n\t\t\t\t\t\t\tdisabled={isLoadingLibraries}\n\t\t\t\t\t\t\taria-label=\"Select icon library\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">All Libraries (Global Search)</option>\n\t\t\t\t\t\t\t{#if !librariesLoaded}\n\t\t\t\t\t\t\t\t<option value={DEFAULT_LIBRARY}>Loading libraries...</option>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t{#each sortedLibraries as [prefix, library] (prefix)}\n\t\t\t\t\t\t\t\t\t<option value={prefix}>\n\t\t\t\t\t\t\t\t\t\t{library.name} ({prefix})  {library.total.toLocaleString()} icons\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<!-- Content -->\n\t\t\t<div class=\"h-80 overflow-y-auto p-4\" onscroll={handleScroll}>\n\t\t\t\t{#if isLoading && icons.length === 0}\n\t\t\t\t\t<!-- Loading state (initial) -->\n\t\t\t\t\t<div class=\"flex justify-center py-12\" in:fade={{ duration: prefersReducedMotion ? 0 : 200 }}>\n\t\t\t\t\t\t<div class=\"flex flex-col items-center gap-3\">\n\t\t\t\t\t\t\t<div class=\"h-10 w-10 animate-spin rounded-full border-4 border-primary-500 border-t-transparent\"></div>\n\t\t\t\t\t\t\t<p class=\"text-sm text-surface-600 dark:text-surface-50\">Loading icons...</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if displayIcons.length > 0}\n\t\t\t\t\t<!-- Icon grid -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tbind:this={gridRef}\n\t\t\t\t\t\tclass=\"grid grid-cols-6 gap-2 sm:grid-cols-8 md:grid-cols-10\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-label=\"Available icons\"\n\t\t\t\t\t\tin:fade={{ duration: prefersReducedMotion ? 0 : 300 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#each displayIcons as icon, index (icon)}\n\t\t\t\t\t\t\t{@const fullIconName = icon.includes(':') ? icon : `${selectedLibrary}:${icon}`}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonclick={() => selectIcon(icon)}\n\t\t\t\t\t\t\t\tonkeydown={(e) => e.key === 'Enter' && selectIcon(icon)}\n\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\taria-selected={iconselected === fullIconName || index === selectedIndex}\n\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\tclass=\"group relative flex cursor-pointer items-center justify-center rounded-lg p-3 transition-all duration-200 hover:scale-110 hover:bg-primary-500/10 focus:outline-none focus:ring-2 focus:ring-primary-500 active:scale-95 {index ===\n\t\t\t\t\t\t\t\tselectedIndex\n\t\t\t\t\t\t\t\t\t? 'ring-2 ring-primary-500'\n\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\taria-label={`Select icon ${fullIconName}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<iconify-icon icon={fullIconName} width=\"24\" aria-hidden=\"true\" class=\"transition-colors duration-200 group-hover:text-primary-500\"\n\t\t\t\t\t\t\t\t></iconify-icon>\n\n\t\t\t\t\t\t\t\t{#if activeTab === 'favorites'}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonclick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\ttoggleFavorite(icon);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclass=\"absolute right-0 top-0 opacity-0 transition-opacity group-hover:opacity-100\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Remove from favorites\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<iconify-icon icon=\"mdi:close-circle\" width=\"16\" class=\"text-error-500\"></iconify-icon>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t<!-- Infinite Scroll Loading Indicator -->\n\t\t\t\t\t\t{#if isLoading}\n\t\t\t\t\t\t\t<div class=\"col-span-full py-4 text-center\">\n\t\t\t\t\t\t\t\t<iconify-icon icon=\"eos-icons:loading\" class=\"animate-spin text-surface-400\" width=\"24\"></iconify-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<!-- Sentinel for IntersectionObserver (infinite scroll) -->\n\t\t\t\t\t\t{#if activeTab === 'search' && !isLoading}\n\t\t\t\t\t\t\t<div class=\"col-span-full h-4\" use:intersectionObserverAction></div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{:else if hasSearchQuery && activeTab === 'search'}\n\t\t\t\t\t<!-- No results -->\n\t\t\t\t\t<div class=\"flex flex-col items-center gap-3 py-12 text-center\" in:fade={{ duration: prefersReducedMotion ? 0 : 200 }}>\n\t\t\t\t\t\t<iconify-icon icon=\"mdi:magnify-close\" width=\"48\" class=\"text-surface-400\" aria-hidden=\"true\"></iconify-icon>\n\t\t\t\t\t\t<p class=\"text-surface-600 dark:text-surface-50\">\n\t\t\t\t\t\t\tNo icons found for \"<span class=\"font-medium\">{searchQuery}</span>\"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<!-- Empty state -->\n\t\t\t\t\t<div class=\"flex flex-col items-center gap-3 py-12 text-center\" in:fade={{ duration: prefersReducedMotion ? 0 : 200 }}>\n\t\t\t\t\t\t<iconify-icon\n\t\t\t\t\t\t\ticon={activeTab === 'favorites' ? 'mdi:heart-outline' : activeTab === 'recent' ? 'mdi:history' : 'mdi:magnify'}\n\t\t\t\t\t\t\twidth=\"48\"\n\t\t\t\t\t\t\tclass=\"text-surface-400\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t></iconify-icon>\n\t\t\t\t\t\t<p class=\"text-surface-600 dark:text-surface-50\">\n\t\t\t\t\t\t\t{#if activeTab === 'favorites'}\n\t\t\t\t\t\t\t\tNo favorite icons yet\n\t\t\t\t\t\t\t{:else if activeTab === 'recent'}\n\t\t\t\t\t\t\t\tNo recent selections\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\tStart typing to search icons\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n</div>\n"],"names":["matchIconName","stringToIcon","value","validate","allowSimpleName","provider","colonSeparated","name$1","prefix","result","validateIconName","name","dashSeparated","icon","getIconsTree","data","names","icons","aliases","resolved","resolve","parent","defaultIconDimensions","defaultIconTransformations","defaultIconProps","defaultExtendedIconProps","mergeIconTransformations","obj1","obj2","rotate","mergeIconData","child","key","internalGetIconData","tree","currentProps","parse","parseIconSet","callback","item","optionalPropertyDefaults","checkOptionalProps","defaults","prop","quicklyValidateIconSet","obj","dataStorage","newStorage","getStorage","providerStorage","addIconSet","storage","addIconToStorage","simpleNames","allowSimpleNames","allow","addIcon","addCollection","added","defaultIconSizeCustomisations","defaultIconCustomisations","setAPIModule","getAPIModule","createAPIConfig","source","resources","configStorage","fallBackAPISources","fallBackAPI","addAPIProvider","customConfig","config","getAPIConfig","detectFetch","fetchModule","calculateMaxLength","maxHostLength","url","shouldAbort","status","prepare","results","maxLength","type","length","index","getPath","send","host","params","path","iconsList","urlParams","uri","defaultError","response","fetchAPIModule","removeCallback","storages","id","items","row","updateCallbacks","hasPending","oldLength","idCounter","storeCallback","pendingSources","abort","sortIcons","a","b","lastIcon","localStorage","list","listToIcons","defaultConfig","sendQuery","payload","query","done","resourcesCount","startIndex","nextIndex","startTime","queriesSent","lastError","timer","queue","doneCallbacks","resetTimer","subscribe","overwrite","getQueryStatus","failQuery","clearQueue","moduleResponse","isError","queued","execNext","resource","status$1","initRedundancy","cfg","queries","cleanup","queryCallback","doneCallback","query$1","error","find","emptyCallback$1","redundancyCache","getRedundancyCache","sendAPIQuery","target","redundancy","api","cached","emptyCallback","loadedNewIcons","checkIconNamesForAPI","valid","invalid","parseLoaderResponse","checkMissing","pending","err","parsePossiblyAsyncResponse","loadNewIcons","icons$1","customIconLoader","loadIcons","sortedIcons","newIcons","sources","lastProvider","lastPrefix","providerNewIcons","pendingQueue","monotoneProps","coloredProps","propsToAdd","propsToAddTo","_window","preload","providers","DEBOUNCE_MS","ICONS_PER_PAGE","DEFAULT_LIBRARY","ICONIFY_API_BASE","MAX_RECENT","iconselected","$.prop","$$props","searchQuery","showFavorites","$.state","$.proxy","currentPage","selectedLibrary","iconLibraries","isLoadingLibraries","searchError","debounceTimer","favorites","recentSelections","isLoading","activeTab","showDropdown","selectedIndex","prefersReducedMotion","previewSize","dropdownRef","gridRef","$.derived","$.get","librariesLoaded","hasSearchQuery","isFavorite","hasRecent","hasFavorites","sortedLibraries","visibleLimit","displayIcons","intersectionObserverAction","node","observer","entries","loadMore","searchIcons","handleScroll","debouncedSearch","library","$.set","append","fetchCollectionIcons","controller","timeout","iconIds","logger","allIcons","categoryIcons","fetchIconLibraries","selectIcon","fullIconName","i","showToast","toggleFavorite","targetIcon","copyIconName","removeIcon","handleLibraryChange","handleFocus","handleClickOutside","event","handleKeyDown","iconsToNavigate","scrollToSelected","selectedElement","switchTab","tab","$.user_effect","onMount","mediaQuery","handleChange","e","onDestroy","div","$.sibling","$.first_child","fragment","div_1","root_1","div_2","$.child","iconify_icon","$.template_effect","$.set_custom_element_data","div_3","p","div_4","button","iconify_icon_1","$.reset","button_1","iconify_icon_2","button_2","iconify_icon_3","$.set_attribute","$.set_class","$.clsx","$.transition","scale","quintOut","$.append","$$anchor","$$render","consequent","div_5","node_1","input","$.remove_input_defaults","node_2","button_3","root_2","iconify_icon_4","consequent_1","div_6","root_3","div_7","iconify_icon_5","span","fade","consequent_2","div_8","root_4","div_9","button_4","node_5","button_5","root_5","text_2","$.set_text","consequent_3","button_6","root_6","text_3","consequent_4","div_10","root_7","div_11","select","option","option_1","root_8","$.each","node_9","$$item","$$array","option_2","root_10","$0","alternate","consequent_5","$$value","consequent_6","div_12","node_7","div_13","root_11","div_14","root_13","node_12","div_15","root_14","iconify_icon_6","button_7","root_15","iconify_icon_7","consequent_8","div_16","root_16","iconify_icon_8","consequent_9","div_17","root_17","$$node","consequent_10","div_18","root_19","iconify_icon_9","p_1","span_1","div_19","root_20","iconify_icon_10","p_2","consequent_14","alternate_1","consequent_13","alternate_2","consequent_12","alternate_3","consequent_11","alternate_4","consequent_7","alternate_5","$.event","consequent_15","m.iconpicker_placeholder","$.bind_value"],"mappings":"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","x_google_ignoreList":[0]}