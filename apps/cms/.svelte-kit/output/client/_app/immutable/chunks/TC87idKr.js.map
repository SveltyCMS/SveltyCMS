{"version":3,"file":"TC87idKr.js","sources":["../../../../../../../../node_modules/svelte/src/animate/index.js"],"sourcesContent":["/** @import { FlipParams, AnimationConfig } from './public.js' */\nimport { cubicOut } from '../easing/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {FlipParams} params\n * @returns {AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\n\tvar style = getComputedStyle(node);\n\n\t// find the transform origin, expressed as a pair of values between 0 and 1\n\tvar transform = style.transform === 'none' ? '' : style.transform;\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tox /= node.clientWidth;\n\toy /= node.clientHeight;\n\n\t// calculate effect of parent transforms and zoom\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\n\tvar sx = node.clientWidth / to.width / zoom;\n\tvar sy = node.clientHeight / to.height / zoom;\n\n\t// find the starting position of the transform origin\n\tvar fx = from.left + from.width * ox;\n\tvar fy = from.top + from.height * oy;\n\n\t// find the ending position of the transform origin\n\tvar tx = to.left + to.width * ox;\n\tvar ty = to.top + to.height * oy;\n\n\t// find the translation at the start of the transform\n\tvar dx = (fx - tx) * sx;\n\tvar dy = (fy - ty) * sy;\n\n\t// find the relative scale at the start of the transform\n\tvar dsx = from.width / to.width;\n\tvar dsy = from.height / to.height;\n\n\treturn {\n\t\tdelay,\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tvar x = u * dx;\n\t\t\tvar y = u * dy;\n\t\t\tvar sx = t + u * dsx;\n\t\t\tvar sy = t + u * dsy;\n\n\t\t\treturn `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n\t\t}\n\t};\n}\n\n/**\n * @param {Element} element\n */\nfunction get_zoom(element) {\n\tif ('currentCSSZoom' in element) {\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\n\t}\n\n\t/** @type {Element | null} */\n\tvar current = element;\n\tvar zoom = 1;\n\n\twhile (current !== null) {\n\t\tzoom *= +getComputedStyle(current).zoom;\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\n\t}\n\n\treturn zoom;\n}\n"],"names":["flip","node","from","to","params","delay","duration","d","easing","cubicOut","style","transform","ox","oy","zoom","get_zoom","sx","sy","fx","fy","tx","ty","dx","dy","dsx","dsy","t","u","x","y","element","current"],"mappings":"kCAYO,SAASA,EAAKC,EAAM,CAAE,KAAAC,EAAM,GAAAC,CAAE,EAAIC,EAAS,GAAI,CACrD,GAAI,CAAE,MAAAC,EAAQ,EAAG,SAAAC,EAAYC,GAAM,KAAK,KAAKA,CAAC,EAAI,IAAK,OAAAC,EAASC,CAAQ,EAAKL,EAEzEM,EAAQ,iBAAiBT,CAAI,EAG7BU,EAAYD,EAAM,YAAc,OAAS,GAAKA,EAAM,UACpD,CAACE,EAAIC,CAAE,EAAIH,EAAM,gBAAgB,MAAM,GAAG,EAAE,IAAI,UAAU,EAC9DE,GAAMX,EAAK,YACXY,GAAMZ,EAAK,aAGX,IAAIa,EAAOC,EAASd,CAAI,EACpBe,EAAKf,EAAK,YAAcE,EAAG,MAAQW,EACnCG,EAAKhB,EAAK,aAAeE,EAAG,OAASW,EAGrCI,EAAKhB,EAAK,KAAOA,EAAK,MAAQU,EAC9BO,EAAKjB,EAAK,IAAMA,EAAK,OAASW,EAG9BO,EAAKjB,EAAG,KAAOA,EAAG,MAAQS,EAC1BS,EAAKlB,EAAG,IAAMA,EAAG,OAASU,EAG1BS,GAAMJ,EAAKE,GAAMJ,EACjBO,GAAMJ,EAAKE,GAAMJ,EAGjBO,EAAMtB,EAAK,MAAQC,EAAG,MACtBsB,EAAMvB,EAAK,OAASC,EAAG,OAE3B,MAAO,CACN,MAAAE,EACA,SAAU,OAAOC,GAAa,WAAaA,EAAS,KAAK,KAAKgB,EAAKA,EAAKC,EAAKA,CAAE,CAAC,EAAIjB,EACpF,OAAAE,EACA,IAAK,CAACkB,EAAGC,IAAM,CACd,IAAIC,EAAID,EAAIL,EACRO,EAAIF,EAAIJ,EACRP,EAAKU,EAAIC,EAAIH,EACbP,EAAKS,EAAIC,EAAIF,EAEjB,MAAO,cAAcd,CAAS,cAAciB,CAAC,OAAOC,CAAC,aAAab,CAAE,KAAKC,CAAE,IAC5E,CACF,CACA,CAKA,SAASF,EAASe,EAAS,CAC1B,GAAI,mBAAoBA,EACvB,OAA8BA,EAAQ,eAOvC,QAHIC,EAAUD,EACVhB,EAAO,EAEJiB,IAAY,MAClBjB,GAAQ,CAAC,iBAAiBiB,CAAO,EAAE,KACnCA,EAAyCA,EAAQ,cAGlD,OAAOjB,CACR","x_google_ignoreList":[0]}