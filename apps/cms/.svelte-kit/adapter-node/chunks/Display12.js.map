{"version":3,"file":"Display12.js","sources":["../../../../src/widgets/custom/Currency/Display.svelte"],"sourcesContent":["<!--\n@file src/widgets/custom/Currency/Display.svelte\n@component\n**Currency Widget Display Component**\n\nDisplays numeric values as properly formatted currency strings using browser localization.\nPart of the Three Pillars Architecture for wSidget system.\n\n@example\n<CurrencyDisplay field={{ currencyCode: \"EUR\" }} value={1234.56} />\nRenders: \"1.234,56 €\" (German) or \"$1,234.56\" (US) based on system language\n\n### Props\n- `field: FieldType` - Widget field definition with currency code configuration\n- `value: number | null | undefined` - Numeric currency value to display\n\n### Features\n- **Intl.NumberFormat**: Browser-native currency formatting with proper localization\n- **Multi-Currency Support**: Configurable currency codes (EUR, USD, GBP, etc.)\n- **Automatic Localization**: Uses system language for region-appropriate formatting\n- **Error Handling**: Graceful fallback to \"Invalid amount\" for formatting errors\n- **Null Safety**: Clean \"–\" display for missing or null values\n- **Performance Optimized**: Memoized formatting with `$derived.by()`\n- **Standards Compliant**: Follows international currency display standards\n-->\n\n<script lang=\"ts\">\n\timport { app } from '@shared/stores/store.svelte';\n\timport type { FieldType } from './';\n\n\tconst { field, value }: { field: FieldType; value: number | null | undefined } = $props();\n\n\t// Get the user's current UI language.\n\tconst lang = $derived(app.systemLanguage);\n\n\t// Format the number as a currency string.\n\tconst formattedCurrency = $derived.by(() => {\n\t\tif (typeof value !== 'number') return '–';\n\t\ttry {\n\t\t\t// Use the browser's built-in localization for perfect formatting.\n\t\t\treturn new Intl.NumberFormat(lang as string, {\n\t\t\t\tstyle: 'currency',\n\t\t\t\tcurrency: (field.currencyCode || 'EUR') as string\n\t\t\t}).format(value);\n\t\t} catch (e) {\n\t\t\treturn 'Invalid amount';\n\t\t}\n\t});\n</script>\n\n<span>{formattedCurrency}</span>\n"],"names":[],"mappings":";;;;wCA0BA;AAIS,UAAA,EAAA,OAAO,MAAK,IAAA;UAGd,OAAgB,IAAI;AAGpB,UAAA,qBAAiB,MAAqB;iBAChC,UAAU,SAAQ,QAAS;AAClC,UAAA;AAEQ,eAAA,IAAA,KAAK,aAAa,MAAI,EAChC,OAAO,YACP,UAAW,MAAM,gBAAgB,MAAK,CAAA,EACpC,OAAO,KAAK;AAAA,MAChB,SAAS,GAAG;eACJ;AAAA,MACR;AAAA,IACD,GAAC;0CAGK,iBAAiB,CAAA,SAAA;AAAA,EAFhB,CAAA;;"}