{"version":3,"file":"floatingInput.js","sources":["../../../../../../shared/components/src/system/inputs/floatingInput.svelte"],"sourcesContent":["<!-- \n @file src/components/system/inputs/floatingInput.svelte\n @component \n **FloatingInput component for handling text and password inputs with floating labels**\n\n #### Props\n - `value` {string}: The input value (bindable)\n - `showPassword` {boolean}: Initial visibility of password (bindable, default: false)\n - `disabled` {boolean}: Whether the input is disabled (default: false)\n - `icon` {string}: Icon next to the input (default: '')\n - `iconColor` {string}: Icon color (default: 'gray-500')\n - `inputClass` {string}: Additional input classes (default: '')\n - `label` {string}: Input label (default: '')\n - `labelClass` {string}: Additional label classes (default: '')\n - `minlength` {number}: Minimum input length (optional)\n - `maxlength` {number}: Maximum input length (optional)\n - `name` {string}: Input name (default: '')\n - `required` {boolean}: Whether input is required (default: false)\n - `showPasswordBackgroundColor` {'light' | 'dark'}: Password toggle color (default: 'light')\n - `textColor` {string}: Text color class (default: '!text-error-500')\n - `type` {'text' | 'email' | 'password'}: Input type (default: 'text')\n - `tabindex` {number}: Input tabindex (default: 0)\n - `id` {string}: Input ID (default: derived from label or 'defaultInputId')\n - `autocomplete` {string}: Autocomplete attribute (default: null)\n - `onClick` {function}: Click event handler (optional)\n - `onInput` {function}: Input event handler (optional)\n - `onkeydown` {function}: Keydown event handler (optional)\n\n ### Features\n - Floating labels for better UX\n - Password visibility toggle for password inputs\n - Full ARIA support for accessibility\n - Customizable styling via props\n-->\n\n<script lang=\"ts\">\n\timport type { FloatingInputProps } from './types';\n\n\tlet {\n\t\tvalue = $bindable(''),\n\t\tshowPassword = $bindable(false),\n\t\tdisabled = false,\n\t\ticon = '',\n\t\ticonColor = 'gray',\n\t\tinputClass = '',\n\t\tlabel = '',\n\t\tlabelClass = '',\n\t\tminlength,\n\t\tmaxlength,\n\t\tname = '',\n\t\trequired = false,\n\t\tpasswordIconColor = 'gray',\n\t\ttextColor = 'black',\n\t\ttype = 'text',\n\t\ttabindex = 0,\n\t\tid = '',\n\t\tautocomplete,\n\t\tautocapitalize = 'none',\n\t\tspellcheck = false,\n\t\tautofocus = false,\n\t\tinvalid = false,\n\t\terrorMessage = '',\n\t\tonClick,\n\t\tonInput,\n\t\tonkeydown,\n\t\tonPaste,\n\t\t...rest\n\t}: FloatingInputProps = $props();\n\n\tlet inputElement = $state<HTMLInputElement | null>(null);\n\tconst currentId = $derived(id || (label ? label.toLowerCase().replace(/\\s+/g, '-') : 'defaultInputId'));\n\tconst errorId = $derived(errorMessage ? `error-${currentId}` : undefined);\n\tconst effectiveType = $derived(showPassword && type === 'password' ? 'text' : type);\n\tconst isTextColorClass = $derived(textColor.includes('text-') || textColor.includes(' '));\n\n\t$effect(() => {\n\t\tif (autofocus && inputElement) {\n\t\t\tinputElement.focus();\n\t\t}\n\t});\n\n\tfunction togglePasswordVisibility(event: Event): void {\n\t\tevent.preventDefault();\n\t\tshowPassword = !showPassword;\n\t}\n\n\tfunction handleIconKeyDown(event: KeyboardEvent): void {\n\t\tif (event.key === 'Enter' || event.key === ' ') {\n\t\t\tevent.preventDefault();\n\t\t\ttogglePasswordVisibility(event);\n\t\t}\n\t}\n</script>\n\n<div class=\"relative w-full\">\n\t<div class=\"group relative flex w-full items-center\" role=\"group\" aria-labelledby={currentId}>\n\t\t<input\n\t\t\tbind:this={inputElement}\n\t\t\tbind:value\n\t\t\t{name}\n\t\t\t{minlength}\n\t\t\t{maxlength}\n\t\t\t{disabled}\n\t\t\t{tabindex}\n\t\t\tautocomplete={autocomplete ?? undefined}\n\t\t\t{autocapitalize}\n\t\t\t{spellcheck}\n\t\t\taria-required={required}\n\t\t\taria-invalid={invalid}\n\t\t\taria-describedby={errorId}\n\t\t\tonclick={onClick}\n\t\t\toninput={(e) => onInput?.(e.currentTarget.value)}\n\t\t\tonpaste={onPaste}\n\t\t\t{onkeydown}\n\t\t\ttype={effectiveType}\n\t\t\tstyle={!isTextColorClass && textColor ? `color: ${textColor};` : ''}\n\t\t\tclass=\"peer block h-12 w-full appearance-none border-0 border-b-2 border-surface-300 bg-transparent pl-8 pr-6 pb-1 pt-5 text-base focus:border-tertiary-600 focus:outline-none focus:ring-0 disabled:opacity-50 dark:border-surface-400 dark:focus:border-tertiary-500 {inputClass} {isTextColorClass\n\t\t\t\t? textColor\n\t\t\t\t: ''}\"\n\t\t\tclass:!border-error-500={invalid}\n\t\t\tclass:dark:!border-error-500={invalid}\n\t\t\tclass:pr-10={type === 'password'}\n\t\t\tplaceholder=\" \"\n\t\t\tid={currentId}\n\t\t\t{...rest}\n\t\t/>\n\n\t\t{#if icon}\n\t\t\t<iconify-icon\n\t\t\t\t{icon}\n\t\t\t\twidth=\"1.125em\"\n\t\t\t\tclass=\"absolute left-0 top-3\"\n\t\t\t\tstyle={iconColor !== 'gray' ? `color: ${iconColor};` : ''}\n\t\t\t\tclass:text-surface-500={iconColor === 'gray'}\n\t\t\t\tclass:dark:text-surface-50={iconColor === 'gray'}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></iconify-icon>\n\t\t{/if}\n\n\t\t{#if type === 'password'}\n\t\t\t<iconify-icon\n\t\t\t\ttabindex=\"0\"\n\t\t\t\trole=\"button\"\n\t\t\t\ticon={showPassword ? 'bi:eye-fill' : 'bi:eye-slash-fill'}\n\t\t\t\taria-label={showPassword ? 'Hide password' : 'Show password'}\n\t\t\t\taria-pressed={showPassword}\n\t\t\t\tclass=\"absolute right-2 top-3 cursor-pointer hover:opacity-75 focus:outline-none text-surface-500 dark:text-surface-50\"\n\t\t\t\twidth=\"24\"\n\t\t\t\tstyle={passwordIconColor !== 'gray' ? `color: ${passwordIconColor};` : ''}\n\t\t\t\tonkeydown={handleIconKeyDown}\n\t\t\t\tonclick={togglePasswordVisibility}\n\t\t\t></iconify-icon>\n\t\t{/if}\n\n\t\t{#if label}\n\t\t\t<label\n\t\t\t\tfor={currentId}\n\t\t\t\tstyle={!isTextColorClass && textColor ? `color: ${textColor};` : ''}\n\t\t\t\tclass=\"pointer-events-none absolute left-8 top-1.5 origin-left -translate-y-3 scale-75 transform text-base text-surface-500 transition-all duration-200 ease-in-out peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:text-base peer-focus:-translate-y-3 peer-focus:scale-75 peer-focus:text-tertiary-500! peer-disabled:text-surface-500 {value\n\t\t\t\t\t? `-translate-y-3 scale-75 ${invalid ? 'text-error-500!' : 'text-tertiary-500!'}`\n\t\t\t\t\t: ''} {isTextColorClass ? textColor : ''} {labelClass}\"\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t\t{#if required}\n\t\t\t\t\t<span class=\"text-error-500\" aria-hidden=\"true\">*</span>\n\t\t\t\t{/if}\n\t\t\t</label>\n\t\t{/if}\n\t</div>\n\n\t{#if invalid && errorMessage}\n\t\t<p id={errorId} class=\"mt-1 text-xs text-error-500\" role=\"alert\">\n\t\t\t{errorMessage}\n\t\t</p>\n\t{/if}\n</div>\n"],"names":["$.attributes","$.stringify","$.attr_class","$.attr_style","$$renderer","$.attr","$.escape"],"mappings":";;wCAmCA;;MAIE,QAAkB;AAAA,MAClB,eAAyB;AAAA,MACzB,WAAW;AAAA,MACX,OAAO;AAAA,MACP,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,aAAa;AAAA,MACb;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MACP,WAAW;AAAA,MACX,oBAAoB;AAAA,MACpB,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,WAAW;AAAA,MACX,KAAK;AAAA,MACL;AAAA,MACA,iBAAiB;AAAA,MACjB,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,eAAe;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;;MACG,GAAA;AAAA;UAIE,YAAqB,OAAO,QAAQ,MAAM,YAAW,EAAG,QAAQ,QAAQ,GAAG,IAAI;AAC/E,UAAA,UAAmB,eAAY,SAAY,SAAS,KAAK;UACzD,gBAAyB,gBAAgB,SAAS,aAAa,SAAS;UACxE,mBAA4B,UAAU,SAAS,OAAO,KAAK,UAAU,SAAS,GAAG;8IAsBJ,SAAS,CAAA,UAAAA;AAAAA;;QAIzF;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACa,cAAA,gBAAgB;AAAA,QAC7B;AAAA,QACA;AAAA,yBACc;AAAA,wBACD;AAAA,4BACI;AAAA,cAKZ;AAAA,QACE,OAAA,CAAA,oBAAoB,YAAS,UAAa,SAAS,MAAM;AAAA,4RACuM,UAAU,CAAA,IAAAC,UAAG,mBAClR,YACA,EAAE,CAAA;AAAA;YAKD;AAAA,WACA;AAAA;;;6BALqB;AAAA,kCACK;AAAA,QACjB,SAAA,SAAS;AAAA;;;;QAMlB,MAAI;;oDAEN,IAAI,CAAA,mBAAAC,WAAA,yBAAA,QAAA;AAAA,QAImB,oBAAA,cAAc;AAAA,QACV,wBAAA,cAAc;AAAA,MAFnC,CAAA,CAAA,GAAAC,WAAA,cAAc,SAAM,UAAa,SAAS,MAAM,EAAE,CAAA,qCAAA;AAAA;;;;AAOtD,QAAA,SAAS,YAAU;;AAIhB,MAAAC,YAAA,KAAA,2CAAAC,KAAA,QAAA,eAAe,gBAAgB,mBAAmB,CAAA,GAAAA,KAAA,cAC5C,eAAe,kBAAkB,eAAe,CAAA,GAAAA,KAAA,gBAC9C,YAAY,kJAGnB,sBAAsB,SAAM,UAAa,iBAAiB,MAAM,EAAE,CAAA,kBAAA;AAAA;;;;QAMtE,OAAK;;4CAEH,SAAS,CAAA,GAAAF,WAAA,CACN,oBAAoB,sBAAsB,SAAS,MAAM,EAAE,CAAA,GAAAD,WAAA,kXAAAD,UACoT,mCACzV,UAAU,oBAAoB,oBAAoB,KAC7E,EAAE,CAAA,IAAAA,UAAG,mBAAmB,YAAY,EAAE,CAAA,IAAAA,UAAG,UAAU,CAAA,EAAA,CAAA,IAAAK,YAErD,KAAK,CAAA,GAAA;UACD,UAAQ;;;;;;;;;;;AAOX,QAAA,WAAW,cAAY;;AACpB,MAAAF,YAAA,KAAA,KAAAC,KAAA,MAAA,OAAO,kEACZ,YAAY,CAAA,MAAA;AAAA;;;;;EAhFR,CAAA;;"}