{"version":3,"file":"SeoField.js","sources":["../../../../src/widgets/custom/Seo/components/SeoField.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { Locale } from '@shared/paraglide/runtime';\n\timport { tokenTarget } from '@shared/services/token/tokenTarget';\n\n\timport type { Snippet } from 'svelte';\n\n\tinterface Props {\n\t\tid: string;\n\t\tlabel: string;\n\t\tvalue: string;\n\t\tplaceholder?: string;\n\t\ttype?: 'input' | 'textarea';\n\t\trows?: number;\n\t\tmaxLength?: number;\n\t\toptimalMin?: number;\n\t\toptimalMax?: number;\n\t\ttranslated?: boolean;\n\t\tlang: Locale | 'default';\n\t\ttranslationPct?: number;\n\t\tfield: any;\n\t\tonUpdate: (value: string) => void;\n\t\ticon?: Snippet;\n\t}\n\n\tlet {\n\t\tid,\n\t\tlabel,\n\t\tvalue = $bindable(),\n\t\tplaceholder = '',\n\t\ttype = 'input',\n\t\trows = 3,\n\t\tmaxLength,\n\t\toptimalMin = 0,\n\t\toptimalMax = 999,\n\t\ttranslated = false,\n\t\tlang,\n\t\ttranslationPct = 0,\n\t\tfield,\n\t\tonUpdate,\n\t\ticon\n\t}: Props = $props();\n\n\t// Element references\n\tlet inputRef = $state<HTMLInputElement | HTMLTextAreaElement | undefined>(undefined);\n\n\tconst getLengthClass = () => {\n\t\tif (maxLength && value.length > maxLength) return 'text-error-500';\n\t\tif (value.length >= optimalMin && value.length <= optimalMax) return 'text-success-500';\n\t\treturn 'text-surface-400';\n\t};\n</script>\n\n<div class=\"space-y-2\">\n\t<div class=\"flex items-center justify-between mb-1\">\n\t\t<div class=\"flex items-center gap-2\">\n\t\t\t<span class=\"font-bold text-sm\">{label}</span>\n\t\t\t{@render icon?.()}\n\t\t\t<span class=\"text-surface-400 cursor-help\" title={placeholder}>\n\t\t\t\t<iconify-icon icon=\"mdi:information-outline\" width=\"16\"></iconify-icon>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"flex items-center gap-3 text-xs\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"\"\n\t\t\t\ttitle=\"Insert Token\"\n\t\t\t\tonclick={() => {\n\t\t\t\t\tinputRef?.focus();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<iconify-icon icon=\"mdi:code-braces\" width=\"16\" class=\"font-bold text-tertiary-500 dark:text-primary-500\"></iconify-icon>\n\t\t\t</button>\n\t\t\t{#if maxLength}\n\t\t\t\t{#if type === 'input'}\n\t\t\t\t\t<span class={getLengthClass()}>({value.length}/{maxLength})</span>\n\t\t\t\t{:else}\n\t\t\t\t\t<span class={getLengthClass()}>({value.length}/{maxLength})</span>\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t\t{#if translated}\n\t\t\t\t<div class=\"flex items-center gap-1 text-xs\">\n\t\t\t\t\t<iconify-icon icon=\"bi:translate\" width=\"16\"></iconify-icon>\n\t\t\t\t\t<span class=\"font-medium text-tertiary-500 dark:text-primary-500\">{lang.toUpperCase()}</span>\n\t\t\t\t\t<span class=\"font-medium text-surface-400\">({translationPct}%)</span>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<div class=\"relative\">\n\t\t{#if type === 'textarea'}\n\t\t\t<textarea\n\t\t\t\tbind:this={inputRef as HTMLTextAreaElement}\n\t\t\t\t{id}\n\t\t\t\tclass=\"textarea pr-12 resize-y\"\n\t\t\t\t{rows}\n\t\t\t\t{placeholder}\n\t\t\t\tbind:value\n\t\t\t\toninput={(e) => onUpdate((e.currentTarget as HTMLTextAreaElement).value)}\n\t\t\t\tuse:tokenTarget={{ name: field.db_fieldName, label: field.label, collection: field.collection }}\n\t\t\t></textarea>\n\t\t{:else}\n\t\t\t<input\n\t\t\t\tbind:this={inputRef as HTMLInputElement}\n\t\t\t\t{id}\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input pr-12\"\n\t\t\t\t{placeholder}\n\t\t\t\tbind:value\n\t\t\t\toninput={(e) => onUpdate((e.currentTarget as HTMLInputElement).value)}\n\t\t\t\tuse:tokenTarget={{ name: field.db_fieldName, label: field.label, collection: field.collection }}\n\t\t\t/>\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["$$renderer","$.attr_class","$.clsx","$.escape","$.attr"],"mappings":";;wCAAA;;MAyBE;AAAA,MACA;AAAA,MACA,QAAK;AAAA,MACL,cAAc;AAAA,MACd,OAAO;AAAA,MACP,OAAO;AAAA,MACP;AAAA,MACA,aAAa;AAAA,MACb,aAAa;AAAA,MACb,aAAa;AAAA,MACb;AAAA,MACA,iBAAiB;AAAA,MACjB;AAAA,MACA;AAAA,MACA;AAAA;AAMK,UAAA,iBAAc,MAAS;AACxB,UAAA,aAAa,MAAM,SAAS,kBAAkB;UAC9C,MAAM,UAAU,cAAc,MAAM,UAAU,WAAU,QAAS;aAC9D;AAAA,IACR;oLAMmC,KAAK,CAAA,UAAA;AAC7B,WAAIA,WAAA;wFACqC,WAAW,CAAA,mTAAA;QAexD,WAAS;;AACR,UAAA,SAAS,SAAO;;AACP,QAAAA,YAAA,KAAA,QAAAC,WAAAC,KAAA,eAAc,CAAA,CAAA,CAAA,KAAAC,YAAM,MAAM,MAAM,iBAAG,SAAS,CAAA,UAAA;AAAA;;AAE5C,QAAAH,YAAA,KAAA,QAAAC,WAAAC,KAAA,eAAc,CAAA,CAAA,CAAA,KAAAC,YAAM,MAAM,MAAM,iBAAG,SAAS,CAAA,UAAA;AAAA;;;;;;QAGtD,YAAU;;kNAGsD,KAAK,aAAW,CAAA,uDAAAA,YACtC,cAAc,CAAA,iBAAA;AAAA;;;;AAOzD,QAAA,SAAS,YAAU;;8CAGrB,EAAE,CAAA,mCAAAC,KAAA,QAEF,IAAI,CAAA,GAAAA,KAAA,eACJ,WAAW,CAAA,GAAA;;;;;;;;AAQX,MAAAJ,YAAA,KAAA,SAAAI,KAAA,MAAA,EAAE,wDAGF,WAAW,CAAA,GAAAA,KAAA,SAAA,KAAA,CAAA,IAAA;AAAA;;;EAzDR,CAAA;;"}