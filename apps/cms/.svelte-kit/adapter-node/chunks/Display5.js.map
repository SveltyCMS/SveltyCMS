{"version":3,"file":"Display5.js","sources":["../../../../src/widgets/core/Input/Display.svelte"],"sourcesContent":["<!--\n@file src/widgets/core/Input/Display.svelte\n@component\n**Text Input Widget Display Component**\n\nRenders multilingual text content with automatic truncation for list views.\nPart of the Three Pillars Architecture for widget system.\n\n@example\n<TextDisplay field={fieldDefinition} value={{ en: \"Hello World\", de: \"Hallo Welt\" }} />\nRenders current language text with truncation for long content \n\n### Props\n- `field: FieldType` - Widget field definition with translation settings\n- `value: Record<string, string> | null | undefined` - Multilingual text object\n\n### Features\n- **Multilingual Display**: Shows text in current content language automatically\n- **Smart Truncation**: Truncates text longer than 50 characters for list display\n- **Tooltip Support**: Full text available on hover via title attribute\n- **Language Awareness**: Respects field translation settings and content store\n- **Fallback Handling**: Graceful handling of missing or null values\n- **Performance Optimized**: Efficient text processing with `$derived.by()`\n- **Responsive Design**: Optimized for both detail and list view contexts\n-->\n\n<script lang=\"ts\">\n\timport { app } from '@shared/stores/store.svelte';\n\timport { publicEnv } from '@shared/stores/globalSettings.svelte';\n\timport type { FieldType } from './';\n\n\tconst { field, value }: { field: FieldType; value: Record<string, any> | null | undefined } = $props();\n\t// Determine the current language (uses store API from contentLanguage)\n\tconst lang = $derived(\n\t\tfield?.translated ? app.contentLanguage.toLowerCase() : ((publicEnv.DEFAULT_CONTENT_LANGUAGE as string) || 'en').toLowerCase()\n\t);\n\n\t// ✨ IMPROVED: Separate truncation logic from display logic for better performance\n\tconst fullText = $derived(value?.[lang] ?? value?.[Object.keys(value || {})[0]] ?? '–');\n\tconst shouldTruncate = $derived(typeof fullText === 'string' && fullText.length > 50);\n\tconst displayText = $derived(shouldTruncate ? `${fullText.substring(0, 50)}...` : fullText);\n</script>\n\n<!-- ✨ IMPROVED: Better accessibility and visual truncation -->\n<span\n\tclass=\"truncate\"\n\tclass:cursor-help={shouldTruncate}\n\ttitle={shouldTruncate ? fullText : undefined}\n\taria-label={shouldTruncate ? `${displayText} (truncated, full text: ${fullText})` : undefined}\n>\n\t{displayText}\n</span>\n"],"names":["$$renderer","$.attr_class"],"mappings":";;;;wCA0BA;AAKS,UAAA,EAAA,OAAO,MAAK,IAAA;UAEd,OACL,OAAO,aAAa,IAAI,gBAAgB,YAAW,KAAO,UAAU,4BAAuC,MAAM,YAAW;AAIvH,UAAA,WAAoB,QAAQ,IAAI,KAAK,QAAQ,OAAO,KAAK,SAAK,CAAA,CAAA,EAAQ,CAAC,MAAM;UAC7E,iBAAc,OAAmB,aAAa,YAAY,SAAS,SAAS;UAC5E,cAAuB,iBAAc,GAAM,SAAS,UAAU,GAAG,EAAE,CAAA,QAAS;AAM/D,IAAAA,YAAA,KAAA,QAAAC,WAAA,YAAA,QAAA,EAAA,eAAA,eAAc,mBAC1B,iBAAiB,WAAW,MAAS,uBAChC,iBAAoB,GAAA,WAAW,2BAA2B,QAAQ,MAAM,MAAS,iBAE5F,WAAW,CAAA,SAAA;AAAA,EATL,CAAA;;"}