$ bun run test:unit && bun run test:integration && bun run test:e2e
$ bun test --preload ./tests/bun/setup.ts tests/bun/services tests/bun/utils tests/bun/stores tests/bun/widgets
bun test v1.3.3 (274e01c7)

tests/bun/services/SecurityResponseService.test.ts:
(pass) SecurityResponseService > XSS Pattern Detection > should detect simple script tags and return high status [1.00ms]
(pass) SecurityResponseService > XSS Pattern Detection > should detect script tags with attributes and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should detect script tags with whitespace in closing tag before the > and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should detect script tags with newline in closing tag before the > and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should detect script tags with invalid characters in closing tag before the > and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should detect javascript: protocol and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should detect onload attributes and return high status
(pass) SecurityResponseService > XSS Pattern Detection > should not have a false positive on regular text and return allow status

tests/bun/stores/system.test.ts:
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
(pass) System Store - Service Health Management > should initialize with default state [2.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
(pass) System Store - Service Health Management > should update service health status
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
(pass) System Store - Service Health Management > should track service initialization timing [1.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database has 3 consecutive failures {
  failures: 3,
  threshold: "3",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 2 anomalies detected for database
(pass) System Store - Service Health Management > should track consecutive failures [1.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database recovered from failure
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "33.3%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
(pass) System Store - Service Health Management > should reset consecutive failures on success
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: READY â†’ READY {
  reason: undefined,
}
(pass) System Store - Overall State Management > should transition to READY when all services are healthy
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service cache became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service cache uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for cache
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: DEGRADED â†’ DEGRADED {
  reason: "Cache service unavailable",
}
(pass) System Store - Overall State Management > should transition to DEGRADED when some services fail [1.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] âš ï¸ [WARN] Service auth became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service auth uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for auth
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: FAILED â†’ FAILED {
  reason: "Critical services down",
}
(pass) System Store - Overall State Management > should transition to FAILED when critical services fail
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: IDLE â†’ INITIALIZING {
  reason: undefined,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] ðŸš€ System initialization completed in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
  successRate: "100.0%",
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: INITIALIZING â†’ READY {
  reason: undefined,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: READY â†’ DEGRADED {
  reason: undefined,
}
(pass) System Store - Overall State Management > should track state transitions
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "66.7%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
(pass) System Store - Performance Metrics > should track uptime percentage [1.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
(pass) System Store - Performance Metrics > should track restart count
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: IDLE â†’ INITIALIZING {
  reason: undefined,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service auth initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ System auto-transitioned to READY (initialization completed in 1ms)
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service cache initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service contentManager initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service themeManager initialized in 0ms {
  average: "0.00",
  min: 0,
  max: 0,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: READY â†’ READY {
  reason: undefined,
}
(pass) System Store - Performance Metrics > should track initialization attempts
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service auth became unhealthy (failure #1, consecutive: 1) {
  error: undefined,
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service auth uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for auth
(pass) System Store - Service Health Checks > should check individual service health [1.00ms]
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
(pass) System Store - Service Health Checks > should handle all services
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: "Database connection timeout",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
(pass) System Store - Error Handling > should store error messages
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
[2025-12-07 11:35:55] âš ï¸ [WARN] Service database became unhealthy (failure #1, consecutive: 1) {
  error: "Connection error",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "0.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] â„¹ï¸ [INFO] âœ“ Service database recovered from failure
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "50.0%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
(pass) System Store - Error Handling > should clear error on recovery
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ Service database uptime is below threshold {
  uptime: "66.7%",
  threshold: "95%",
}
[2025-12-07 11:35:55] âŒ [ERROR] ðŸš¨ 1 anomaly detected for database
[2025-12-07 11:35:55] â„¹ï¸ [INFO] System state changed: INITIALIZING â†’ READY {
  reason: undefined,
}
[2025-12-07 11:35:55] â„¹ï¸ [INFO] Resetting system state to IDLE
(pass) System Store - State Reset > should reset to initial state [1.00ms]

tests/bun/stores/loadingStore.test.ts:
(pass) Loading Store - Basic Operations > should initialize with no loading state
(pass) Loading Store - Basic Operations > should start loading operation
(pass) Loading Store - Basic Operations > should stop loading operation
(pass) Loading Store - Basic Operations > should handle custom loading reasons
(pass) Loading Store - Concurrent Operations > should handle multiple concurrent operations
(pass) Loading Store - Concurrent Operations > should remain loading until all operations complete
(pass) Loading Store - Concurrent Operations > should update loading reason as operations complete [1.00ms]
(pass) Loading Store - Concurrent Operations > should handle duplicate start calls gracefully
(pass) Loading Store - Context Tracking > should track loading context
(pass) Loading Store - Context Tracking > should support different contexts for same operation
(pass) Loading Store - Timeout Protection > should accept custom timeout
(pass) Loading Store - Timeout Protection > should use default timeout when not specified
(pass) Loading Store - Timeout Protection > should allow disabling timeout with 0
(pass) Loading Store - Clear Operations > should clear all loading states
(pass) Loading Store - Clear Operations > should clear loading even with pending operations
(pass) Loading Store - Operation Types > should handle all predefined operation types
(pass) Loading Store - Operation Types > should handle navigation operations
(pass) Loading Store - Operation Types > should handle image upload operations
(pass) Loading Store - Operation Types > should handle collection load operations
(pass) Loading Store - Edge Cases > should handle stopping non-existent operation
(pass) Loading Store - Edge Cases > should handle empty string operation
(pass) Loading Store - Edge Cases > should maintain state integrity across multiple operations

tests/bun/stores/setupStore.test.ts:
(pass) Setup Store - Type Definitions > should define supported database types
(pass) Setup Store - Type Definitions > should define database config structure
(pass) Setup Store - Type Definitions > should define admin user structure
(pass) Setup Store - Type Definitions > should define system settings structure
(pass) Setup Store - Media Storage Types > should support local storage
(pass) Setup Store - Media Storage Types > should support S3 storage
(pass) Setup Store - Media Storage Types > should support R2 storage
(pass) Setup Store - Media Storage Types > should support Cloudinary storage
(pass) Setup Store - Email Settings > should define email configuration
(pass) Setup Store - Email Settings > should allow SMTP configuration
(pass) Setup Store - Database Types > should support MongoDB
(pass) Setup Store - Database Types > should support MongoDB SRV
(pass) Setup Store - Database Types > should support PostgreSQL
(pass) Setup Store - Database Types > should support MySQL
(pass) Setup Store - Database Types > should support MariaDB
(pass) Setup Store - Validation Scenarios > should validate matching passwords
(pass) Setup Store - Validation Scenarios > should detect mismatched passwords
(pass) Setup Store - Validation Scenarios > should validate email format
(pass) Setup Store - Language Configuration > should support multiple system languages
(pass) Setup Store - Language Configuration > should set default system language
(pass) Setup Store - Language Configuration > should set default content language
(pass) Setup Store - Language Configuration > should support different system and content languages
(pass) Setup Store - Timezone Support > should support UTC timezone
(pass) Setup Store - Timezone Support > should support common timezones
(pass) Setup Store - Default Values > should provide sensible database defaults
(pass) Setup Store - Default Values > should provide sensible system defaults

tests/bun/stores/screenSize.test.ts:
(pass) Screen Size Store - Size Detection > should detect extra small screens (XS)
(pass) Screen Size Store - Size Detection > should detect small screens (SM)
(pass) Screen Size Store - Size Detection > should detect medium screens (MD)
(pass) Screen Size Store - Size Detection > should detect large screens (LG)
(pass) Screen Size Store - Size Detection > should detect extra large screens (XL)
(pass) Screen Size Store - Size Detection > should detect 2x extra large screens (2XL)
(pass) Screen Size Store - Breakpoint Boundaries > should handle breakpoint boundaries correctly
(pass) Screen Size Store - Common Device Sizes > should detect iPhone SE (375px)
(pass) Screen Size Store - Common Device Sizes > should detect iPhone 12/13 (390px)
(pass) Screen Size Store - Common Device Sizes > should detect iPad Mini (768px)
(pass) Screen Size Store - Common Device Sizes > should detect iPad Pro (1024px)
(pass) Screen Size Store - Common Device Sizes > should detect MacBook Air (1280px)
(pass) Screen Size Store - Common Device Sizes > should detect Full HD (1920px)
(pass) Screen Size Store - Common Device Sizes > should detect 4K displays (3840px)
(pass) Screen Size Store - Edge Cases > should handle zero width
(pass) Screen Size Store - Edge Cases > should handle very small widths
(pass) Screen Size Store - Edge Cases > should handle very large widths
(pass) Screen Size Store - Edge Cases > should handle fractional widths
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind xs breakpoint (custom)
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind sm breakpoint
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind md breakpoint
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind lg breakpoint
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind xl breakpoint
(pass) Screen Size Store - Tailwind CSS Alignment > should match Tailwind 2xl breakpoint
(pass) Screen Size Store - Enum Values > should have correct enum values
(pass) Screen Size Store - Enum Values > should return valid enum values for all widths

tests/bun/utils/navigationManager.test.ts:

# Unhandled error between tests
-------------------------------
159 | 			value = newValue;
160 | 		}
161 | 	};
162 | };
163 | globalThis.$derived = (fn: any) => {
164 | 	let value = fn();
                   ^
TypeError: fn is not a function. (In 'fn()', 'fn' is false)
      at <anonymous> (/var/www/vhosts/asset-trade.de/svelte.asset-trade.de/SveltyCMS/tests/bun/setup.ts:164:14)
      at createValidationStore (/var/www/vhosts/asset-trade.de/svelte.asset-trade.de/SveltyCMS/src/stores/store.svelte.ts:626:18)
      at /var/www/vhosts/asset-trade.de/svelte.asset-trade.de/SveltyCMS/src/stores/store.svelte.ts:690:32
-------------------------------


tests/bun/utils/dateUtils.test.ts:
(pass) Date Utils - Type Guards > should validate ISO date strings
(pass) Date Utils - Type Guards > should convert Date to ISO date string
(pass) Date Utils - Type Guards > should convert string to ISO date string
(pass) Date Utils - Type Guards > should handle invalid date strings
(pass) Date Utils - Conversions > should convert various inputs to ISO string
(pass) Date Utils - Conversions > should normalize date inputs
(pass) Date Utils - Conversions > should get current time as ISO string [1.00ms]
(pass) Date Utils - Conversions > should convert ISO string back to Date
(pass) Date Utils - Formatting > should format display date with default options [12.00ms]
(pass) Date Utils - Formatting > should format display date with locale
(pass) Date Utils - Formatting > should format display date with custom options
(pass) Date Utils - Formatting > should format relative dates [1.00ms]
(pass) Date Utils - Formatting > should handle timestamp inputs in formatting
(pass) Date Utils - Formatting > should handle string inputs in formatting
(pass) Date Utils - Edge Cases > should handle leap year dates
(pass) Date Utils - Edge Cases > should handle timezone-aware conversions
(pass) Date Utils - Edge Cases > should handle Unix epoch
(pass) Date Utils - Edge Cases > should handle far future dates

tests/bun/utils/languageUtils.test.ts:
(pass) Language Utils - Get Language Name > should get language names
(pass) Language Utils - Get Language Name > should get language names in specific display locale
(pass) Language Utils - Get Language Name > should handle extended language codes [1.00ms]
(pass) Language Utils - Get Language Name > should handle invalid language codes gracefully
(pass) Language Utils - Get Language Name > should handle empty strings
(pass) Language Utils - Get Language Name > should be case-insensitive for common codes
(pass) Language Utils - Common Languages > should handle all common ISO 639-1 languages [1.00ms]
(pass) Language Utils - Common Languages > should provide language names in different display locales
(pass) Language Utils - Edge Cases > should handle regional variants
(pass) Language Utils - Edge Cases > should handle special characters in language names
(pass) Language Utils - Edge Cases > should return consistent results

tests/bun/utils/crypto.test.ts:
(pass) Crypto Utils - Password Hashing > should hash a password [68.00ms]
(pass) Crypto Utils - Password Hashing > should create unique hashes for same password [128.00ms]
(pass) Crypto Utils - Password Hashing > should verify correct password [117.00ms]
(pass) Crypto Utils - Password Hashing > should reject incorrect password [136.00ms]
(pass) Crypto Utils - Password Hashing > should handle empty passwords [129.00ms]
(pass) Crypto Utils - Password Hashing > should handle long passwords [162.00ms]
(pass) Crypto Utils - Password Hashing > should handle special characters in passwords [138.00ms]
(pass) Crypto Utils - Password Hashing > should handle unicode passwords [131.00ms]
(pass) Crypto Utils - Random Token Generation > should generate random token of default length [1.00ms]
(pass) Crypto Utils - Random Token Generation > should generate token of specified length
(pass) Crypto Utils - Random Token Generation > should generate unique tokens
(pass) Crypto Utils - Random Token Generation > should generate hexadecimal tokens
(pass) Crypto Utils - Random Token Generation > should handle small token sizes
(pass) Crypto Utils - Random Token Generation > should handle large token sizes
(pass) Crypto Utils - Checksum > should create checksum for string
(pass) Crypto Utils - Checksum > should create checksum for object
(pass) Crypto Utils - Checksum > should create consistent checksums
(pass) Crypto Utils - Checksum > should create different checksums for different data
(pass) Crypto Utils - Checksum > should handle object property order
(pass) Crypto Utils - Checksum > should handle nested objects
(pass) Crypto Utils - Checksum > should handle arrays
(pass) Crypto Utils - Checksum > should handle null
(pass) Crypto Utils - Security Properties > should use Argon2id algorithm [66.00ms]
(pass) Crypto Utils - Security Properties > should be computationally expensive [63.00ms]
(pass) Crypto Utils - Security Properties > should resist timing attacks [197.00ms]

tests/bun/utils/errorHandling.test.ts:
(pass) Error Handling - AppError Class > should create AppError with message and status [2.00ms]
(pass) Error Handling - AppError Class > should create AppError with original error
(pass) Error Handling - AppError Class > should create AppError with details
(pass) Error Handling - AppError Class > should have proper error name
(pass) Error Handling - Type Guards > should identify AppError instances
(pass) Error Handling - Type Guards > should identify HttpError-like objects
(pass) Error Handling - Error Messages > should extract message from Error
(pass) Error Handling - Error Messages > should extract message from AppError
(pass) Error Handling - Error Messages > should extract message from HttpError
(pass) Error Handling - Error Messages > should handle string errors
(pass) Error Handling - Error Messages > should handle objects with message property
(pass) Error Handling - Error Messages > should handle unknown error types
(pass) Error Handling - Error Messages > should stringify objects without message
(pass) Error Handling - Wrap Error > should wrap Error in AppError
(pass) Error Handling - Wrap Error > should preserve AppError
(pass) Error Handling - Wrap Error > should wrap HttpError
(pass) Error Handling - Wrap Error > should use custom default message
(pass) Error Handling - Wrap Error > should use default message for unknown errors
(pass) Error Handling - Wrap Error > should use custom default status
(pass) Error Handling - Wrap Error > should wrap string errors [1.00ms]
(pass) Error Handling - Integration > should handle error chain
(pass) Error Handling - Integration > should extract messages from error chain

tests/bun/widgets/widget-system.test.ts:
(pass) Widget System - Factory Pattern > createWidget Function > should create widget factory with minimal config
(pass) Widget System - Factory Pattern > createWidget Function > should create widget with full configuration
(pass) Widget System - Factory Pattern > createWidget Function > should support function-based validation schema
(pass) Widget System - Factory Pattern > createWidget Function > should support static validation schema
(pass) Widget System - Factory Pattern > createWidget Function > should attach GuiSchema to widget
(pass) Widget System - Factory Pattern > createWidget Function > should attach GraphqlSchema to widget
(pass) Widget System - Factory Pattern > createWidget Function > should attach aggregations to widget
(pass) Widget System - Factory Pattern > Field Instance Creation > should create field instance with required properties [1.00ms]
(pass) Widget System - Factory Pattern > Field Instance Creation > should auto-generate db_fieldName from label
(pass) Widget System - Factory Pattern > Field Instance Creation > should apply default values
(pass) Widget System - Factory Pattern > Field Instance Creation > should override defaults with provided values
(pass) Widget System - Factory Pattern > Field Instance Creation > should preserve custom widget-specific properties
(pass) Widget System - Factory Pattern > Field Instance Creation > should handle standard field properties
(pass) Widget System - Factory Pattern > Type Safety > should enforce widget config types
(pass) Widget System - Factory Pattern > Type Safety > should enforce field config types
(pass) Widget System - Factory Pattern > Type Safety > should support generic widget props
(pass) Widget System - Validation Schemas > Schema Types > should support string schema
(pass) Widget System - Validation Schemas > Schema Types > should support number schema
(pass) Widget System - Validation Schemas > Schema Types > should support boolean schema
(pass) Widget System - Validation Schemas > Schema Types > should support object schema
(pass) Widget System - Validation Schemas > Dynamic Schemas > should create schema based on field config
(pass) Widget System - Validation Schemas > Dynamic Schemas > should access field properties in schema function
(pass) Widget System - Component Paths > 3-Pillar Architecture > should support Input component path
(pass) Widget System - Component Paths > 3-Pillar Architecture > should support Display component path
(pass) Widget System - Component Paths > 3-Pillar Architecture > should support both component paths
(pass) Widget System - Component Paths > 3-Pillar Architecture > should handle missing component paths
(pass) Widget System - Widget Metadata > Widget Properties > should store widget name
(pass) Widget System - Widget Metadata > Widget Properties > should store widget icon
(pass) Widget System - Widget Metadata > Widget Properties > should store widget description
(pass) Widget System - Widget Metadata > Widget Properties > should have toString method
(pass) Widget System - Defaults and Inheritance > Default Values > should apply simple defaults
(pass) Widget System - Defaults and Inheritance > Default Values > should apply nested defaults [1.00ms]
(pass) Widget System - Defaults and Inheritance > Default Values > should merge user config with defaults
(pass) Widget System - Edge Cases > Error Handling > should handle empty label gracefully
(pass) Widget System - Edge Cases > Error Handling > should handle special characters in label
(pass) Widget System - Edge Cases > Error Handling > should handle undefined values
(pass) Widget System - Edge Cases > Boundary Cases > should handle very long labels
(pass) Widget System - Edge Cases > Boundary Cases > should handle maximum width value
(pass) Widget System - Edge Cases > Boundary Cases > should handle minimum width value
(pass) Widget System - Advanced Features > Permissions > should support permission configuration
(pass) Widget System - Advanced Features > Translation Support > should support translated flag
(pass) Widget System - Advanced Features > Translation Support > should allow disabling translation
(pass) Widget System - Advanced Features > Helper Text > should support helper text
(pass) Widget System - Advanced Features > Helper Text > should support multiline helper text

1 tests failed:

 219 pass
 1 fail
 1 error
 568 expect() calls
Ran 220 tests across 11 files. [1.52s]
error: script "test:unit" exited with code 1
error: script "test:all" exited with code 1
