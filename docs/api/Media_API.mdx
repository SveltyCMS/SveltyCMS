---
path: 'docs/api/Media_API.mdx'
title: 'Media API Reference'
description: 'Complete API reference for uploading, managing, and serving media files in SveltyCMS with support for local and cloud storage.'
order: 5
icon: 'mdi:image-multiple'
author: 'admin'
created: '2025-10-05'
updated: '2026-01-01'
tags:
  - 'api'
  - 'media'
  - 'upload'
  - 'files'
  - 'images'
  - 'cloud-storage'
  - 's3'
  - 'r2'
  - 'cloudinary'
  - 'transform'
  - 'focal-point'
  - 'watermark'
---

# Media API Reference

## Overview

The Media API provides a robust and type-safe system for managing media files (images, videos, documents) in SveltyCMS. All operations are handled by the `MediaService`, which uses a database-agnostic adapter and supports multi-tenancy.

**Storage Support:**

- **Local Storage**: Files stored on the server filesystem.
- **Cloud Storage**: S3, Cloudflare R2, or Cloudinary.

**Base Path:** `/api/media`

## Quick Reference

| Method | Endpoint                         | Description                |
| ------ | -------------------------------- | -------------------------- |
| POST   | `/api/media/process`             | Upload files               |
| GET    | `/api/media`                     | List media files           |
| GET    | `/api/media/[id]`                | Get media details          |
| PATCH  | `/api/media/[id]`                | Update metadata            |
| DELETE | `/api/media/[id]`                | Delete media               |
| POST   | `/api/media/search`              | Advanced search            |
| GET    | `/api/media/search`              | Search suggestions         |
| POST   | `/api/media/bulk-download`       | Download as archive        |
| POST   | `/api/media/trash`               | Soft delete                |
| POST   | `/api/media/manipulate/[id]`     | Transform media            |
| GET    | `/api/media/exists`              | Check existence            |
| POST   | `/api/media/remote`              | Upload from URL            |
| GET    | `/api/media/transform/[...path]` | On-the-fly image transform |
| PATCH  | `/api/media/[id]/focal`          | Update focal point         |

---

## MediaItem Data Structure

When a file is uploaded, it is stored as a `MediaItem` document in the database. This provides rich metadata and versioning.

```typescript
interface MediaItem {
	_id: string; // Unique database ID
	filename: string; // Original filename
	hash: string; // SHA-256 hash of the file content
	path: string; // Relative storage path (e.g., "global/original/image-hash.jpg")
	url: string; // Publicly accessible URL
	mimeType: string; // File MIME type
	size: number; // File size in bytes
	createdBy: string; // ID of the user who uploaded the file
	createdAt: string; // ISODateString of creation time
	updatedAt: string; // ISODateString of last update time
	thumbnails: {
		// Auto-generated for images (except SVG)
		[key: string]: {
			url: string;
			width: number;
			height: number;
		};
	};
	metadata: {
		// Additional metadata
		originalFilename: string;
		uploadedBy: string;
		uploadTimestamp: string;
		[key: string]: any;
	};
	access: MediaAccess[]; // Access control rules
}
```

## Storage Architecture

SveltyCMS supports multiple storage backends configured via system settings.

### Storage Types

- `local` - Files stored on the server filesystem (default).
- `s3` - Amazon S3 or other S3-compatible services.
- `r2` - Cloudflare R2 (which is S3-compatible).
- `cloudinary` - Cloudinary media platform.

### Configuration Explained

#### Local Storage (Default)

```javascript
// System Settings
{
  "MEDIA_STORAGE_TYPE": "local",
  "MEDIA_FOLDER": "./mediaFolder" // Filesystem path relative to the project root
}
```

#### S3-Compatible Storage (S3 & R2)

For S3-compatible storage, a bucket name is required. The `MEDIA_FOLDER` acts as a prefix (subfolder) within the bucket.

```javascript
// System Settings
{
  "MEDIA_STORAGE_TYPE": "s3", // or "r2"
  "MEDIA_BUCKET_NAME": "your-s3-bucket-name",      // **Required**: The name of your S3 bucket.
  "MEDIA_FOLDER": "cms-media",                   // Optional: A prefix to organize files within the bucket.
  "MEDIA_CLOUD_REGION": "us-east-1",
  "MEDIA_CLOUD_ENDPOINT": "https://s3.amazonaws.com", // Optional for AWS S3, required for other providers.
  "MEDIA_CLOUD_PUBLIC_URL": "https://cdn.example.com" // The public URL of your bucket/CDN.
}
```

#### Cloudinary

```javascript
// System Settings
{
  "MEDIA_STORAGE_TYPE": "cloudinary",
  "MEDIA_FOLDER": "cms-media" // A folder name within your Cloudinary account.
}

// Environment Variables (required)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
```

## Authentication

All media endpoints require an authenticated session via a cookie.

```http
Cookie: session=your-session-id
```

## Endpoints

### 1. Upload a File

Uploads one or more files. The files are processed by `MediaService` and saved as `MediaItem` documents.

#### Request

```http
POST /api/media/process
```

**Headers:**

```http
Content-Type: multipart/form-data
```

**Body (multipart/form-data):**

- `files` (File): One or more files to upload.
- `folder` (string, optional): A virtual folder path to associate the media with.
- `alt` (string, optional): Alt text for images.

**Permissions Required:** `media:write` or authenticated user.

#### Response (Success 200)

A `MediaItem` object for each successfully uploaded file.

```json
{
	"success": true,
	"files": [
		{
			"_id": "db_id_string",
			"filename": "photo.jpg",
			"hash": "a1b2c3d4e5f6",
			"path": "global/original/photo-a1b2c3d4e5f6.jpg",
			"url": "https://cdn.example.com/global/original/photo-a1b2c3d4e5f6.jpg",
			"mimeType": "image/jpeg",
			"size": 123456,
			"createdBy": "user_id_string",
			"createdAt": "2025-11-06T10:00:00.000Z",
			"updatedAt": "2025-11-06T10:00:00.000Z",
			"thumbnails": {
				"small": { "url": "...", "width": 400, "height": 300 },
				"medium": { "url": "...", "width": 800, "height": 600 }
			},
			"metadata": {
				"originalFilename": "photo.jpg",
				"uploadedBy": "user_id_string",
				"uploadTimestamp": "2025-11-06T10:00:00.000Z"
			}
		}
	],
	"message": "Files uploaded successfully"
}
```

---

### 2. List Media Files

Retrieves a paginated list of `MediaItem` documents.

#### Request

```http
GET /api/media
```

**Query Parameters:**

- `limit` (number, optional): Max files per page (default: 20).
- `page` (number, optional): Page number to retrieve (default: 1).
- `folder` (string, optional): Filter by virtual folder path.
- `type` (string, optional): Filter by MIME type (e.g., `image/jpeg`).

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

```json
{
	"success": true,
	"media": [
		// Array of MediaItem objects
	],
	"total": 42
}
```

---

### 3. Get Media File Details

Retrieves a single `MediaItem` by its ID.

#### Request

```http
GET /api/media/[id]
```

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

A single `MediaItem` object.

```json
{
	"success": true,
	"data": {
		// A MediaItem object
	}
}
```

---

### 4. Update Media File Metadata

Updates the metadata of a `MediaItem`. This does not change the file itself.

#### Request

```http
PATCH /api/media/[id]
```

**Body (JSON):**

```json
{
	"filename": "A Better Name.jpg",
	"metadata": {
		"alt": "A descriptive alt text.",
		"tags": ["nature", "mountain"]
	}
}
```

**Permissions Required:** `media:update` or file owner.

#### Response (Success 200)

```json
{
	"success": true,
	"message": "Media file updated successfully"
}
```

---

### 5. Delete a Media File

Permanently deletes a media file from both the database and the storage provider (local or cloud).

#### Request

```http
DELETE /api/media/[id]
```

**Permissions Required:** `media:delete` or admin.

#### Response (Success 200)

```json
{
	"success": true,
	"message": "Media deleted successfully"
}
```

---

### 6. Advanced Media Search

Search media files using multiple criteria including dimensions, dates, EXIF data, file properties, and more.

#### Request

```http
POST /api/media/search
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"criteria": {
		"filename": "photo",
		"tags": ["nature", "landscape"],
		"minWidth": 1920,
		"maxWidth": 3840,
		"minHeight": 1080,
		"aspectRatio": "landscape",
		"minSize": 1048576,
		"maxSize": 10485760,
		"fileTypes": ["image/jpeg", "image/png"],
		"uploadedAfter": "2024-01-01T00:00:00.000Z",
		"uploadedBefore": "2024-12-31T23:59:59.999Z",
		"hasEXIF": true,
		"camera": "Canon",
		"location": "New York",
		"dominantColor": "#FF5733",
		"showDuplicatesOnly": false,
		"hashMatch": "a1b2c3d4e5f6"
	}
}
```

**Search Criteria Options:**

| Field                | Type                                  | Description                               |
| -------------------- | ------------------------------------- | ----------------------------------------- |
| `filename`           | string                                | Partial filename match (case-insensitive) |
| `tags`               | string[]                              | Array of tags (all must match)            |
| `minWidth`           | number                                | Minimum image width in pixels             |
| `maxWidth`           | number                                | Maximum image width in pixels             |
| `minHeight`          | number                                | Minimum image height in pixels            |
| `maxHeight`          | number                                | Maximum image height in pixels            |
| `aspectRatio`        | 'landscape' \| 'portrait' \| 'square' | Image aspect ratio                        |
| `minSize`            | number                                | Minimum file size in bytes                |
| `maxSize`            | number                                | Maximum file size in bytes                |
| `fileTypes`          | string[]                              | Array of MIME types                       |
| `uploadedAfter`      | Date                                  | Files uploaded after this date            |
| `uploadedBefore`     | Date                                  | Files uploaded before this date           |
| `hasEXIF`            | boolean                               | Filter by EXIF data presence              |
| `camera`             | string                                | Camera make/model (partial match)         |
| `location`           | string                                | Location from EXIF data                   |
| `dominantColor`      | string                                | Dominant color (hex format)               |
| `showDuplicatesOnly` | boolean                               | Show only duplicate files                 |
| `hashMatch`          | string                                | Exact hash match                          |

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

```json
{
	"success": true,
	"files": [
		{
			"_id": "file_id_1",
			"filename": "photo-nature.jpg",
			"hash": "a1b2c3d4e5f6",
			"width": 1920,
			"height": 1080,
			"size": 2458624,
			"mimeType": "image/jpeg",
			"tags": ["nature", "landscape"]
		}
	],
	"totalCount": 42,
	"matchedCriteria": ["filename: \"photo\"", "tags: nature, landscape", "minWidth: 1920px", "aspectRatio: landscape"]
}
```

---

### 7. Get Search Suggestions

Retrieve search suggestions based on existing media files (tags, cameras, common dimensions).

#### Request

```http
GET /api/media/search
```

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

```json
{
	"success": true,
	"suggestions": {
		"tags": ["nature", "landscape", "portrait", "urban"],
		"cameras": ["Canon EOS 5D", "Nikon D850", "Sony A7III"],
		"dimensions": [
			{ "width": 1920, "height": 1080 },
			{ "width": 3840, "height": 2160 }
		],
		"sizesRanges": [
			{ "min": 0, "max": 102400, "label": "< 100 KB" },
			{ "min": 102400, "max": 1048576, "label": "100 KB - 1 MB" },
			{ "min": 1048576, "max": 5242880, "label": "1 MB - 5 MB" },
			{ "min": 5242880, "max": 10485760, "label": "5 MB - 10 MB" },
			{ "min": 10485760, "max": null, "label": "> 10 MB" }
		]
	}
}
```

---

### 8. Bulk Download Files

Download multiple media files as a single TAR.GZ archive.

#### Request

```http
POST /api/media/bulk-download
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"fileIds": ["file_id_1", "file_id_2", "file_id_3"]
}
```

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

Binary TAR.GZ stream with headers:

```http
Content-Type: application/gzip
Content-Disposition: attachment; filename="media_files_2024-11-15_143025.tar.gz"
Content-Length: 12582912
```

**Implementation Details:**

- Uses pure Node.js TAR format (no external dependencies)
- Gzip compression level 6
- Automatic cleanup after download (5 seconds)
- Memory-efficient streaming
- Files organized by folder structure in archive

**Example Usage (Client-side):**

```javascript
const response = await fetch('/api/media/bulk-download', {
	method: 'POST',
	headers: { 'Content-Type': 'application/json' },
	body: JSON.stringify({ fileIds: ['id1', 'id2'] })
});

const blob = await response.blob();
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = 'media_files.tar.gz';
a.click();
URL.revokeObjectURL(url);
```

---

### 9. Soft Delete (Move to Trash)

Move a media file to trash without permanent deletion.

#### Request

```http
POST /api/media/trash
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"fileId": "file_id_to_trash"
}
```

**Permissions Required:** `media:delete` or file owner.

#### Response (Success 200)

```json
{
	"success": true,
	"message": "File moved to trash",
	"trashPath": ".trash/global/original/image-hash.jpg"
}
```

**Note:** Files in trash can be manually restored from the filesystem. Trash cleanup is handled by system maintenance tasks.

---

### 10. Image Manipulation

Transform or edit an existing image (resize, crop, rotate, apply filters).

#### Request

```http
POST /api/media/manipulate/[id]
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"operations": [
		{
			"type": "resize",
			"width": 800,
			"height": 600,
			"fit": "cover"
		},
		{
			"type": "rotate",
			"angle": 90
		},
		{
			"type": "blur",
			"sigma": 5
		}
	],
	"outputFormat": "webp",
	"quality": 85
}
```

**Supported Operations:**

- `resize` - Change dimensions
- `crop` - Crop to specific area
- `rotate` - Rotate by angle
- `flip` - Flip horizontal/vertical
- `blur` - Apply Gaussian blur
- `sharpen` - Sharpen image
- `grayscale` - Convert to grayscale
- `tint` - Apply color tint

**Permissions Required:** `media:update` or file owner.

#### Response (Success 200)

```json
{
	"success": true,
	"message": "Image manipulated successfully",
	"newFile": {
		"_id": "new_file_id",
		"url": "https://cdn.example.com/manipulated-image.webp"
	}
}
```

---

### 11. Check File Existence

Check if a file exists by hash or filename without fetching full metadata.

#### Request

```http
GET /api/media/exists?hash=a1b2c3d4e5f6
```

**Or by filename:**

```http
GET /api/media/exists?filename=photo.jpg
```

**Permissions Required:** `media:read` or authenticated user.

#### Response (Success 200)

```json
{
	"success": true,
	"exists": true,
	"fileId": "existing_file_id",
	"filename": "photo.jpg"
}
```

**Use Cases:**

- Duplicate prevention during upload
- File verification before operations
- Client-side validation

---

### 12. Upload from Remote URL

Upload a file from a remote URL (saves a reference for remote videos, downloads and saves for other files).

#### Request

```http
POST /api/media/remote
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"url": "https://example.com/image.jpg",
	"access": "public"
}
```

**Permissions Required:** `media:write` or authenticated user.

#### Response (Success 200)

```json
{
	"success": true,
	"file": {
		"_id": "new_file_id",
		"filename": "image.jpg",
		"url": "https://cdn.example.com/global/original/image-hash.jpg",
		"mimeType": "image/jpeg",
		"size": 245862
	}
}
```

**Supported URLs:**

- Direct image/video/document URLs
- YouTube videos (reference only)
- Vimeo videos (reference only)
- Any publicly accessible HTTP/HTTPS URL

---

### 13. On-the-Fly Image Transform

Transform images on-the-fly with resizing, format conversion, and focal point awareness.

#### Request

```http
GET /api/media/transform/path/to/image.jpg?w=800&h=600&fit=cover&focal=60,30&format=webp&q=85
```

**Query Parameters:**

| Parameter | Type   | Description                                                      | Default  |
| --------- | ------ | ---------------------------------------------------------------- | -------- |
| `w`       | number | Target width in pixels                                           | Original |
| `h`       | number | Target height in pixels                                          | Original |
| `fit`     | string | Resize fit mode: `cover`, `contain`, `fill`, `inside`, `outside` | `cover`  |
| `focal`   | string | Focal point as `x,y` percentages (0-100 each)                    | `50,50`  |
| `format`  | string | Output format: `webp`, `avif`, `jpeg`, `png`                     | Original |
| `q`       | number | Quality (1-100)                                                  | 80       |

**Permissions Required:** Public access (no authentication for cached images).

#### Response (Success 200)

Binary image stream with appropriate headers:

```http
Content-Type: image/webp
Cache-Control: public, max-age=31536000
```

**Focal Point Example:**

Crop a 16:9 thumbnail with the subject (60% from left, 30% from top) staying visible:

```http
GET /api/media/transform/product.jpg?w=400&h=225&focal=60,30
```

---

### 14. Update Focal Point

Quickly update the focal point for an image without opening the full editor.

#### Request

```http
PATCH /api/media/[id]/focal
Content-Type: application/json
```

**Body (JSON):**

```json
{
	"x": 60,
	"y": 30
}
```

**Parameters:**

| Field | Type   | Description                       | Range |
| ----- | ------ | --------------------------------- | ----- |
| `x`   | number | Horizontal position as percentage | 0-100 |
| `y`   | number | Vertical position as percentage   | 0-100 |

**Permissions Required:** `media:update` or file owner.

#### Response (Success 200)

```json
{
	"success": true,
	"data": {
		"focalPoint": { "x": 60, "y": 30 }
	}
}
```

---

## Error Responses

All endpoints may return standard error responses:

### 400 Bad Request

```json
{
	"success": false,
	"error": "Invalid request parameters",
	"details": "File size exceeds 50MB limit"
}
```

### 401 Unauthorized

```json
{
	"success": false,
	"error": "Authentication required"
}
```

### 403 Forbidden

```json
{
	"success": false,
	"error": "Insufficient permissions",
	"required": "media:write"
}
```

### 404 Not Found

```json
{
	"success": false,
	"error": "Media file not found",
	"fileId": "requested_file_id"
}
```

### 500 Internal Server Error

```json
{
	"success": false,
	"error": "Server error occurred",
	"message": "Failed to process image"
}
```

---

## Rate Limiting

API endpoints are rate-limited per user:

- **Upload endpoints**: 10 requests/minute
- **Read endpoints**: 100 requests/minute
- **Delete endpoints**: 20 requests/minute
- **Bulk operations**: 5 requests/minute

**Rate Limit Headers:**

```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1638360000
```

---

## Related Documentation

For more information about the media system, see:

- [Media Gallery Guide](/docs/guides/media-gallery-guide) - User interface and features
- [Media Gallery Structure](/docs/guides/media-gallery-structure) - Architecture and components
- [Media Gallery Implementation](/docs/guides/media-gallery-implementation) - Implementation details
- [Media Handling](/docs/guides/media-handling) - Storage configuration and MediaService

**Complete API Endpoints Summary:**

All 14 media API endpoints documented in this reference:

1. ✅ `POST /api/media/process` - Upload files
2. ✅ `GET /api/media` - List media files
3. ✅ `GET /api/media/[id]` - Get media details
4. ✅ `PATCH /api/media/[id]` - Update metadata
5. ✅ `DELETE /api/media/[id]` - Delete media
6. ✅ `POST /api/media/search` - Advanced search with 18+ criteria
7. ✅ `GET /api/media/search` - Search suggestions (tags, cameras, dimensions)
8. ✅ `POST /api/media/bulk-download` - Bulk download as TAR.GZ archive
9. ✅ `POST /api/media/trash` - Soft delete to trash
10. ✅ `POST /api/media/manipulate/[id]` - Image manipulation (resize, crop, rotate, filters)
11. ✅ `GET /api/media/exists` - Check file existence by hash or filename
12. ✅ `POST /api/media/remote` - Upload from remote URL
13. ✅ `GET /api/media/transform/[...path]` - On-the-fly image transformation with focal point
14. ✅ `PATCH /api/media/[id]/focal` - Quick focal point update

---

## Competitive Analysis

SveltyCMS media handling compared to industry-leading CMS platforms:

### Feature Comparison

| Feature                   | SveltyCMS  | Sanity   | Contentful | Strapi    | WordPress | Drupal    | PayloadCMS |
| ------------------------- | ---------- | -------- | ---------- | --------- | --------- | --------- | ---------- |
| Transform API             | ✅         | ✅       | ✅         | ❌ Plugin | ❌ Plugin | ❌ Plugin | ✅         |
| On-the-fly crop/resize    | ✅         | ✅       | ✅         | ❌        | ❌ Plugin | ❌ Plugin | ✅         |
| Format conversion         | ✅         | ✅       | ✅         | ❌        | ❌ Plugin | ❌        | ✅         |
| Focal point in URL        | ✅         | ✅       | ❌         | ❌        | ❌        | ❌        | ❌         |
| Full canvas editor        | ✅ Konva   | ❌       | ❌ Basic   | ❌ Basic  | ❌ Basic  | ❌ Basic  | ❌         |
| Blur/Annotate tools       | ✅         | ❌       | ❌         | ❌        | ❌        | ❌        | ❌         |
| Watermark widget          | ✅         | ❌       | ❌         | ❌        | ❌ Plugin | ❌ Plugin | ❌         |
| Version history           | ✅         | ✅       | ✅         | ❌        | ✅ Posts  | ✅        | ✅         |
| Cloud storage abstraction | ✅ S3/R2/C | Cloud    | Cloud      | ✅ Plugin | ❌ Plugin | ❌ Plugin | ✅ S3      |
| Bulk download             | ✅ TAR.GZ  | ❌       | ❌         | ❌        | ❌        | ❌        | ❌         |
| Secure sharing links      | ✅ Expiry  | ❌       | ❌         | ❌        | ❌ Plugin | ❌ Plugin | ❌         |
| Advanced search (EXIF)    | ✅         | ⚠️ Basic | ⚠️ Basic   | ⚠️ Basic  | ❌        | ⚠️ Basic  | ⚠️ Basic   |
| Storage analytics         | ✅         | ❌       | ✅         | ❌        | ❌ Plugin | ❌        | ❌         |
| Self-hosted option        | ✅         | ❌       | ❌         | ✅        | ✅        | ✅        | ✅         |
| TypeScript native         | ✅         | ✅       | ✅         | ✅        | ❌        | ❌        | ✅         |

### Platform Summary

| Platform       | Strengths                          | Limitations                          |
| -------------- | ---------------------------------- | ------------------------------------ |
| **SveltyCMS**  | Full editor, bulk ops, self-hosted | Newer ecosystem                      |
| **Sanity**     | Excellent API, real-time           | No self-host, no advanced editing    |
| **Contentful** | Enterprise features, CDN           | No self-host, basic editing          |
| **Strapi**     | Flexible, self-hosted              | Requires plugins for media features  |
| **WordPress**  | Huge plugin ecosystem              | PHP-based, plugins for most features |
| **Drupal**     | Enterprise security, modules       | Complex setup, dated media library   |
| **PayloadCMS** | Modern TypeScript, self-hosted     | Limited image editing tools          |

### Unique SveltyCMS Advantages

1. **Full Canvas Image Editor** - Konva.js-based editor with blur, annotate, crop, watermark, focal point
2. **Bulk Download** - TAR.GZ archive with pure Node.js streaming
3. **Secure Sharing** - Expiring links with password protection, IP limits, download counts
4. **Advanced Search** - 18+ criteria including EXIF, dimensions, camera, dominant color
5. **Focal Point Transform** - Smart cropping with `?focal=x,y` in Transform API
6. **Self-Hosted Freedom** - Full control with S3/R2/Cloudinary or local storage
7. **Storage Analytics** - AI-powered insights and consumption predictions
8. **No Plugin Required** - All features built-in, not dependent on third-party plugins

### Performance Comparison (Estimates)

Performance benchmarks for typical media operations. Estimates based on similar tech stacks and architectural patterns.

#### Transform API Response Times

| Operation                    | SveltyCMS | Sanity CDN | Contentful | WordPress |
| ---------------------------- | --------- | ---------- | ---------- | --------- |
| Resize 1920×1080 → 400×300   | ~45ms     | ~30ms      | ~35ms      | ~150ms\*  |
| Format convert (JPEG → WebP) | ~60ms     | ~40ms      | ~45ms      | ~200ms\*  |
| Focal crop + resize          | ~55ms     | ~40ms      | N/A        | N/A       |
| Cache hit (repeat request)   | ~5ms      | ~10ms      | ~10ms      | ~20ms     |

\*WordPress requires plugin (e.g., ShortPixel) and varies significantly by host.

#### Upload Processing Throughput

| Metric                         | SveltyCMS      | Sanity    | Contentful | PayloadCMS |
| ------------------------------ | -------------- | --------- | ---------- | ---------- |
| Single image upload (5MB)      | ~1.2s          | ~0.8s     | ~1.0s      | ~1.1s      |
| Batch upload (10× 5MB)         | ~8s (parallel) | ~6s       | ~7s        | ~8s        |
| Thumbnail generation (3 sizes) | ~300ms         | Async CDN | Async CDN  | ~350ms     |
| EXIF extraction                | ~15ms          | N/A       | N/A        | ~20ms      |
| Hash computation (SHA-256)     | ~25ms          | N/A       | N/A        | N/A        |

#### Scalability Metrics

| Capability                  | SveltyCMS      | Sanity       | Contentful   | Strapi |
| --------------------------- | -------------- | ------------ | ------------ | ------ |
| Max files (tested)          | 100,000+       | Unlimited\*  | Unlimited\*  | 50,000 |
| Virtual scroll threshold    | 100 files      | N/A          | N/A          | N/A    |
| Gallery render (1000 files) | ~120ms         | ~150ms       | ~180ms       | ~400ms |
| Search latency (10k files)  | ~50ms (client) | ~100ms (API) | ~120ms (API) | ~300ms |
| Bulk download (100 files)   | ~3s streaming  | N/A          | N/A          | N/A    |

\*Cloud-hosted with usage-based pricing.

#### Infrastructure Comparison

| Aspect                    | SveltyCMS        | Cloud CMS   | WordPress    |
| ------------------------- | ---------------- | ----------- | ------------ |
| **Processing Location**   | Server (Sharp)   | Edge CDN    | Server (PHP) |
| **Caching**               | Local + CDN      | Global CDN  | Plugin-based |
| **Cold Start**            | ~200ms (Node.js) | None (edge) | ~500ms (PHP) |
| **Memory per Transform**  | ~50MB            | Platform    | ~100MB       |
| **Concurrent Transforms** | Server RAM bound | Unlimited\* | CPU bound    |

#### Cost Efficiency (Self-Hosted)

| Monthly Volume     | SveltyCMS VPS | Sanity Pro  | Contentful Team | Cloudinary  |
| ------------------ | ------------- | ----------- | --------------- | ----------- |
| 10,000 uploads     | ~$20/month    | $99/month   | $489/month      | $99/month   |
| 100,000 transforms | ~$20/month    | $99/month   | Usage-based     | $249/month  |
| 500GB storage      | ~$50/month    | $199/month  | Enterprise      | $499/month  |
| Unlimited users    | ✅ Included   | Extra seats | Extra seats     | Extra seats |

\*VPS cost assumes 4GB RAM, 2 vCPU cloud server with S3/R2 for storage.

> [!NOTE]
> Performance estimates based on:
>
> - SveltyCMS: Sharp.js on Node.js 20, local SSD storage
> - Cloud CMS: Published CDN latency metrics
> - WordPress: Typical managed hosting with popular plugins
>
> Actual performance varies by infrastructure, network, file types, and configuration.
