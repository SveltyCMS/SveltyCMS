# State Management Architecture

## Dynamic Import Warning Suppression

In our Vite configuration (`vite.config.ts`), we intentionally suppress a specific type of warning: `"dynamic import will not move module"`. This occurs for certain files, notably `widgetStore.svelte.ts` and `richText/Input.svelte`.

### Why This Happens

This warning appears when a module is imported both statically and dynamically within the same dependency graph. In our case, this is a deliberate architectural choice to achieve a balance between eager loading (for immediate availability) and lazy loading (for performance).

- **`widgetStore.svelte.ts`**: The widget store needs to be available early in the application lifecycle, but the widgets themselves are loaded dynamically to keep the initial bundle small.
- **`richText/Input.svelte`**: The rich text editor component is loaded lazily to avoid including its large dependencies in the main bundle, but some of its utilities might be needed upfront.

### Why Suppression is Safe

Suppressing this warning is safe because we have manually verified that the build output is correct and that the dual import does not cause any functional issues. The warning is purely informational in this context. We have configured Vite to only ignore this warning for the specific files where we expect and intend for this behavior to occur.