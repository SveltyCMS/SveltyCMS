---
path: 'docs/guides/media-gallery.mdx'
title: 'Media Gallery & Digital Asset Management'
description: 'Complete guide to the SveltyCMS Media Gallery, covering UX, architecture, performance, and AI-powered tagging.'
order: 6
icon: 'mdi:folder-multiple-image'
author: 'admin'
created: '2025-11-07'
updated: '2026-02-14'
tags:
  - 'media'
  - 'gallery'
  - 'dam'
  - 'architecture'
  - 'ai-tagging'
  - 'performance'
---

# Media Gallery & DAM System

The SveltyCMS Media Gallery is a centralized hub for managing media assets, evolving into a full **Digital Asset Management (DAM)** system. It combines a high-performance UI with robust backend services and AI-powered automation.

---

## üèóÔ∏è Technical Foundation

The Media system is built on a high-performance, decoupled engine. For detailed technical diagrams and the processing pipeline, refer to the [**Media System Architecture**](../architecture/media-system.mdx).

---

## üöÄ Key Features

### 1. High-Performance Rendering

- **Virtual Scrolling**: `VirtualMediaGrid.svelte` handles 10,000+ files by rendering only visible items.
- **Lazy Loading**: Images load only when visible using Intersection Observer.
- **On-the-Fly Transforms**: Responsive images via `GET /api/media/transform` using Sharp.js.

### 2. AI-Native Tagging (Ollama Integration)

Unlike standard CMS platforms that use simple keyword matching, SveltyCMS features **native AI image analysis**.

- **Real-time Analysis**: Uses `llava` via local Ollama to "see" images and generate descriptive tags.
- **Privacy-First**: Analysis happens on your own infrastructure, never sending raw images to third-party APIs.
- **Intelligent Suggestions**: Automated tagging of objects, moods, and settings to improve searchability.

### 3. Enterprise DAM Engine

- **Deep Metadata Extraction**: Automatically parses **EXIF, IPTC, and XMP** data into searchable database fields (Camera model, Software, etc.).
- **Asset Versioning**: Full version history for every media item. Edits and replacements are tracked, allowing for rollbacks and variant management.
- **Hash-Based De-duplication**: Prevents redundant storage by checking file content hashes (SHA-256) before upload.
- **Advanced Search**: Filter by 18+ criteria including EXIF data, dominant color, and camera model.

---

## üì§ Upload & Processing

### Local & Cloud Storage

SveltyCMS supports multiple storage backends with zero code changes:

- **Local**: Filesystem storage.
- **Cloud**: S3-compatible (AWS S3, Cloudflare R2) and Cloudinary.

### Processing Pipeline

1. **Validation**: Client-side size and type checks.
2. **Hashing**: SHA-256 computation for duplicate prevention.
3. **Transformation**: Automatic thumbnail generation (`sm`, `md`, `lg`) and WebP/AVIF conversion.
4. **Metadata Extraction**: EXIF, dimensions, and color palette extraction.
5. **Document Thumbnails**: Automated extraction of the first page of PDFs as a high-quality preview image.

### üñºÔ∏è Document Thumbnails (ImageMagick)

To provide a premium experience, SveltyCMS automatically generates image previews for PDF documents. This allows users to browse PDFs in the gallery visually rather than seeing a generic icon.

> [!IMPORTANT]
> **System Requirements for PDF Thumbnails**
> Document thumbnail generation requires **ImageMagick** and **Ghostscript** to be installed on the server.
>
> **Ubuntu/Debian installation:**
>
> ```bash
> sudo apt-get update
> sudo apt-get install imagemagick ghostscript
> ```
>
> If these tools are missing, the system will gracefully fall back to displaying the standard PDF icon. `sharp` is used for all other image transformations but does not support PDF rendering by default.

---

## üé® Image Editor Integration

The gallery is deeply integrated with the [Image Editor](./image-editor.mdx), supporting:

- **Non-Destructive Editing**: Originals are preserved; edits are saved as variants.
- **Focal Point Management**: Visual crosshair selection for art-directed cropping.
- **Watermarking**: Automatic application of collection-level watermark presets.

---

## üì° API Summary

All media operations are exposed via a type-safe REST API. For a complete reference, see the [Media API Documentation](../api/Media_API.mdx).

| Endpoint                   | Description                                 |
| -------------------------- | ------------------------------------------- |
| `/api/media/process`       | Upload and process new files                |
| `/api/media/ai-tag`        | Generate AI tags for an image               |
| `/api/media/transform`     | On-the-fly resizing and cropping            |
| `/api/media/bulk-download` | Download multiple files as a TAR.GZ archive |

---

## üõ†Ô∏è Best Practices

- **Organize by Folders**: Use virtual folders to keep large sets manageable (<500 files per folder).
- **Leverage WebP**: Use the Transform API to serve modern formats for better performance.
- **Set Focal Points**: Always set a focal point for hero images to ensure they look good on all devices.
- **Monitor Analytics**: Regularly check the Storage Analytics dashboard for optimization opportunities.

---

## üìö Related Documentation

- [**Media API Reference**](../api/Media_API.mdx) - Detailed endpoint documentation.
- [**Image Editor Guide**](./image-editor.mdx) - Technical details on the canvas-based editor.
- [**AI Integration**](./development/ai-integration.mdx) - Details on the MCP server and RAG architecture.
